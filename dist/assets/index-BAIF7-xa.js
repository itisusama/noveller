(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function SI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qf={exports:{}},Ol={},Zf={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function kI(){if(o_)return Qe;o_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,F={};function j(U,Y,xe){this.props=U,this.context=Y,this.refs=F,this.updater=xe||R}j.prototype.isReactComponent={},j.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function K(){}K.prototype=j.prototype;function Z(U,Y,xe){this.props=U,this.context=Y,this.refs=F,this.updater=xe||R}var X=Z.prototype=new K;X.constructor=Z,V(X,j.prototype),X.isPureReactComponent=!0;var de=Array.isArray,Te=Object.prototype.hasOwnProperty,Ce={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function k(U,Y,xe){var Fe,qe={},He=null,tt=null;if(Y!=null)for(Fe in Y.ref!==void 0&&(tt=Y.ref),Y.key!==void 0&&(He=""+Y.key),Y)Te.call(Y,Fe)&&!D.hasOwnProperty(Fe)&&(qe[Fe]=Y[Fe]);var Je=arguments.length-2;if(Je===1)qe.children=xe;else if(1<Je){for(var ut=Array(Je),bt=0;bt<Je;bt++)ut[bt]=arguments[bt+2];qe.children=ut}if(U&&U.defaultProps)for(Fe in Je=U.defaultProps,Je)qe[Fe]===void 0&&(qe[Fe]=Je[Fe]);return{$$typeof:n,type:U,key:He,ref:tt,props:qe,_owner:Ce.current}}function C(U,Y){return{$$typeof:n,type:U.type,key:Y,ref:U.ref,props:U.props,_owner:U._owner}}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(xe){return Y[xe]})}var O=/\/+/g;function x(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Y.toString(36)}function Be(U,Y,xe,Fe,qe){var He=typeof U;(He==="undefined"||He==="boolean")&&(U=null);var tt=!1;if(U===null)tt=!0;else switch(He){case"string":case"number":tt=!0;break;case"object":switch(U.$$typeof){case n:case e:tt=!0}}if(tt)return tt=U,qe=qe(tt),U=Fe===""?"."+x(tt,0):Fe,de(qe)?(xe="",U!=null&&(xe=U.replace(O,"$&/")+"/"),Be(qe,Y,xe,"",function(bt){return bt})):qe!=null&&(P(qe)&&(qe=C(qe,xe+(!qe.key||tt&&tt.key===qe.key?"":(""+qe.key).replace(O,"$&/")+"/")+U)),Y.push(qe)),1;if(tt=0,Fe=Fe===""?".":Fe+":",de(U))for(var Je=0;Je<U.length;Je++){He=U[Je];var ut=Fe+x(He,Je);tt+=Be(He,Y,xe,ut,qe)}else if(ut=I(U),typeof ut=="function")for(U=ut.call(U),Je=0;!(He=U.next()).done;)He=He.value,ut=Fe+x(He,Je++),tt+=Be(He,Y,xe,ut,qe);else if(He==="object")throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return tt}function st(U,Y,xe){if(U==null)return U;var Fe=[],qe=0;return Be(U,Fe,"","",function(He){return Y.call(xe,He,qe++)}),Fe}function dt(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(xe){(U._status===0||U._status===-1)&&(U._status=1,U._result=xe)},function(xe){(U._status===0||U._status===-1)&&(U._status=2,U._result=xe)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var $e={current:null},ae={transition:null},ke={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:ae,ReactCurrentOwner:Ce};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:st,forEach:function(U,Y,xe){st(U,function(){Y.apply(this,arguments)},xe)},count:function(U){var Y=0;return st(U,function(){Y++}),Y},toArray:function(U){return st(U,function(Y){return Y})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Qe.Component=j,Qe.Fragment=t,Qe.Profiler=s,Qe.PureComponent=Z,Qe.StrictMode=r,Qe.Suspense=f,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ke,Qe.act=fe,Qe.cloneElement=function(U,Y,xe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Fe=V({},U.props),qe=U.key,He=U.ref,tt=U._owner;if(Y!=null){if(Y.ref!==void 0&&(He=Y.ref,tt=Ce.current),Y.key!==void 0&&(qe=""+Y.key),U.type&&U.type.defaultProps)var Je=U.type.defaultProps;for(ut in Y)Te.call(Y,ut)&&!D.hasOwnProperty(ut)&&(Fe[ut]=Y[ut]===void 0&&Je!==void 0?Je[ut]:Y[ut])}var ut=arguments.length-2;if(ut===1)Fe.children=xe;else if(1<ut){Je=Array(ut);for(var bt=0;bt<ut;bt++)Je[bt]=arguments[bt+2];Fe.children=Je}return{$$typeof:n,type:U.type,key:qe,ref:He,props:Fe,_owner:tt}},Qe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Qe.createElement=k,Qe.createFactory=function(U){var Y=k.bind(null,U);return Y.type=U,Y},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(U){return{$$typeof:h,render:U}},Qe.isValidElement=P,Qe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:dt}},Qe.memo=function(U,Y){return{$$typeof:m,type:U,compare:Y===void 0?null:Y}},Qe.startTransition=function(U){var Y=ae.transition;ae.transition={};try{U()}finally{ae.transition=Y}},Qe.unstable_act=fe,Qe.useCallback=function(U,Y){return $e.current.useCallback(U,Y)},Qe.useContext=function(U){return $e.current.useContext(U)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(U){return $e.current.useDeferredValue(U)},Qe.useEffect=function(U,Y){return $e.current.useEffect(U,Y)},Qe.useId=function(){return $e.current.useId()},Qe.useImperativeHandle=function(U,Y,xe){return $e.current.useImperativeHandle(U,Y,xe)},Qe.useInsertionEffect=function(U,Y){return $e.current.useInsertionEffect(U,Y)},Qe.useLayoutEffect=function(U,Y){return $e.current.useLayoutEffect(U,Y)},Qe.useMemo=function(U,Y){return $e.current.useMemo(U,Y)},Qe.useReducer=function(U,Y,xe){return $e.current.useReducer(U,Y,xe)},Qe.useRef=function(U){return $e.current.useRef(U)},Qe.useState=function(U){return $e.current.useState(U)},Qe.useSyncExternalStore=function(U,Y,xe){return $e.current.useSyncExternalStore(U,Y,xe)},Qe.useTransition=function(){return $e.current.useTransition()},Qe.version="18.3.1",Qe}var a_;function Zp(){return a_||(a_=1,Zf.exports=kI()),Zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function xI(){if(l_)return Ol;l_=1;var n=Zp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,E={},I=null,R=null;m!==void 0&&(I=""+m),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(R=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:h,key:I,ref:R,props:E,_owner:s.current}}return Ol.Fragment=t,Ol.jsx=u,Ol.jsxs=u,Ol}var u_;function AI(){return u_||(u_=1,Qf.exports=xI()),Qf.exports}var S=AI(),$=Zp();const zt=SI($);var ed={},Yf={exports:{}},An={},Jf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function CI(){return c_||(c_=1,function(n){function e(ae,ke){var fe=ae.length;ae.push(ke);e:for(;0<fe;){var U=fe-1>>>1,Y=ae[U];if(0<s(Y,ke))ae[U]=ke,ae[fe]=Y,fe=U;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ke=ae[0],fe=ae.pop();if(fe!==ke){ae[0]=fe;e:for(var U=0,Y=ae.length,xe=Y>>>1;U<xe;){var Fe=2*(U+1)-1,qe=ae[Fe],He=Fe+1,tt=ae[He];if(0>s(qe,fe))He<Y&&0>s(tt,qe)?(ae[U]=tt,ae[He]=fe,U=He):(ae[U]=qe,ae[Fe]=fe,U=Fe);else if(He<Y&&0>s(tt,fe))ae[U]=tt,ae[He]=fe,U=He;else break e}}return ke}function s(ae,ke){var fe=ae.sortIndex-ke.sortIndex;return fe!==0?fe:ae.id-ke.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,E=null,I=3,R=!1,V=!1,F=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(ae){for(var ke=t(m);ke!==null;){if(ke.callback===null)r(m);else if(ke.startTime<=ae)r(m),ke.sortIndex=ke.expirationTime,e(f,ke);else break;ke=t(m)}}function de(ae){if(F=!1,X(ae),!V)if(t(f)!==null)V=!0,dt(Te);else{var ke=t(m);ke!==null&&$e(de,ke.startTime-ae)}}function Te(ae,ke){V=!1,F&&(F=!1,K(k),k=-1),R=!0;var fe=I;try{for(X(ke),E=t(f);E!==null&&(!(E.expirationTime>ke)||ae&&!M());){var U=E.callback;if(typeof U=="function"){E.callback=null,I=E.priorityLevel;var Y=U(E.expirationTime<=ke);ke=n.unstable_now(),typeof Y=="function"?E.callback=Y:E===t(f)&&r(f),X(ke)}else r(f);E=t(f)}if(E!==null)var xe=!0;else{var Fe=t(m);Fe!==null&&$e(de,Fe.startTime-ke),xe=!1}return xe}finally{E=null,I=fe,R=!1}}var Ce=!1,D=null,k=-1,C=5,P=-1;function M(){return!(n.unstable_now()-P<C)}function O(){if(D!==null){var ae=n.unstable_now();P=ae;var ke=!0;try{ke=D(!0,ae)}finally{ke?x():(Ce=!1,D=null)}}else Ce=!1}var x;if(typeof Z=="function")x=function(){Z(O)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,st=Be.port2;Be.port1.onmessage=O,x=function(){st.postMessage(null)}}else x=function(){j(O,0)};function dt(ae){D=ae,Ce||(Ce=!0,x())}function $e(ae,ke){k=j(function(){ae(n.unstable_now())},ke)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){V||R||(V=!0,dt(Te))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var ke=3;break;default:ke=I}var fe=I;I=ke;try{return ae()}finally{I=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ke){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var fe=I;I=ae;try{return ke()}finally{I=fe}},n.unstable_scheduleCallback=function(ae,ke,fe){var U=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?U+fe:U):fe=U,ae){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=fe+Y,ae={id:v++,callback:ke,priorityLevel:ae,startTime:fe,expirationTime:Y,sortIndex:-1},fe>U?(ae.sortIndex=fe,e(m,ae),t(f)===null&&ae===t(m)&&(F?(K(k),k=-1):F=!0,$e(de,fe-U))):(ae.sortIndex=Y,e(f,ae),V||R||(V=!0,dt(Te))),ae},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ae){var ke=I;return function(){var fe=I;I=ke;try{return ae.apply(this,arguments)}finally{I=fe}}}}(Xf)),Xf}var d_;function RI(){return d_||(d_=1,Jf.exports=CI()),Jf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function PI(){if(h_)return An;h_=1;var n=Zp(),e=RI();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function I(i){return f.call(E,i)?!0:f.call(v,i)?!1:m.test(i)?E[i]=!0:(v[i]=!0,!1)}function R(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function V(i,o,l,d){if(o===null||typeof o>"u"||R(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function F(i,o,l,d,p,y,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){j[i]=new F(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];j[o]=new F(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){j[i]=new F(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){j[i]=new F(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){j[i]=new F(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){j[i]=new F(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){j[i]=new F(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){j[i]=new F(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){j[i]=new F(i,5,!1,i.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(K,Z);j[o]=new F(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(K,Z);j[o]=new F(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(K,Z);j[o]=new F(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){j[i]=new F(i,1,!1,i.toLowerCase(),null,!1,!1)}),j.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){j[i]=new F(i,1,!1,i.toLowerCase(),null,!0,!0)});function X(i,o,l,d){var p=j.hasOwnProperty(o)?j[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(V(o,l,p,d)&&(l=null),d||p===null?I(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var de=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ke(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var fe=Object.assign,U;function Y(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var xe=!1;function Fe(i,o){if(!i||xe)return"";xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var d=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){d=H}i.call(o.prototype)}else{try{throw Error()}catch(H){d=H}i()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=d.stack.split(`
`),w=p.length-1,A=y.length-1;1<=w&&0<=A&&p[w]!==y[A];)A--;for(;1<=w&&0<=A;w--,A--)if(p[w]!==y[A]){if(w!==1||A!==1)do if(w--,A--,0>A||p[w]!==y[A]){var N=`
`+p[w].replace(" at new "," at ");return i.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",i.displayName)),N}while(1<=w&&0<=A);break}}}finally{xe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function qe(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Fe(i.type,!1),i;case 11:return i=Fe(i.type.render,!1),i;case 1:return i=Fe(i.type,!0),i;default:return""}}function He(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case Ce:return"Portal";case C:return"Profiler";case k:return"StrictMode";case x:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case P:return(i._context.displayName||"Context")+".Provider";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case st:return o=i.displayName||null,o!==null?o:He(i.type)||"Memo";case dt:o=i._payload,i=i._init;try{return He(i(o))}catch{}}return null}function tt(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(o);case 8:return o===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ut(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function bt(i){var o=ut(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fn(i){i._valueTracker||(i._valueTracker=bt(i))}function bi(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=ut(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function er(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function xr(i,o){var l=o.checked;return fe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function bs(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Je(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Io(i,o){o=o.checked,o!=null&&X(i,"checked",o,!1)}function So(i,o){Io(i,o);var l=Je(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?W(i,o.type,l):o.hasOwnProperty("defaultValue")&&W(i,o.type,Je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function b(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function W(i,o,l){(o!=="number"||er(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Q=Array.isArray;function ce(i,o,l,d){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Je(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function ue(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function se(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Q(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Je(l)}}function Ae(i,o){var l=Je(o.value),d=Je(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function je(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ge(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ge(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var qt,Ns=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,p)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(qt=qt||document.createElement("div"),qt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=qt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function zn(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xr=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(i){Xr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),tr[o]=tr[i]})});function Ni(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||tr.hasOwnProperty(i)&&tr[i]?(""+o).trim():o+"px"}function Ds(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ni(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var Di=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(i,o){if(o){if(Di[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Qa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function ko(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xo=null,Bn=null,Ar=null;function Ao(i){if(i=vl(i)){if(typeof xo!="function")throw Error(t(280));var o=i.stateNode;o&&(o=mc(o),xo(i.stateNode,i.type,o))}}function Cr(i){Bn?Ar?Ar.push(i):Ar=[i]:Bn=i}function Za(){if(Bn){var i=Bn,o=Ar;if(Ar=Bn=null,Ao(i),o)for(i=0;i<o.length;i++)Ao(o[i])}}function Vs(i,o){return i(o)}function Ya(){}var ei=!1;function Ja(i,o,l){if(ei)return i(o,l);ei=!0;try{return Vs(i,o,l)}finally{ei=!1,(Bn!==null||Ar!==null)&&(Ya(),Za())}}function At(i,o){var l=i.stateNode;if(l===null)return null;var d=mc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Co=!1;if(h)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Co=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Co=!1}function Ls(i,o,l,d,p,y,w,A,N){var H=Array.prototype.slice.call(arguments,3);try{o.apply(l,H)}catch(ne){this.onError(ne)}}var Ms=!1,Ro=null,rr=!1,Xa=null,Th={onError:function(i){Ms=!0,Ro=i}};function Po(i,o,l,d,p,y,w,A,N){Ms=!1,Ro=null,Ls.apply(Th,arguments)}function Fu(i,o,l,d,p,y,w,A,N){if(Po.apply(this,arguments),Ms){if(Ms){var H=Ro;Ms=!1,Ro=null}else throw Error(t(198));rr||(rr=!0,Xa=H)}}function ir(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function js(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function sr(i){if(ir(i)!==i)throw Error(t(188))}function zu(i){var o=i.alternate;if(!o){if(o=ir(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return sr(p),i;if(y===d)return sr(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var w=!1,A=p.child;A;){if(A===l){w=!0,l=p,d=y;break}if(A===d){w=!0,d=p,l=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===l){w=!0,l=y,d=p;break}if(A===d){w=!0,d=y,l=p;break}A=A.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function el(i){return i=zu(i),i!==null?bo(i):null}function bo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=bo(i);if(o!==null)return o;i=i.sibling}return null}var No=e.unstable_scheduleCallback,tl=e.unstable_cancelCallback,Bu=e.unstable_shouldYield,Ih=e.unstable_requestPaint,pt=e.unstable_now,$u=e.unstable_getCurrentPriorityLevel,Us=e.unstable_ImmediatePriority,Oi=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,nl=e.unstable_LowPriority,qu=e.unstable_IdlePriority,Fs=null,Nn=null;function Wu(i){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Fs,i,void 0,(i.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Gu,rl=Math.log,Hu=Math.LN2;function Gu(i){return i>>>=0,i===0?32:31-(rl(i)/Hu|0)|0}var Do=64,Oo=4194304;function Vi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function zs(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,w=l&268435455;if(w!==0){var A=w&~p;A!==0?d=Vi(A):(y&=w,y!==0&&(d=Vi(y)))}else w=l&~p,w!==0?d=Vi(w):y!==0&&(d=Vi(y));if(d===0)return 0;if(o!==0&&o!==d&&!(o&p)&&(p=d&-d,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if(d&4&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-pn(o),p=1<<l,d|=i[l],o&=~p;return d}function Sh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-pn(y),A=1<<w,N=p[w];N===-1?(!(A&l)||A&d)&&(p[w]=Sh(A,o)):N<=o&&(i.expiredLanes|=A),y&=~A}}function Dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Bs(){var i=Do;return Do<<=1,!(Do&4194240)&&(Do=64),i}function Li(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Mi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-pn(o),i[o]=l}function ft(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-pn(l),y=1<<p;o[p]=0,d[p]=-1,i[p]=-1,l&=~y}}function ji(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-pn(l),p=1<<d;p&o|i[d]&o&&(i[d]|=o),l&=~p}}var Xe=0;function Ui(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ku,Vo,Qu,Zu,Yu,il=!1,Rr=[],Zt=null,or=null,ar=null,Fi=new Map,qn=new Map,Pr=[],kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(i,o){switch(i){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Fi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(o.pointerId)}}function wn(i,o,l,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},o!==null&&(o=vl(o),o!==null&&Vo(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function xh(i,o,l,d,p){switch(o){case"focusin":return Zt=wn(Zt,i,o,l,d,p),!0;case"dragenter":return or=wn(or,i,o,l,d,p),!0;case"mouseover":return ar=wn(ar,i,o,l,d,p),!0;case"pointerover":var y=p.pointerId;return Fi.set(y,wn(Fi.get(y)||null,i,o,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,qn.set(y,wn(qn.get(y)||null,i,o,l,d,p)),!0}return!1}function Xu(i){var o=Gs(i.target);if(o!==null){var l=ir(o);if(l!==null){if(o=l.tag,o===13){if(o=js(l),o!==null){i.blockedOn=o,Yu(i.priority,function(){Qu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ni(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Lo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Os=d,l.target.dispatchEvent(d),Os=null}else return o=vl(l),o!==null&&Vo(o),i.blockedOn=l,!1;o.shift()}return!0}function $s(i,o,l){ni(i)&&l.delete(o)}function ec(){il=!1,Zt!==null&&ni(Zt)&&(Zt=null),or!==null&&ni(or)&&(or=null),ar!==null&&ni(ar)&&(ar=null),Fi.forEach($s),qn.forEach($s)}function lr(i,o){i.blockedOn===o&&(i.blockedOn=null,il||(il=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ec)))}function ur(i){function o(p){return lr(p,i)}if(0<Rr.length){lr(Rr[0],i);for(var l=1;l<Rr.length;l++){var d=Rr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Zt!==null&&lr(Zt,i),or!==null&&lr(or,i),ar!==null&&lr(ar,i),Fi.forEach(o),qn.forEach(o),l=0;l<Pr.length;l++)d=Pr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<Pr.length&&(l=Pr[0],l.blockedOn===null);)Xu(l),l.blockedOn===null&&Pr.shift()}var ri=de.ReactCurrentBatchConfig,zi=!0;function vt(i,o,l,d){var p=Xe,y=ri.transition;ri.transition=null;try{Xe=1,sl(i,o,l,d)}finally{Xe=p,ri.transition=y}}function Ah(i,o,l,d){var p=Xe,y=ri.transition;ri.transition=null;try{Xe=4,sl(i,o,l,d)}finally{Xe=p,ri.transition=y}}function sl(i,o,l,d){if(zi){var p=Lo(i,o,l,d);if(p===null)jh(i,o,d,qs,l),Ju(i,d);else if(xh(p,i,o,l,d))d.stopPropagation();else if(Ju(i,d),o&4&&-1<kh.indexOf(i)){for(;p!==null;){var y=vl(p);if(y!==null&&Ku(y),y=Lo(i,o,l,d),y===null&&jh(i,o,d,qs,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else jh(i,o,d,null,l)}}var qs=null;function Lo(i,o,l,d){if(qs=null,i=ko(d),i=Gs(i),i!==null)if(o=ir(i),o===null)i=null;else if(l=o.tag,l===13){if(i=js(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return qs=i,null}function ol(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($u()){case Us:return 1;case Oi:return 4;case $n:case nl:return 16;case qu:return 536870912;default:return 16}default:return 16}}var On=null,Mo=null,En=null;function al(){if(En)return En;var i,o=Mo,l=o.length,d,p="value"in On?On.value:On.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var w=l-i;for(d=1;d<=w&&o[l-d]===p[y-d];d++);return En=p.slice(i,1<d?1-d:void 0)}function jo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function br(){return!0}function ll(){return!1}function Yt(i){function o(l,d,p,y,w){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?br:ll,this.isPropagationStopped=ll,this}return fe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),o}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=Yt(cr),Nr=fe({},cr,{view:0,detail:0}),Ch=Yt(Nr),Fo,ii,Bi,Ws=fe({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bi&&(Bi&&i.type==="mousemove"?(Fo=i.screenX-Bi.screenX,ii=i.screenY-Bi.screenY):ii=Fo=0,Bi=i),Fo)},movementY:function(i){return"movementY"in i?i.movementY:ii}}),zo=Yt(Ws),ul=fe({},Ws,{dataTransfer:0}),tc=Yt(ul),Bo=fe({},Nr,{relatedTarget:0}),$o=Yt(Bo),nc=fe({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),si=Yt(nc),rc=fe({},cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ic=Yt(rc),sc=fe({},cr,{data:0}),cl=Yt(sc),qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=oc[i])?!!o[i]:!1}function Dr(){return ac}var c=fe({},Nr,{key:function(i){if(i.key){var o=qo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=jo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(i){return i.type==="keypress"?jo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Yt(c),_=fe({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Yt(_),z=fe({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),G=Yt(z),le=fe({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Yt(le),Mt=fe({},Ws,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=Yt(Mt),Wt=[9,13,27,32],Nt=h&&"CompositionEvent"in window,Wn=null;h&&"documentMode"in document&&(Wn=document.documentMode);var Vn=h&&"TextEvent"in window&&!Wn,Hs=h&&(!Nt||Wn&&8<Wn&&11>=Wn),Wo=" ",eg=!1;function tg(i,o){switch(i){case"keyup":return Wt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ho=!1;function ET(i,o){switch(i){case"compositionend":return ng(o);case"keypress":return o.which!==32?null:(eg=!0,Wo);case"textInput":return i=o.data,i===Wo&&eg?null:i;default:return null}}function TT(i,o){if(Ho)return i==="compositionend"||!Nt&&tg(i,o)?(i=al(),En=Mo=On=null,Ho=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hs&&o.locale!=="ko"?null:o.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!IT[i.type]:o==="textarea"}function ig(i,o,l,d){Cr(d),o=hc(o,"onChange"),0<o.length&&(l=new Uo("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var dl=null,hl=null;function ST(i){Tg(i,0)}function lc(i){var o=Yo(i);if(bi(o))return i}function kT(i,o){if(i==="change")return o}var sg=!1;if(h){var Rh;if(h){var Ph="oninput"in document;if(!Ph){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ph=typeof og.oninput=="function"}Rh=Ph}else Rh=!1;sg=Rh&&(!document.documentMode||9<document.documentMode)}function ag(){dl&&(dl.detachEvent("onpropertychange",lg),hl=dl=null)}function lg(i){if(i.propertyName==="value"&&lc(hl)){var o=[];ig(o,hl,i,ko(i)),Ja(ST,o)}}function xT(i,o,l){i==="focusin"?(ag(),dl=o,hl=l,dl.attachEvent("onpropertychange",lg)):i==="focusout"&&ag()}function AT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lc(hl)}function CT(i,o){if(i==="click")return lc(o)}function RT(i,o){if(i==="input"||i==="change")return lc(o)}function PT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var dr=typeof Object.is=="function"?Object.is:PT;function fl(i,o){if(dr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(o,p)||!dr(i[p],o[p]))return!1}return!0}function ug(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cg(i,o){var l=ug(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ug(l)}}function dg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?dg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function hg(){for(var i=window,o=er();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=er(i.document)}return o}function bh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function bT(i){var o=hg(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&dg(l.ownerDocument.documentElement,l)){if(d!==null&&bh(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=cg(l,y);var w=cg(l,d);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var NT=h&&"documentMode"in document&&11>=document.documentMode,Go=null,Nh=null,pl=null,Dh=!1;function fg(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dh||Go==null||Go!==er(d)||(d=Go,"selectionStart"in d&&bh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pl&&fl(pl,d)||(pl=d,d=hc(Nh,"onSelect"),0<d.length&&(o=new Uo("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Go)))}function uc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ko={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Oh={},pg={};h&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function cc(i){if(Oh[i])return Oh[i];if(!Ko[i])return i;var o=Ko[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in pg)return Oh[i]=o[l];return i}var mg=cc("animationend"),gg=cc("animationiteration"),yg=cc("animationstart"),_g=cc("transitionend"),vg=new Map,wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(i,o){vg.set(i,o),a(o,[i])}for(var Vh=0;Vh<wg.length;Vh++){var Lh=wg[Vh],DT=Lh.toLowerCase(),OT=Lh[0].toUpperCase()+Lh.slice(1);$i(DT,"on"+OT)}$i(mg,"onAnimationEnd"),$i(gg,"onAnimationIteration"),$i(yg,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(_g,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Eg(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Fu(d,o,void 0,i),i.currentTarget=null}function Tg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var w=d.length-1;0<=w;w--){var A=d[w],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==y&&p.isPropagationStopped())break e;Eg(p,A,H),y=N}else for(w=0;w<d.length;w++){if(A=d[w],N=A.instance,H=A.currentTarget,A=A.listener,N!==y&&p.isPropagationStopped())break e;Eg(p,A,H),y=N}}}if(rr)throw i=Xa,rr=!1,Xa=null,i}function gt(i,o){var l=o[qh];l===void 0&&(l=o[qh]=new Set);var d=i+"__bubble";l.has(d)||(Ig(o,i,2,!1),l.add(d))}function Mh(i,o,l){var d=0;o&&(d|=4),Ig(l,i,d,o)}var dc="_reactListening"+Math.random().toString(36).slice(2);function gl(i){if(!i[dc]){i[dc]=!0,r.forEach(function(l){l!=="selectionchange"&&(VT.has(l)||Mh(l,!1,i),Mh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[dc]||(o[dc]=!0,Mh("selectionchange",!1,o))}}function Ig(i,o,l,d){switch(ol(o)){case 1:var p=vt;break;case 4:p=Ah;break;default:p=sl}l=p.bind(null,o,l,i),p=void 0,!Co||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function jh(i,o,l,d,p){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===p||N.nodeType===8&&N.parentNode===p))return;w=w.return}for(;A!==null;){if(w=Gs(A),w===null)return;if(N=w.tag,N===5||N===6){d=y=w;continue e}A=A.parentNode}}d=d.return}Ja(function(){var H=y,ne=ko(l),re=[];e:{var te=vg.get(i);if(te!==void 0){var pe=Uo,ve=i;switch(i){case"keypress":if(jo(l)===0)break e;case"keydown":case"keyup":pe=g;break;case"focusin":ve="focus",pe=$o;break;case"focusout":ve="blur",pe=$o;break;case"beforeblur":case"afterblur":pe=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=G;break;case mg:case gg:case yg:pe=si;break;case _g:pe=ct;break;case"scroll":pe=Ch;break;case"wheel":pe=nt;break;case"copy":case"cut":case"paste":pe=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=T}var Ee=(o&4)!==0,Ct=!Ee&&i==="scroll",B=Ee?te!==null?te+"Capture":null:te;Ee=[];for(var L=H,q;L!==null;){q=L;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,B!==null&&(oe=At(L,B),oe!=null&&Ee.push(yl(L,oe,q)))),Ct)break;L=L.return}0<Ee.length&&(te=new pe(te,ve,null,l,ne),re.push({event:te,listeners:Ee}))}}if(!(o&7)){e:{if(te=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",te&&l!==Os&&(ve=l.relatedTarget||l.fromElement)&&(Gs(ve)||ve[oi]))break e;if((pe||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=H,ve=ve?Gs(ve):null,ve!==null&&(Ct=ir(ve),ve!==Ct||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=H),pe!==ve)){if(Ee=zo,oe="onMouseLeave",B="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=T,oe="onPointerLeave",B="onPointerEnter",L="pointer"),Ct=pe==null?te:Yo(pe),q=ve==null?te:Yo(ve),te=new Ee(oe,L+"leave",pe,l,ne),te.target=Ct,te.relatedTarget=q,oe=null,Gs(ne)===H&&(Ee=new Ee(B,L+"enter",ve,l,ne),Ee.target=q,Ee.relatedTarget=Ct,oe=Ee),Ct=oe,pe&&ve)t:{for(Ee=pe,B=ve,L=0,q=Ee;q;q=Qo(q))L++;for(q=0,oe=B;oe;oe=Qo(oe))q++;for(;0<L-q;)Ee=Qo(Ee),L--;for(;0<q-L;)B=Qo(B),q--;for(;L--;){if(Ee===B||B!==null&&Ee===B.alternate)break t;Ee=Qo(Ee),B=Qo(B)}Ee=null}else Ee=null;pe!==null&&Sg(re,te,pe,Ee,!1),ve!==null&&Ct!==null&&Sg(re,Ct,ve,Ee,!0)}}e:{if(te=H?Yo(H):window,pe=te.nodeName&&te.nodeName.toLowerCase(),pe==="select"||pe==="input"&&te.type==="file")var Ie=kT;else if(rg(te))if(sg)Ie=RT;else{Ie=AT;var Pe=xT}else(pe=te.nodeName)&&pe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Ie=CT);if(Ie&&(Ie=Ie(i,H))){ig(re,Ie,l,ne);break e}Pe&&Pe(i,te,H),i==="focusout"&&(Pe=te._wrapperState)&&Pe.controlled&&te.type==="number"&&W(te,"number",te.value)}switch(Pe=H?Yo(H):window,i){case"focusin":(rg(Pe)||Pe.contentEditable==="true")&&(Go=Pe,Nh=H,pl=null);break;case"focusout":pl=Nh=Go=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,fg(re,l,ne);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":fg(re,l,ne)}var be;if(Nt)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ho?tg(i,l)&&(Ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(Hs&&l.locale!=="ko"&&(Ho||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ho&&(be=al()):(On=ne,Mo="value"in On?On.value:On.textContent,Ho=!0)),Pe=hc(H,Ve),0<Pe.length&&(Ve=new cl(Ve,i,null,l,ne),re.push({event:Ve,listeners:Pe}),be?Ve.data=be:(be=ng(l),be!==null&&(Ve.data=be)))),(be=Vn?ET(i,l):TT(i,l))&&(H=hc(H,"onBeforeInput"),0<H.length&&(ne=new cl("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:H}),ne.data=be))}Tg(re,o)})}function yl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function hc(i,o){for(var l=o+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=At(i,l),y!=null&&d.unshift(yl(i,y,p)),y=At(i,o),y!=null&&d.push(yl(i,y,p))),i=i.return}return d}function Qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sg(i,o,l,d,p){for(var y=o._reactName,w=[];l!==null&&l!==d;){var A=l,N=A.alternate,H=A.stateNode;if(N!==null&&N===d)break;A.tag===5&&H!==null&&(A=H,p?(N=At(l,y),N!=null&&w.unshift(yl(l,N,A))):p||(N=At(l,y),N!=null&&w.push(yl(l,N,A)))),l=l.return}w.length!==0&&i.push({event:o,listeners:w})}var LT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function kg(i){return(typeof i=="string"?i:""+i).replace(LT,`
`).replace(MT,"")}function fc(i,o,l){if(o=kg(o),kg(i)!==o&&l)throw Error(t(425))}function pc(){}var Uh=null,Fh=null;function zh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(i){return xg.resolve(null).then(i).catch(FT)}:Bh;function FT(i){setTimeout(function(){throw i})}function $h(i,o){var l=o,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),ur(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);ur(o)}function qi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ag(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Or="__reactFiber$"+Zo,_l="__reactProps$"+Zo,oi="__reactContainer$"+Zo,qh="__reactEvents$"+Zo,zT="__reactListeners$"+Zo,BT="__reactHandles$"+Zo;function Gs(i){var o=i[Or];if(o)return o;for(var l=i.parentNode;l;){if(o=l[oi]||l[Or]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Ag(i);i!==null;){if(l=i[Or])return l;i=Ag(i)}return o}i=l,l=i.parentNode}return null}function vl(i){return i=i[Or]||i[oi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Yo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function mc(i){return i[_l]||null}var Wh=[],Jo=-1;function Wi(i){return{current:i}}function yt(i){0>Jo||(i.current=Wh[Jo],Wh[Jo]=null,Jo--)}function mt(i,o){Jo++,Wh[Jo]=i.current,i.current=o}var Hi={},sn=Wi(Hi),Tn=Wi(!1),Ks=Hi;function Xo(i,o){var l=i.type.contextTypes;if(!l)return Hi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function In(i){return i=i.childContextTypes,i!=null}function gc(){yt(Tn),yt(sn)}function Cg(i,o,l){if(sn.current!==Hi)throw Error(t(168));mt(sn,o),mt(Tn,l)}function Rg(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(t(108,tt(i)||"Unknown",p));return fe({},l,d)}function yc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Hi,Ks=sn.current,mt(sn,i),mt(Tn,Tn.current),!0}function Pg(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Rg(i,o,Ks),d.__reactInternalMemoizedMergedChildContext=i,yt(Tn),yt(sn),mt(sn,i)):yt(Tn),mt(Tn,l)}var ai=null,_c=!1,Hh=!1;function bg(i){ai===null?ai=[i]:ai.push(i)}function $T(i){_c=!0,bg(i)}function Gi(){if(!Hh&&ai!==null){Hh=!0;var i=0,o=Xe;try{var l=ai;for(Xe=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}ai=null,_c=!1}catch(p){throw ai!==null&&(ai=ai.slice(i+1)),No(Us,Gi),p}finally{Xe=o,Hh=!1}}return null}var ea=[],ta=0,vc=null,wc=0,Hn=[],Gn=0,Qs=null,li=1,ui="";function Zs(i,o){ea[ta++]=wc,ea[ta++]=vc,vc=i,wc=o}function Ng(i,o,l){Hn[Gn++]=li,Hn[Gn++]=ui,Hn[Gn++]=Qs,Qs=i;var d=li;i=ui;var p=32-pn(d)-1;d&=~(1<<p),l+=1;var y=32-pn(o)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,li=1<<32-pn(o)+p|l<<p|d,ui=y+i}else li=1<<y|l<<p|d,ui=i}function Gh(i){i.return!==null&&(Zs(i,1),Ng(i,1,0))}function Kh(i){for(;i===vc;)vc=ea[--ta],ea[ta]=null,wc=ea[--ta],ea[ta]=null;for(;i===Qs;)Qs=Hn[--Gn],Hn[Gn]=null,ui=Hn[--Gn],Hn[Gn]=null,li=Hn[--Gn],Hn[Gn]=null}var Ln=null,Mn=null,wt=!1,hr=null;function Dg(i,o){var l=Yn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Og(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Ln=i,Mn=qi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Ln=i,Mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Qs!==null?{id:li,overflow:ui}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Yn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Ln=i,Mn=null,!0):!1;default:return!1}}function Qh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Zh(i){if(wt){var o=Mn;if(o){var l=o;if(!Og(i,o)){if(Qh(i))throw Error(t(418));o=qi(l.nextSibling);var d=Ln;o&&Og(i,o)?Dg(d,l):(i.flags=i.flags&-4097|2,wt=!1,Ln=i)}}else{if(Qh(i))throw Error(t(418));i.flags=i.flags&-4097|2,wt=!1,Ln=i}}}function Vg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ln=i}function Ec(i){if(i!==Ln)return!1;if(!wt)return Vg(i),wt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!zh(i.type,i.memoizedProps)),o&&(o=Mn)){if(Qh(i))throw Lg(),Error(t(418));for(;o;)Dg(i,o),o=qi(o.nextSibling)}if(Vg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Mn=qi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Mn=null}}else Mn=Ln?qi(i.stateNode.nextSibling):null;return!0}function Lg(){for(var i=Mn;i;)i=qi(i.nextSibling)}function na(){Mn=Ln=null,wt=!1}function Yh(i){hr===null?hr=[i]:hr.push(i)}var qT=de.ReactCurrentBatchConfig;function wl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var p=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(w){var A=p.refs;w===null?delete A[y]:A[y]=w},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Tc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Mg(i){var o=i._init;return o(i._payload)}function jg(i){function o(B,L){if(i){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function l(B,L){if(!i)return null;for(;L!==null;)o(B,L),L=L.sibling;return null}function d(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function p(B,L){return B=ts(B,L),B.index=0,B.sibling=null,B}function y(B,L,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=2,L):q):(B.flags|=2,L)):(B.flags|=1048576,L)}function w(B){return i&&B.alternate===null&&(B.flags|=2),B}function A(B,L,q,oe){return L===null||L.tag!==6?(L=$f(q,B.mode,oe),L.return=B,L):(L=p(L,q),L.return=B,L)}function N(B,L,q,oe){var Ie=q.type;return Ie===D?ne(B,L,q.props.children,oe,q.key):L!==null&&(L.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===dt&&Mg(Ie)===L.type)?(oe=p(L,q.props),oe.ref=wl(B,L,q),oe.return=B,oe):(oe=Hc(q.type,q.key,q.props,null,B.mode,oe),oe.ref=wl(B,L,q),oe.return=B,oe)}function H(B,L,q,oe){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=qf(q,B.mode,oe),L.return=B,L):(L=p(L,q.children||[]),L.return=B,L)}function ne(B,L,q,oe,Ie){return L===null||L.tag!==7?(L=io(q,B.mode,oe,Ie),L.return=B,L):(L=p(L,q),L.return=B,L)}function re(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return L=$f(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Te:return q=Hc(L.type,L.key,L.props,null,B.mode,q),q.ref=wl(B,null,L),q.return=B,q;case Ce:return L=qf(L,B.mode,q),L.return=B,L;case dt:var oe=L._init;return re(B,oe(L._payload),q)}if(Q(L)||ke(L))return L=io(L,B.mode,q,null),L.return=B,L;Tc(B,L)}return null}function te(B,L,q,oe){var Ie=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ie!==null?null:A(B,L,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Te:return q.key===Ie?N(B,L,q,oe):null;case Ce:return q.key===Ie?H(B,L,q,oe):null;case dt:return Ie=q._init,te(B,L,Ie(q._payload),oe)}if(Q(q)||ke(q))return Ie!==null?null:ne(B,L,q,oe,null);Tc(B,q)}return null}function pe(B,L,q,oe,Ie){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(q)||null,A(L,B,""+oe,Ie);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Te:return B=B.get(oe.key===null?q:oe.key)||null,N(L,B,oe,Ie);case Ce:return B=B.get(oe.key===null?q:oe.key)||null,H(L,B,oe,Ie);case dt:var Pe=oe._init;return pe(B,L,q,Pe(oe._payload),Ie)}if(Q(oe)||ke(oe))return B=B.get(q)||null,ne(L,B,oe,Ie,null);Tc(L,oe)}return null}function ve(B,L,q,oe){for(var Ie=null,Pe=null,be=L,Ve=L=0,Kt=null;be!==null&&Ve<q.length;Ve++){be.index>Ve?(Kt=be,be=null):Kt=be.sibling;var at=te(B,be,q[Ve],oe);if(at===null){be===null&&(be=Kt);break}i&&be&&at.alternate===null&&o(B,be),L=y(at,L,Ve),Pe===null?Ie=at:Pe.sibling=at,Pe=at,be=Kt}if(Ve===q.length)return l(B,be),wt&&Zs(B,Ve),Ie;if(be===null){for(;Ve<q.length;Ve++)be=re(B,q[Ve],oe),be!==null&&(L=y(be,L,Ve),Pe===null?Ie=be:Pe.sibling=be,Pe=be);return wt&&Zs(B,Ve),Ie}for(be=d(B,be);Ve<q.length;Ve++)Kt=pe(be,B,Ve,q[Ve],oe),Kt!==null&&(i&&Kt.alternate!==null&&be.delete(Kt.key===null?Ve:Kt.key),L=y(Kt,L,Ve),Pe===null?Ie=Kt:Pe.sibling=Kt,Pe=Kt);return i&&be.forEach(function(ns){return o(B,ns)}),wt&&Zs(B,Ve),Ie}function Ee(B,L,q,oe){var Ie=ke(q);if(typeof Ie!="function")throw Error(t(150));if(q=Ie.call(q),q==null)throw Error(t(151));for(var Pe=Ie=null,be=L,Ve=L=0,Kt=null,at=q.next();be!==null&&!at.done;Ve++,at=q.next()){be.index>Ve?(Kt=be,be=null):Kt=be.sibling;var ns=te(B,be,at.value,oe);if(ns===null){be===null&&(be=Kt);break}i&&be&&ns.alternate===null&&o(B,be),L=y(ns,L,Ve),Pe===null?Ie=ns:Pe.sibling=ns,Pe=ns,be=Kt}if(at.done)return l(B,be),wt&&Zs(B,Ve),Ie;if(be===null){for(;!at.done;Ve++,at=q.next())at=re(B,at.value,oe),at!==null&&(L=y(at,L,Ve),Pe===null?Ie=at:Pe.sibling=at,Pe=at);return wt&&Zs(B,Ve),Ie}for(be=d(B,be);!at.done;Ve++,at=q.next())at=pe(be,B,Ve,at.value,oe),at!==null&&(i&&at.alternate!==null&&be.delete(at.key===null?Ve:at.key),L=y(at,L,Ve),Pe===null?Ie=at:Pe.sibling=at,Pe=at);return i&&be.forEach(function(II){return o(B,II)}),wt&&Zs(B,Ve),Ie}function Ct(B,L,q,oe){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Te:e:{for(var Ie=q.key,Pe=L;Pe!==null;){if(Pe.key===Ie){if(Ie=q.type,Ie===D){if(Pe.tag===7){l(B,Pe.sibling),L=p(Pe,q.props.children),L.return=B,B=L;break e}}else if(Pe.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===dt&&Mg(Ie)===Pe.type){l(B,Pe.sibling),L=p(Pe,q.props),L.ref=wl(B,Pe,q),L.return=B,B=L;break e}l(B,Pe);break}else o(B,Pe);Pe=Pe.sibling}q.type===D?(L=io(q.props.children,B.mode,oe,q.key),L.return=B,B=L):(oe=Hc(q.type,q.key,q.props,null,B.mode,oe),oe.ref=wl(B,L,q),oe.return=B,B=oe)}return w(B);case Ce:e:{for(Pe=q.key;L!==null;){if(L.key===Pe)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){l(B,L.sibling),L=p(L,q.children||[]),L.return=B,B=L;break e}else{l(B,L);break}else o(B,L);L=L.sibling}L=qf(q,B.mode,oe),L.return=B,B=L}return w(B);case dt:return Pe=q._init,Ct(B,L,Pe(q._payload),oe)}if(Q(q))return ve(B,L,q,oe);if(ke(q))return Ee(B,L,q,oe);Tc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,L!==null&&L.tag===6?(l(B,L.sibling),L=p(L,q),L.return=B,B=L):(l(B,L),L=$f(q,B.mode,oe),L.return=B,B=L),w(B)):l(B,L)}return Ct}var ra=jg(!0),Ug=jg(!1),Ic=Wi(null),Sc=null,ia=null,Jh=null;function Xh(){Jh=ia=Sc=null}function ef(i){var o=Ic.current;yt(Ic),i._currentValue=o}function tf(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function sa(i,o){Sc=i,Jh=ia=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Sn=!0),i.firstContext=null)}function Kn(i){var o=i._currentValue;if(Jh!==i)if(i={context:i,memoizedValue:o,next:null},ia===null){if(Sc===null)throw Error(t(308));ia=i,Sc.dependencies={lanes:0,firstContext:i}}else ia=ia.next=i;return o}var Ys=null;function nf(i){Ys===null?Ys=[i]:Ys.push(i)}function Fg(i,o,l,d){var p=o.interleaved;return p===null?(l.next=l,nf(o)):(l.next=p.next,p.next=l),o.interleaved=l,ci(i,d)}function ci(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ki=!1;function rf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function di(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Qi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,ot&2){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,ci(i,l)}return p=d.interleaved,p===null?(o.next=o,nf(d)):(o.next=p.next,p.next=o),d.interleaved=o,ci(i,l)}function kc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,ji(i,l)}}function Bg(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function xc(i,o,l,d){var p=i.updateQueue;Ki=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var N=A,H=N.next;N.next=null,w===null?y=H:w.next=H,w=N;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==w&&(A===null?ne.firstBaseUpdate=H:A.next=H,ne.lastBaseUpdate=N))}if(y!==null){var re=p.baseState;w=0,ne=H=N=null,A=y;do{var te=A.lane,pe=A.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:pe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ve=i,Ee=A;switch(te=o,pe=l,Ee.tag){case 1:if(ve=Ee.payload,typeof ve=="function"){re=ve.call(pe,re,te);break e}re=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ee.payload,te=typeof ve=="function"?ve.call(pe,re,te):ve,te==null)break e;re=fe({},re,te);break e;case 2:Ki=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,te=p.effects,te===null?p.effects=[A]:te.push(A))}else pe={eventTime:pe,lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(H=ne=pe,N=re):ne=ne.next=pe,w|=te;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;te=A,A=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);if(ne===null&&(N=re),p.baseState=N,p.firstBaseUpdate=H,p.lastBaseUpdate=ne,o=p.shared.interleaved,o!==null){p=o;do w|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);eo|=w,i.lanes=w,i.memoizedState=re}}function $g(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var El={},Vr=Wi(El),Tl=Wi(El),Il=Wi(El);function Js(i){if(i===El)throw Error(t(174));return i}function sf(i,o){switch(mt(Il,o),mt(Tl,i),mt(Vr,El),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ke(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Ke(o,i)}yt(Vr),mt(Vr,o)}function oa(){yt(Vr),yt(Tl),yt(Il)}function qg(i){Js(Il.current);var o=Js(Vr.current),l=Ke(o,i.type);o!==l&&(mt(Tl,i),mt(Vr,l))}function of(i){Tl.current===i&&(yt(Vr),yt(Tl))}var Tt=Wi(0);function Ac(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var af=[];function lf(){for(var i=0;i<af.length;i++)af[i]._workInProgressVersionPrimary=null;af.length=0}var Cc=de.ReactCurrentDispatcher,uf=de.ReactCurrentBatchConfig,Xs=0,It=null,jt=null,Ht=null,Rc=!1,Sl=!1,kl=0,WT=0;function on(){throw Error(t(321))}function cf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!dr(i[l],o[l]))return!1;return!0}function df(i,o,l,d,p,y){if(Xs=y,It=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Cc.current=i===null||i.memoizedState===null?QT:ZT,i=l(d,p),Sl){y=0;do{if(Sl=!1,kl=0,25<=y)throw Error(t(301));y+=1,Ht=jt=null,o.updateQueue=null,Cc.current=YT,i=l(d,p)}while(Sl)}if(Cc.current=Nc,o=jt!==null&&jt.next!==null,Xs=0,Ht=jt=It=null,Rc=!1,o)throw Error(t(300));return i}function hf(){var i=kl!==0;return kl=0,i}function Lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?It.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function Qn(){if(jt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var o=Ht===null?It.memoizedState:Ht.next;if(o!==null)Ht=o,jt=i;else{if(i===null)throw Error(t(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ht===null?It.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function xl(i,o){return typeof o=="function"?o(i):o}function ff(i){var o=Qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=jt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var A=w=null,N=null,H=y;do{var ne=H.lane;if((Xs&ne)===ne)N!==null&&(N=N.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:i(d,H.action);else{var re={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};N===null?(A=N=re,w=d):N=N.next=re,It.lanes|=ne,eo|=ne}H=H.next}while(H!==null&&H!==y);N===null?w=d:N.next=A,dr(d,o.memoizedState)||(Sn=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=N,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do y=p.lane,It.lanes|=y,eo|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function pf(i){var o=Qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);dr(y,o.memoizedState)||(Sn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function Wg(){}function Hg(i,o){var l=It,d=Qn(),p=o(),y=!dr(d.memoizedState,p);if(y&&(d.memoizedState=p,Sn=!0),d=d.queue,mf(Qg.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Al(9,Kg.bind(null,l,d,p,o),void 0,null),Gt===null)throw Error(t(349));Xs&30||Gg(l,o,p)}return p}function Gg(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=It.updateQueue,o===null?(o={lastEffect:null,stores:null},It.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Kg(i,o,l,d){o.value=l,o.getSnapshot=d,Zg(o)&&Yg(i)}function Qg(i,o,l){return l(function(){Zg(o)&&Yg(i)})}function Zg(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!dr(i,l)}catch{return!0}}function Yg(i){var o=ci(i,1);o!==null&&gr(o,i,1,-1)}function Jg(i){var o=Lr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:i},o.queue=i,i=i.dispatch=KT.bind(null,It,i),[o.memoizedState,i]}function Al(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=It.updateQueue,o===null?(o={lastEffect:null,stores:null},It.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Xg(){return Qn().memoizedState}function Pc(i,o,l,d){var p=Lr();It.flags|=i,p.memoizedState=Al(1|o,l,void 0,d===void 0?null:d)}function bc(i,o,l,d){var p=Qn();d=d===void 0?null:d;var y=void 0;if(jt!==null){var w=jt.memoizedState;if(y=w.destroy,d!==null&&cf(d,w.deps)){p.memoizedState=Al(o,l,y,d);return}}It.flags|=i,p.memoizedState=Al(1|o,l,y,d)}function ey(i,o){return Pc(8390656,8,i,o)}function mf(i,o){return bc(2048,8,i,o)}function ty(i,o){return bc(4,2,i,o)}function ny(i,o){return bc(4,4,i,o)}function ry(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function iy(i,o,l){return l=l!=null?l.concat([i]):null,bc(4,4,ry.bind(null,o,i),l)}function gf(){}function sy(i,o){var l=Qn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&cf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function oy(i,o){var l=Qn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&cf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function ay(i,o,l){return Xs&21?(dr(l,o)||(l=Bs(),It.lanes|=l,eo|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Sn=!0),i.memoizedState=l)}function HT(i,o){var l=Xe;Xe=l!==0&&4>l?l:4,i(!0);var d=uf.transition;uf.transition={};try{i(!1),o()}finally{Xe=l,uf.transition=d}}function ly(){return Qn().memoizedState}function GT(i,o,l){var d=Xi(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},uy(i))cy(o,l);else if(l=Fg(i,o,l,d),l!==null){var p=yn();gr(l,i,d,p),dy(l,o,d)}}function KT(i,o,l){var d=Xi(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(uy(i))cy(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var w=o.lastRenderedState,A=y(w,l);if(p.hasEagerState=!0,p.eagerState=A,dr(A,w)){var N=o.interleaved;N===null?(p.next=p,nf(o)):(p.next=N.next,N.next=p),o.interleaved=p;return}}catch{}finally{}l=Fg(i,o,p,d),l!==null&&(p=yn(),gr(l,i,d,p),dy(l,o,d))}}function uy(i){var o=i.alternate;return i===It||o!==null&&o===It}function cy(i,o){Sl=Rc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function dy(i,o,l){if(l&4194240){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,ji(i,l)}}var Nc={readContext:Kn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},QT={readContext:Kn,useCallback:function(i,o){return Lr().memoizedState=[i,o===void 0?null:o],i},useContext:Kn,useEffect:ey,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Pc(4194308,4,ry.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Pc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Pc(4,2,i,o)},useMemo:function(i,o){var l=Lr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=Lr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=GT.bind(null,It,i),[d.memoizedState,i]},useRef:function(i){var o=Lr();return i={current:i},o.memoizedState=i},useState:Jg,useDebugValue:gf,useDeferredValue:function(i){return Lr().memoizedState=i},useTransition:function(){var i=Jg(!1),o=i[0];return i=HT.bind(null,i[1]),Lr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=It,p=Lr();if(wt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Gt===null)throw Error(t(349));Xs&30||Gg(d,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,ey(Qg.bind(null,d,y,i),[i]),d.flags|=2048,Al(9,Kg.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=Lr(),o=Gt.identifierPrefix;if(wt){var l=ui,d=li;l=(d&~(1<<32-pn(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=kl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=WT++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},ZT={readContext:Kn,useCallback:sy,useContext:Kn,useEffect:mf,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:oy,useReducer:ff,useRef:Xg,useState:function(){return ff(xl)},useDebugValue:gf,useDeferredValue:function(i){var o=Qn();return ay(o,jt.memoizedState,i)},useTransition:function(){var i=ff(xl)[0],o=Qn().memoizedState;return[i,o]},useMutableSource:Wg,useSyncExternalStore:Hg,useId:ly,unstable_isNewReconciler:!1},YT={readContext:Kn,useCallback:sy,useContext:Kn,useEffect:mf,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:oy,useReducer:pf,useRef:Xg,useState:function(){return pf(xl)},useDebugValue:gf,useDeferredValue:function(i){var o=Qn();return jt===null?o.memoizedState=i:ay(o,jt.memoizedState,i)},useTransition:function(){var i=pf(xl)[0],o=Qn().memoizedState;return[i,o]},useMutableSource:Wg,useSyncExternalStore:Hg,useId:ly,unstable_isNewReconciler:!1};function fr(i,o){if(i&&i.defaultProps){o=fe({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function yf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:fe({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Dc={isMounted:function(i){return(i=i._reactInternals)?ir(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=yn(),p=Xi(i),y=di(d,p);y.payload=o,l!=null&&(y.callback=l),o=Qi(i,y,p),o!==null&&(gr(o,i,p,d),kc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=yn(),p=Xi(i),y=di(d,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Qi(i,y,p),o!==null&&(gr(o,i,p,d),kc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=yn(),d=Xi(i),p=di(l,d);p.tag=2,o!=null&&(p.callback=o),o=Qi(i,p,d),o!==null&&(gr(o,i,d,l),kc(o,i,d))}};function hy(i,o,l,d,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,w):o.prototype&&o.prototype.isPureReactComponent?!fl(l,d)||!fl(p,y):!0}function fy(i,o,l){var d=!1,p=Hi,y=o.contextType;return typeof y=="object"&&y!==null?y=Kn(y):(p=In(o)?Ks:sn.current,d=o.contextTypes,y=(d=d!=null)?Xo(i,p):Hi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function py(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Dc.enqueueReplaceState(o,o.state,null)}function _f(i,o,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},rf(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Kn(y):(y=In(o)?Ks:sn.current,p.context=Xo(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(yf(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Dc.enqueueReplaceState(p,p.state,null),xc(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function aa(i,o){try{var l="",d=o;do l+=qe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function vf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function wf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var JT=typeof WeakMap=="function"?WeakMap:Map;function my(i,o,l){l=di(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Fc||(Fc=!0,Vf=d),wf(i,o)},l}function gy(i,o,l){l=di(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){wf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){wf(i,o),typeof d!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),l}function yy(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new JT;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),i=hI.bind(null,i,o,l),o.then(i,i))}function _y(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function vy(i,o,l,d,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=di(-1,1),o.tag=2,Qi(l,o,1))),l.lanes|=1),i)}var XT=de.ReactCurrentOwner,Sn=!1;function gn(i,o,l,d){o.child=i===null?Ug(o,null,l,d):ra(o,i.child,l,d)}function wy(i,o,l,d,p){l=l.render;var y=o.ref;return sa(o,p),d=df(i,o,l,d,y,p),l=hf(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,hi(i,o,p)):(wt&&l&&Gh(o),o.flags|=1,gn(i,o,d,p),o.child)}function Ey(i,o,l,d,p){if(i===null){var y=l.type;return typeof y=="function"&&!Bf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Ty(i,o,y,d,p)):(i=Hc(l.type,null,d,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&p)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:fl,l(w,d)&&i.ref===o.ref)return hi(i,o,p)}return o.flags|=1,i=ts(y,d),i.ref=o.ref,i.return=o,o.child=i}function Ty(i,o,l,d,p){if(i!==null){var y=i.memoizedProps;if(fl(y,d)&&i.ref===o.ref)if(Sn=!1,o.pendingProps=d=y,(i.lanes&p)!==0)i.flags&131072&&(Sn=!0);else return o.lanes=i.lanes,hi(i,o,p)}return Ef(i,o,l,d,p)}function Iy(i,o,l){var d=o.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ua,jn),jn|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,mt(ua,jn),jn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,mt(ua,jn),jn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,mt(ua,jn),jn|=d;return gn(i,o,p,l),o.child}function Sy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Ef(i,o,l,d,p){var y=In(l)?Ks:sn.current;return y=Xo(o,y),sa(o,p),l=df(i,o,l,d,y,p),d=hf(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,hi(i,o,p)):(wt&&d&&Gh(o),o.flags|=1,gn(i,o,l,p),o.child)}function ky(i,o,l,d,p){if(In(l)){var y=!0;yc(o)}else y=!1;if(sa(o,p),o.stateNode===null)Vc(i,o),fy(o,l,d),_f(o,l,d,p),d=!0;else if(i===null){var w=o.stateNode,A=o.memoizedProps;w.props=A;var N=w.context,H=l.contextType;typeof H=="object"&&H!==null?H=Kn(H):(H=In(l)?Ks:sn.current,H=Xo(o,H));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==d||N!==H)&&py(o,w,d,H),Ki=!1;var te=o.memoizedState;w.state=te,xc(o,d,w,p),N=o.memoizedState,A!==d||te!==N||Tn.current||Ki?(typeof ne=="function"&&(yf(o,l,ne,d),N=o.memoizedState),(A=Ki||hy(o,l,A,d,te,N,H))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=N),w.props=d,w.state=N,w.context=H,d=A):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,zg(i,o),A=o.memoizedProps,H=o.type===o.elementType?A:fr(o.type,A),w.props=H,re=o.pendingProps,te=w.context,N=l.contextType,typeof N=="object"&&N!==null?N=Kn(N):(N=In(l)?Ks:sn.current,N=Xo(o,N));var pe=l.getDerivedStateFromProps;(ne=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==re||te!==N)&&py(o,w,d,N),Ki=!1,te=o.memoizedState,w.state=te,xc(o,d,w,p);var ve=o.memoizedState;A!==re||te!==ve||Tn.current||Ki?(typeof pe=="function"&&(yf(o,l,pe,d),ve=o.memoizedState),(H=Ki||hy(o,l,H,d,te,ve,N)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ve,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ve,N)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ve),w.props=d,w.state=ve,w.context=N,d=H):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),d=!1)}return Tf(i,o,l,d,y,p)}function Tf(i,o,l,d,p,y){Sy(i,o);var w=(o.flags&128)!==0;if(!d&&!w)return p&&Pg(o,l,!1),hi(i,o,y);d=o.stateNode,XT.current=o;var A=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&w?(o.child=ra(o,i.child,null,y),o.child=ra(o,null,A,y)):gn(i,o,A,y),o.memoizedState=d.state,p&&Pg(o,l,!0),o.child}function xy(i){var o=i.stateNode;o.pendingContext?Cg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Cg(i,o.context,!1),sf(i,o.containerInfo)}function Ay(i,o,l,d,p){return na(),Yh(p),o.flags|=256,gn(i,o,l,d),o.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Sf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Cy(i,o,l){var d=o.pendingProps,p=Tt.current,y=!1,w=(o.flags&128)!==0,A;if((A=w)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),mt(Tt,p&1),i===null)return Zh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(w=d.children,i=d.fallback,y?(d=o.mode,y=o.child,w={mode:"hidden",children:w},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=w):y=Gc(w,d,0,null),i=io(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Sf(l),o.memoizedState=If,i):kf(o,w));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return eI(i,o,w,d,A,p,l);if(y){y=d.fallback,w=o.mode,p=i.child,A=p.sibling;var N={mode:"hidden",children:d.children};return!(w&1)&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=N,o.deletions=null):(d=ts(p,N),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=ts(A,y):(y=io(y,w,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,w=i.child.memoizedState,w=w===null?Sf(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~l,o.memoizedState=If,d}return y=i.child,i=y.sibling,d=ts(y,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function kf(i,o){return o=Gc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Oc(i,o,l,d){return d!==null&&Yh(d),ra(o,i.child,null,l),i=kf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function eI(i,o,l,d,p,y,w){if(l)return o.flags&256?(o.flags&=-257,d=vf(Error(t(422))),Oc(i,o,w,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,p=o.mode,d=Gc({mode:"visible",children:d.children},p,0,null),y=io(y,p,w,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,o.mode&1&&ra(o,i.child,null,w),o.child.memoizedState=Sf(w),o.memoizedState=If,y);if(!(o.mode&1))return Oc(i,o,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,y=Error(t(419)),d=vf(y,d,void 0),Oc(i,o,w,d)}if(A=(w&i.childLanes)!==0,Sn||A){if(d=Gt,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|w)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ci(i,p),gr(d,i,p,-1))}return zf(),d=vf(Error(t(421))),Oc(i,o,w,d)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=fI.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,Mn=qi(p.nextSibling),Ln=o,wt=!0,hr=null,i!==null&&(Hn[Gn++]=li,Hn[Gn++]=ui,Hn[Gn++]=Qs,li=i.id,ui=i.overflow,Qs=o),o=kf(o,d.children),o.flags|=4096,o)}function Ry(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),tf(i.return,o,l)}function xf(i,o,l,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Py(i,o,l){var d=o.pendingProps,p=d.revealOrder,y=d.tail;if(gn(i,o,d.children,l),d=Tt.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ry(i,l,o);else if(i.tag===19)Ry(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(mt(Tt,d),!(o.mode&1))o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Ac(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),xf(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Ac(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}xf(o,!0,l,null,y);break;case"together":xf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function hi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),eo|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=ts(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=ts(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function tI(i,o,l){switch(o.tag){case 3:xy(o),na();break;case 5:qg(o);break;case 1:In(o.type)&&yc(o);break;case 4:sf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;mt(Ic,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(mt(Tt,Tt.current&1),o.flags|=128,null):l&o.child.childLanes?Cy(i,o,l):(mt(Tt,Tt.current&1),i=hi(i,o,l),i!==null?i.sibling:null);mt(Tt,Tt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,i.flags&128){if(d)return Py(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(Tt,Tt.current),d)break;return null;case 22:case 23:return o.lanes=0,Iy(i,o,l)}return hi(i,o,l)}var by,Af,Ny,Dy;by=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Af=function(){},Ny=function(i,o,l,d){var p=i.memoizedProps;if(p!==d){i=o.stateNode,Js(Vr.current);var y=null;switch(l){case"input":p=xr(i,p),d=xr(i,d),y=[];break;case"select":p=fe({},p,{value:void 0}),d=fe({},d,{value:void 0}),y=[];break;case"textarea":p=ue(i,p),d=ue(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=pc)}Ka(l,d);var w;l=null;for(H in p)if(!d.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var A=p[H];for(w in A)A.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in d){var N=d[H];if(A=p!=null?p[H]:void 0,d.hasOwnProperty(H)&&N!==A&&(N!=null||A!=null))if(H==="style")if(A){for(w in A)!A.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in N)N.hasOwnProperty(w)&&A[w]!==N[w]&&(l||(l={}),l[w]=N[w])}else l||(y||(y=[]),y.push(H,l)),l=N;else H==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(y=y||[]).push(H,N)):H==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(H,""+N):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(N!=null&&H==="onScroll"&&gt("scroll",i),y||A===N||(y=[])):(y=y||[]).push(H,N))}l&&(y=y||[]).push("style",l);var H=y;(o.updateQueue=H)&&(o.flags|=4)}},Dy=function(i,o,l,d){l!==d&&(o.flags|=4)};function Cl(i,o){if(!wt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function an(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function nI(i,o,l){var d=o.pendingProps;switch(Kh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(o),null;case 1:return In(o.type)&&gc(),an(o),null;case 3:return d=o.stateNode,oa(),yt(Tn),yt(sn),lf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ec(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,hr!==null&&(jf(hr),hr=null))),Af(i,o),an(o),null;case 5:of(o);var p=Js(Il.current);if(l=o.type,i!==null&&o.stateNode!=null)Ny(i,o,l,d,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return an(o),null}if(i=Js(Vr.current),Ec(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[Or]=o,d[_l]=y,i=(o.mode&1)!==0,l){case"dialog":gt("cancel",d),gt("close",d);break;case"iframe":case"object":case"embed":gt("load",d);break;case"video":case"audio":for(p=0;p<ml.length;p++)gt(ml[p],d);break;case"source":gt("error",d);break;case"img":case"image":case"link":gt("error",d),gt("load",d);break;case"details":gt("toggle",d);break;case"input":bs(d,y),gt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},gt("invalid",d);break;case"textarea":se(d,y),gt("invalid",d)}Ka(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var A=y[w];w==="children"?typeof A=="string"?d.textContent!==A&&(y.suppressHydrationWarning!==!0&&fc(d.textContent,A,i),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&fc(d.textContent,A,i),p=["children",""+A]):s.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&gt("scroll",d)}switch(l){case"input":Fn(d),b(d,y,!0);break;case"textarea":Fn(d),je(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=pc)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ge(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=w.createElement(l,{is:d.is}):(i=w.createElement(l),l==="select"&&(w=i,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):i=w.createElementNS(i,l),i[Or]=o,i[_l]=d,by(i,o,!1,!1),o.stateNode=i;e:{switch(w=Qa(l,d),l){case"dialog":gt("cancel",i),gt("close",i),p=d;break;case"iframe":case"object":case"embed":gt("load",i),p=d;break;case"video":case"audio":for(p=0;p<ml.length;p++)gt(ml[p],i);p=d;break;case"source":gt("error",i),p=d;break;case"img":case"image":case"link":gt("error",i),gt("load",i),p=d;break;case"details":gt("toggle",i),p=d;break;case"input":bs(i,d),p=xr(i,d),gt("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=fe({},d,{value:void 0}),gt("invalid",i);break;case"textarea":se(i,d),p=ue(i,d),gt("invalid",i);break;default:p=d}Ka(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var N=A[y];y==="style"?Ds(i,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ns(i,N)):y==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&zn(i,N):typeof N=="number"&&zn(i,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?N!=null&&y==="onScroll"&&gt("scroll",i):N!=null&&X(i,y,N,w))}switch(l){case"input":Fn(i),b(i,d,!1);break;case"textarea":Fn(i),je(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Je(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?ce(i,!!d.multiple,y,!1):d.defaultValue!=null&&ce(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=pc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return an(o),null;case 6:if(i&&o.stateNode!=null)Dy(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Js(Il.current),Js(Vr.current),Ec(o)){if(d=o.stateNode,l=o.memoizedProps,d[Or]=o,(y=d.nodeValue!==l)&&(i=Ln,i!==null))switch(i.tag){case 3:fc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fc(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Or]=o,o.stateNode=d}return an(o),null;case 13:if(yt(Tt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&Mn!==null&&o.mode&1&&!(o.flags&128))Lg(),na(),o.flags|=98560,y=!1;else if(y=Ec(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Or]=o}else na(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;an(o),y=!1}else hr!==null&&(jf(hr),hr=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||Tt.current&1?Ut===0&&(Ut=3):zf())),o.updateQueue!==null&&(o.flags|=4),an(o),null);case 4:return oa(),Af(i,o),i===null&&gl(o.stateNode.containerInfo),an(o),null;case 10:return ef(o.type._context),an(o),null;case 17:return In(o.type)&&gc(),an(o),null;case 19:if(yt(Tt),y=o.memoizedState,y===null)return an(o),null;if(d=(o.flags&128)!==0,w=y.rendering,w===null)if(d)Cl(y,!1);else{if(Ut!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(w=Ac(i),w!==null){for(o.flags|=128,Cl(y,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return mt(Tt,Tt.current&1|2),o.child}i=i.sibling}y.tail!==null&&pt()>ca&&(o.flags|=128,d=!0,Cl(y,!1),o.lanes=4194304)}else{if(!d)if(i=Ac(w),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Cl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!wt)return an(o),null}else 2*pt()-y.renderingStartTime>ca&&l!==1073741824&&(o.flags|=128,d=!0,Cl(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(l=y.last,l!==null?l.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=pt(),o.sibling=null,l=Tt.current,mt(Tt,d?l&1|2:l&1),o):(an(o),null);case 22:case 23:return Ff(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?jn&1073741824&&(an(o),o.subtreeFlags&6&&(o.flags|=8192)):an(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function rI(i,o){switch(Kh(o),o.tag){case 1:return In(o.type)&&gc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return oa(),yt(Tn),yt(sn),lf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return of(o),null;case 13:if(yt(Tt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));na()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return yt(Tt),null;case 4:return oa(),null;case 10:return ef(o.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Lc=!1,ln=!1,iI=typeof WeakSet=="function"?WeakSet:Set,_e=null;function la(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){xt(i,o,d)}else l.current=null}function Cf(i,o,l){try{l()}catch(d){xt(i,o,d)}}var Oy=!1;function sI(i,o){if(Uh=zi,i=hg(),bh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,A=-1,N=-1,H=0,ne=0,re=i,te=null;t:for(;;){for(var pe;re!==l||p!==0&&re.nodeType!==3||(A=w+p),re!==y||d!==0&&re.nodeType!==3||(N=w+d),re.nodeType===3&&(w+=re.nodeValue.length),(pe=re.firstChild)!==null;)te=re,re=pe;for(;;){if(re===i)break t;if(te===l&&++H===p&&(A=w),te===y&&++ne===d&&(N=w),(pe=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=pe}l=A===-1||N===-1?null:{start:A,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fh={focusedElem:i,selectionRange:l},zi=!1,_e=o;_e!==null;)if(o=_e,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,_e=i;else for(;_e!==null;){o=_e;try{var ve=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Ee=ve.memoizedProps,Ct=ve.memoizedState,B=o.stateNode,L=B.getSnapshotBeforeUpdate(o.elementType===o.type?Ee:fr(o.type,Ee),Ct);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){xt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,_e=i;break}_e=o.return}return ve=Oy,Oy=!1,ve}function Rl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Cf(o,l,y)}p=p.next}while(p!==d)}}function Mc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Rf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Vy(i){var o=i.alternate;o!==null&&(i.alternate=null,Vy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Or],delete o[_l],delete o[qh],delete o[zT],delete o[BT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ly(i){return i.tag===5||i.tag===3||i.tag===4}function My(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ly(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=pc));else if(d!==4&&(i=i.child,i!==null))for(Pf(i,o,l),i=i.sibling;i!==null;)Pf(i,o,l),i=i.sibling}function bf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(bf(i,o,l),i=i.sibling;i!==null;)bf(i,o,l),i=i.sibling}var Jt=null,pr=!1;function Zi(i,o,l){for(l=l.child;l!==null;)jy(i,o,l),l=l.sibling}function jy(i,o,l){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Fs,l)}catch{}switch(l.tag){case 5:ln||la(l,o);case 6:var d=Jt,p=pr;Jt=null,Zi(i,o,l),Jt=d,pr=p,Jt!==null&&(pr?(i=Jt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(pr?(i=Jt,l=l.stateNode,i.nodeType===8?$h(i.parentNode,l):i.nodeType===1&&$h(i,l),ur(i)):$h(Jt,l.stateNode));break;case 4:d=Jt,p=pr,Jt=l.stateNode.containerInfo,pr=!0,Zi(i,o,l),Jt=d,pr=p;break;case 0:case 11:case 14:case 15:if(!ln&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&(y&2||y&4)&&Cf(l,o,w),p=p.next}while(p!==d)}Zi(i,o,l);break;case 1:if(!ln&&(la(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){xt(l,o,A)}Zi(i,o,l);break;case 21:Zi(i,o,l);break;case 22:l.mode&1?(ln=(d=ln)||l.memoizedState!==null,Zi(i,o,l),ln=d):Zi(i,o,l);break;default:Zi(i,o,l)}}function Uy(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new iI),o.forEach(function(d){var p=pI.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function mr(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=i,w=o,A=w;e:for(;A!==null;){switch(A.tag){case 5:Jt=A.stateNode,pr=!1;break e;case 3:Jt=A.stateNode.containerInfo,pr=!0;break e;case 4:Jt=A.stateNode.containerInfo,pr=!0;break e}A=A.return}if(Jt===null)throw Error(t(160));jy(y,w,p),Jt=null,pr=!1;var N=p.alternate;N!==null&&(N.return=null),p.return=null}catch(H){xt(p,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Fy(o,i),o=o.sibling}function Fy(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(mr(o,i),Mr(i),d&4){try{Rl(3,i,i.return),Mc(3,i)}catch(Ee){xt(i,i.return,Ee)}try{Rl(5,i,i.return)}catch(Ee){xt(i,i.return,Ee)}}break;case 1:mr(o,i),Mr(i),d&512&&l!==null&&la(l,l.return);break;case 5:if(mr(o,i),Mr(i),d&512&&l!==null&&la(l,l.return),i.flags&32){var p=i.stateNode;try{zn(p,"")}catch(Ee){xt(i,i.return,Ee)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,w=l!==null?l.memoizedProps:y,A=i.type,N=i.updateQueue;if(i.updateQueue=null,N!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Io(p,y),Qa(A,w);var H=Qa(A,y);for(w=0;w<N.length;w+=2){var ne=N[w],re=N[w+1];ne==="style"?Ds(p,re):ne==="dangerouslySetInnerHTML"?Ns(p,re):ne==="children"?zn(p,re):X(p,ne,re,H)}switch(A){case"input":So(p,y);break;case"textarea":Ae(p,y);break;case"select":var te=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?ce(p,!!y.multiple,pe,!1):te!==!!y.multiple&&(y.defaultValue!=null?ce(p,!!y.multiple,y.defaultValue,!0):ce(p,!!y.multiple,y.multiple?[]:"",!1))}p[_l]=y}catch(Ee){xt(i,i.return,Ee)}}break;case 6:if(mr(o,i),Mr(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(Ee){xt(i,i.return,Ee)}}break;case 3:if(mr(o,i),Mr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ur(o.containerInfo)}catch(Ee){xt(i,i.return,Ee)}break;case 4:mr(o,i),Mr(i);break;case 13:mr(o,i),Mr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Of=pt())),d&4&&Uy(i);break;case 22:if(ne=l!==null&&l.memoizedState!==null,i.mode&1?(ln=(H=ln)||ne,mr(o,i),ln=H):mr(o,i),Mr(i),d&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!ne&&i.mode&1)for(_e=i,ne=i.child;ne!==null;){for(re=_e=ne;_e!==null;){switch(te=_e,pe=te.child,te.tag){case 0:case 11:case 14:case 15:Rl(4,te,te.return);break;case 1:la(te,te.return);var ve=te.stateNode;if(typeof ve.componentWillUnmount=="function"){d=te,l=te.return;try{o=d,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(Ee){xt(d,l,Ee)}}break;case 5:la(te,te.return);break;case 22:if(te.memoizedState!==null){$y(re);continue}}pe!==null?(pe.return=te,_e=pe):$y(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{p=re.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=re.stateNode,N=re.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=Ni("display",w))}catch(Ee){xt(i,i.return,Ee)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(Ee){xt(i,i.return,Ee)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:mr(o,i),Mr(i),d&4&&Uy(i);break;case 21:break;default:mr(o,i),Mr(i)}}function Mr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Ly(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(zn(p,""),d.flags&=-33);var y=My(i);bf(i,y,p);break;case 3:case 4:var w=d.stateNode.containerInfo,A=My(i);Pf(i,A,w);break;default:throw Error(t(161))}}catch(N){xt(i,i.return,N)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function oI(i,o,l){_e=i,zy(i)}function zy(i,o,l){for(var d=(i.mode&1)!==0;_e!==null;){var p=_e,y=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||Lc;if(!w){var A=p.alternate,N=A!==null&&A.memoizedState!==null||ln;A=Lc;var H=ln;if(Lc=w,(ln=N)&&!H)for(_e=p;_e!==null;)w=_e,N=w.child,w.tag===22&&w.memoizedState!==null?qy(p):N!==null?(N.return=w,_e=N):qy(p);for(;y!==null;)_e=y,zy(y),y=y.sibling;_e=p,Lc=A,ln=H}By(i)}else p.subtreeFlags&8772&&y!==null?(y.return=p,_e=y):By(i)}}function By(i){for(;_e!==null;){var o=_e;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:ln||Mc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!ln)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:fr(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&$g(o,y,d);break;case 3:var w=o.updateQueue;if(w!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}$g(o,w,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&ur(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||o.flags&512&&Rf(o)}catch(te){xt(o,o.return,te)}}if(o===i){_e=null;break}if(l=o.sibling,l!==null){l.return=o.return,_e=l;break}_e=o.return}}function $y(i){for(;_e!==null;){var o=_e;if(o===i){_e=null;break}var l=o.sibling;if(l!==null){l.return=o.return,_e=l;break}_e=o.return}}function qy(i){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Mc(4,o)}catch(N){xt(o,l,N)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(N){xt(o,p,N)}}var y=o.return;try{Rf(o)}catch(N){xt(o,y,N)}break;case 5:var w=o.return;try{Rf(o)}catch(N){xt(o,w,N)}}}catch(N){xt(o,o.return,N)}if(o===i){_e=null;break}var A=o.sibling;if(A!==null){A.return=o.return,_e=A;break}_e=o.return}}var aI=Math.ceil,jc=de.ReactCurrentDispatcher,Nf=de.ReactCurrentOwner,Zn=de.ReactCurrentBatchConfig,ot=0,Gt=null,Dt=null,Xt=0,jn=0,ua=Wi(0),Ut=0,Pl=null,eo=0,Uc=0,Df=0,bl=null,kn=null,Of=0,ca=1/0,fi=null,Fc=!1,Vf=null,Yi=null,zc=!1,Ji=null,Bc=0,Nl=0,Lf=null,$c=-1,qc=0;function yn(){return ot&6?pt():$c!==-1?$c:$c=pt()}function Xi(i){return i.mode&1?ot&2&&Xt!==0?Xt&-Xt:qT.transition!==null?(qc===0&&(qc=Bs()),qc):(i=Xe,i!==0||(i=window.event,i=i===void 0?16:ol(i.type)),i):1}function gr(i,o,l,d){if(50<Nl)throw Nl=0,Lf=null,Error(t(185));Mi(i,l,d),(!(ot&2)||i!==Gt)&&(i===Gt&&(!(ot&2)&&(Uc|=l),Ut===4&&es(i,Xt)),xn(i,d),l===1&&ot===0&&!(o.mode&1)&&(ca=pt()+500,_c&&Gi()))}function xn(i,o){var l=i.callbackNode;ti(i,o);var d=zs(i,i===Gt?Xt:0);if(d===0)l!==null&&tl(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&tl(l),o===1)i.tag===0?$T(Hy.bind(null,i)):bg(Hy.bind(null,i)),UT(function(){!(ot&6)&&Gi()}),l=null;else{switch(Ui(d)){case 1:l=Us;break;case 4:l=Oi;break;case 16:l=$n;break;case 536870912:l=qu;break;default:l=$n}l=e_(l,Wy.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Wy(i,o){if($c=-1,qc=0,ot&6)throw Error(t(327));var l=i.callbackNode;if(da()&&i.callbackNode!==l)return null;var d=zs(i,i===Gt?Xt:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Wc(i,d);else{o=d;var p=ot;ot|=2;var y=Ky();(Gt!==i||Xt!==o)&&(fi=null,ca=pt()+500,no(i,o));do try{cI();break}catch(A){Gy(i,A)}while(!0);Xh(),jc.current=y,ot=p,Dt!==null?o=0:(Gt=null,Xt=0,o=Ut)}if(o!==0){if(o===2&&(p=Dn(i),p!==0&&(d=p,o=Mf(i,p))),o===1)throw l=Pl,no(i,0),es(i,d),xn(i,pt()),l;if(o===6)es(i,d);else{if(p=i.current.alternate,!(d&30)&&!lI(p)&&(o=Wc(i,d),o===2&&(y=Dn(i),y!==0&&(d=y,o=Mf(i,y))),o===1))throw l=Pl,no(i,0),es(i,d),xn(i,pt()),l;switch(i.finishedWork=p,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:ro(i,kn,fi);break;case 3:if(es(i,d),(d&130023424)===d&&(o=Of+500-pt(),10<o)){if(zs(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){yn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Bh(ro.bind(null,i,kn,fi),o);break}ro(i,kn,fi);break;case 4:if(es(i,d),(d&4194240)===d)break;for(o=i.eventTimes,p=-1;0<d;){var w=31-pn(d);y=1<<w,w=o[w],w>p&&(p=w),d&=~y}if(d=p,d=pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*aI(d/1960))-d,10<d){i.timeoutHandle=Bh(ro.bind(null,i,kn,fi),d);break}ro(i,kn,fi);break;case 5:ro(i,kn,fi);break;default:throw Error(t(329))}}}return xn(i,pt()),i.callbackNode===l?Wy.bind(null,i):null}function Mf(i,o){var l=bl;return i.current.memoizedState.isDehydrated&&(no(i,o).flags|=256),i=Wc(i,o),i!==2&&(o=kn,kn=l,o!==null&&jf(o)),i}function jf(i){kn===null?kn=i:kn.push.apply(kn,i)}function lI(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!dr(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function es(i,o){for(o&=~Df,o&=~Uc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-pn(o),d=1<<l;i[l]=-1,o&=~d}}function Hy(i){if(ot&6)throw Error(t(327));da();var o=zs(i,0);if(!(o&1))return xn(i,pt()),null;var l=Wc(i,o);if(i.tag!==0&&l===2){var d=Dn(i);d!==0&&(o=d,l=Mf(i,d))}if(l===1)throw l=Pl,no(i,0),es(i,o),xn(i,pt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ro(i,kn,fi),xn(i,pt()),null}function Uf(i,o){var l=ot;ot|=1;try{return i(o)}finally{ot=l,ot===0&&(ca=pt()+500,_c&&Gi())}}function to(i){Ji!==null&&Ji.tag===0&&!(ot&6)&&da();var o=ot;ot|=1;var l=Zn.transition,d=Xe;try{if(Zn.transition=null,Xe=1,i)return i()}finally{Xe=d,Zn.transition=l,ot=o,!(ot&6)&&Gi()}}function Ff(){jn=ua.current,yt(ua)}function no(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,jT(l)),Dt!==null)for(l=Dt.return;l!==null;){var d=l;switch(Kh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gc();break;case 3:oa(),yt(Tn),yt(sn),lf();break;case 5:of(d);break;case 4:oa();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:ef(d.type._context);break;case 22:case 23:Ff()}l=l.return}if(Gt=i,Dt=i=ts(i.current,null),Xt=jn=o,Ut=0,Pl=null,Df=Uc=eo=0,kn=bl=null,Ys!==null){for(o=0;o<Ys.length;o++)if(l=Ys[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,d.next=w}l.pending=d}Ys=null}return i}function Gy(i,o){do{var l=Dt;try{if(Xh(),Cc.current=Nc,Rc){for(var d=It.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Rc=!1}if(Xs=0,Ht=jt=It=null,Sl=!1,kl=0,Nf.current=null,l===null||l.return===null){Ut=1,Pl=o,Dt=null;break}e:{var y=i,w=l.return,A=l,N=o;if(o=Xt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=N,ne=A,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var pe=_y(w);if(pe!==null){pe.flags&=-257,vy(pe,w,A,y,o),pe.mode&1&&yy(y,H,o),o=pe,N=H;var ve=o.updateQueue;if(ve===null){var Ee=new Set;Ee.add(N),o.updateQueue=Ee}else ve.add(N);break e}else{if(!(o&1)){yy(y,H,o),zf();break e}N=Error(t(426))}}else if(wt&&A.mode&1){var Ct=_y(w);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),vy(Ct,w,A,y,o),Yh(aa(N,A));break e}}y=N=aa(N,A),Ut!==4&&(Ut=2),bl===null?bl=[y]:bl.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var B=my(y,N,o);Bg(y,B);break e;case 1:A=N;var L=y.type,q=y.stateNode;if(!(y.flags&128)&&(typeof L.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Yi===null||!Yi.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var oe=gy(y,A,o);Bg(y,oe);break e}}y=y.return}while(y!==null)}Zy(l)}catch(Ie){o=Ie,Dt===l&&l!==null&&(Dt=l=l.return);continue}break}while(!0)}function Ky(){var i=jc.current;return jc.current=Nc,i===null?Nc:i}function zf(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Gt===null||!(eo&268435455)&&!(Uc&268435455)||es(Gt,Xt)}function Wc(i,o){var l=ot;ot|=2;var d=Ky();(Gt!==i||Xt!==o)&&(fi=null,no(i,o));do try{uI();break}catch(p){Gy(i,p)}while(!0);if(Xh(),ot=l,jc.current=d,Dt!==null)throw Error(t(261));return Gt=null,Xt=0,Ut}function uI(){for(;Dt!==null;)Qy(Dt)}function cI(){for(;Dt!==null&&!Bu();)Qy(Dt)}function Qy(i){var o=Xy(i.alternate,i,jn);i.memoizedProps=i.pendingProps,o===null?Zy(i):Dt=o,Nf.current=null}function Zy(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=rI(l,o),l!==null){l.flags&=32767,Dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ut=6,Dt=null;return}}else if(l=nI(l,o,jn),l!==null){Dt=l;return}if(o=o.sibling,o!==null){Dt=o;return}Dt=o=i}while(o!==null);Ut===0&&(Ut=5)}function ro(i,o,l){var d=Xe,p=Zn.transition;try{Zn.transition=null,Xe=1,dI(i,o,l,d)}finally{Zn.transition=p,Xe=d}return null}function dI(i,o,l,d){do da();while(Ji!==null);if(ot&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(ft(i,y),i===Gt&&(Dt=Gt=null,Xt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||zc||(zc=!0,e_($n,function(){return da(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Zn.transition,Zn.transition=null;var w=Xe;Xe=1;var A=ot;ot|=4,Nf.current=null,sI(i,l),Fy(l,i),bT(Fh),zi=!!Uh,Fh=Uh=null,i.current=l,oI(l),Ih(),ot=A,Xe=w,Zn.transition=y}else i.current=l;if(zc&&(zc=!1,Ji=i,Bc=p),y=i.pendingLanes,y===0&&(Yi=null),Wu(l.stateNode),xn(i,pt()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Fc)throw Fc=!1,i=Vf,Vf=null,i;return Bc&1&&i.tag!==0&&da(),y=i.pendingLanes,y&1?i===Lf?Nl++:(Nl=0,Lf=i):Nl=0,Gi(),null}function da(){if(Ji!==null){var i=Ui(Bc),o=Zn.transition,l=Xe;try{if(Zn.transition=null,Xe=16>i?16:i,Ji===null)var d=!1;else{if(i=Ji,Ji=null,Bc=0,ot&6)throw Error(t(331));var p=ot;for(ot|=4,_e=i.current;_e!==null;){var y=_e,w=y.child;if(_e.flags&16){var A=y.deletions;if(A!==null){for(var N=0;N<A.length;N++){var H=A[N];for(_e=H;_e!==null;){var ne=_e;switch(ne.tag){case 0:case 11:case 15:Rl(8,ne,y)}var re=ne.child;if(re!==null)re.return=ne,_e=re;else for(;_e!==null;){ne=_e;var te=ne.sibling,pe=ne.return;if(Vy(ne),ne===H){_e=null;break}if(te!==null){te.return=pe,_e=te;break}_e=pe}}}var ve=y.alternate;if(ve!==null){var Ee=ve.child;if(Ee!==null){ve.child=null;do{var Ct=Ee.sibling;Ee.sibling=null,Ee=Ct}while(Ee!==null)}}_e=y}}if(y.subtreeFlags&2064&&w!==null)w.return=y,_e=w;else e:for(;_e!==null;){if(y=_e,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Rl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,_e=B;break e}_e=y.return}}var L=i.current;for(_e=L;_e!==null;){w=_e;var q=w.child;if(w.subtreeFlags&2064&&q!==null)q.return=w,_e=q;else e:for(w=L;_e!==null;){if(A=_e,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Mc(9,A)}}catch(Ie){xt(A,A.return,Ie)}if(A===w){_e=null;break e}var oe=A.sibling;if(oe!==null){oe.return=A.return,_e=oe;break e}_e=A.return}}if(ot=p,Gi(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Fs,i)}catch{}d=!0}return d}finally{Xe=l,Zn.transition=o}}return!1}function Yy(i,o,l){o=aa(l,o),o=my(i,o,1),i=Qi(i,o,1),o=yn(),i!==null&&(Mi(i,1,o),xn(i,o))}function xt(i,o,l){if(i.tag===3)Yy(i,i,l);else for(;o!==null;){if(o.tag===3){Yy(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Yi===null||!Yi.has(d))){i=aa(l,i),i=gy(o,i,1),o=Qi(o,i,1),i=yn(),o!==null&&(Mi(o,1,i),xn(o,i));break}}o=o.return}}function hI(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=yn(),i.pingedLanes|=i.suspendedLanes&l,Gt===i&&(Xt&l)===l&&(Ut===4||Ut===3&&(Xt&130023424)===Xt&&500>pt()-Of?no(i,0):Df|=l),xn(i,o)}function Jy(i,o){o===0&&(i.mode&1?(o=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):o=1);var l=yn();i=ci(i,o),i!==null&&(Mi(i,o,l),xn(i,l))}function fI(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Jy(i,l)}function pI(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Jy(i,l)}var Xy;Xy=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Tn.current)Sn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return Sn=!1,tI(i,o,l);Sn=!!(i.flags&131072)}else Sn=!1,wt&&o.flags&1048576&&Ng(o,wc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Vc(i,o),i=o.pendingProps;var p=Xo(o,sn.current);sa(o,l),p=df(null,o,d,i,p,l);var y=hf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,In(d)?(y=!0,yc(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,rf(o),p.updater=Dc,o.stateNode=p,p._reactInternals=o,_f(o,d,i,l),o=Tf(null,o,d,!0,y,l)):(o.tag=0,wt&&y&&Gh(o),gn(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Vc(i,o),i=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=gI(d),i=fr(d,i),p){case 0:o=Ef(null,o,d,i,l);break e;case 1:o=ky(null,o,d,i,l);break e;case 11:o=wy(null,o,d,i,l);break e;case 14:o=Ey(null,o,d,fr(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fr(d,p),Ef(i,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fr(d,p),ky(i,o,d,p,l);case 3:e:{if(xy(o),i===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,p=y.element,zg(i,o),xc(o,d,null,l);var w=o.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=aa(Error(t(423)),o),o=Ay(i,o,d,l,p);break e}else if(d!==p){p=aa(Error(t(424)),o),o=Ay(i,o,d,l,p);break e}else for(Mn=qi(o.stateNode.containerInfo.firstChild),Ln=o,wt=!0,hr=null,l=Ug(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(na(),d===p){o=hi(i,o,l);break e}gn(i,o,d,l)}o=o.child}return o;case 5:return qg(o),i===null&&Zh(o),d=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,w=p.children,zh(d,p)?w=null:y!==null&&zh(d,y)&&(o.flags|=32),Sy(i,o),gn(i,o,w,l),o.child;case 6:return i===null&&Zh(o),null;case 13:return Cy(i,o,l);case 4:return sf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=ra(o,null,d,l):gn(i,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fr(d,p),wy(i,o,d,p,l);case 7:return gn(i,o,o.pendingProps,l),o.child;case 8:return gn(i,o,o.pendingProps.children,l),o.child;case 12:return gn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,y=o.memoizedProps,w=p.value,mt(Ic,d._currentValue),d._currentValue=w,y!==null)if(dr(y.value,w)){if(y.children===p.children&&!Tn.current){o=hi(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var A=y.dependencies;if(A!==null){w=y.child;for(var N=A.firstContext;N!==null;){if(N.context===d){if(y.tag===1){N=di(-1,l&-l),N.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?N.next=N:(N.next=ne.next,ne.next=N),H.pending=N}}y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),tf(y.return,l,o),A.lanes|=l;break}N=N.next}}else if(y.tag===10)w=y.type===o.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,A=w.alternate,A!==null&&(A.lanes|=l),tf(w,l,o),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===o){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}gn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,sa(o,l),p=Kn(p),d=d(p),o.flags|=1,gn(i,o,d,l),o.child;case 14:return d=o.type,p=fr(d,o.pendingProps),p=fr(d.type,p),Ey(i,o,d,p,l);case 15:return Ty(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fr(d,p),Vc(i,o),o.tag=1,In(d)?(i=!0,yc(o)):i=!1,sa(o,l),fy(o,d,p),_f(o,d,p,l),Tf(null,o,d,!0,i,l);case 19:return Py(i,o,l);case 22:return Iy(i,o,l)}throw Error(t(156,o.tag))};function e_(i,o){return No(i,o)}function mI(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(i,o,l,d){return new mI(i,o,l,d)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gI(i){if(typeof i=="function")return Bf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===O)return 11;if(i===st)return 14}return 2}function ts(i,o){var l=i.alternate;return l===null?(l=Yn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Hc(i,o,l,d,p,y){var w=2;if(d=i,typeof i=="function")Bf(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case D:return io(l.children,p,y,o);case k:w=8,p|=8;break;case C:return i=Yn(12,l,o,p|2),i.elementType=C,i.lanes=y,i;case x:return i=Yn(13,l,o,p),i.elementType=x,i.lanes=y,i;case Be:return i=Yn(19,l,o,p),i.elementType=Be,i.lanes=y,i;case $e:return Gc(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:w=10;break e;case M:w=9;break e;case O:w=11;break e;case st:w=14;break e;case dt:w=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Yn(w,l,o,p),o.elementType=i,o.type=d,o.lanes=y,o}function io(i,o,l,d){return i=Yn(7,i,d,o),i.lanes=l,i}function Gc(i,o,l,d){return i=Yn(22,i,d,o),i.elementType=$e,i.lanes=l,i.stateNode={isHidden:!1},i}function $f(i,o,l){return i=Yn(6,i,null,o),i.lanes=l,i}function qf(i,o,l){return o=Yn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function yI(i,o,l,d,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Wf(i,o,l,d,p,y,w,A,N){return i=new yI(i,o,l,A,N),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Yn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(y),i}function _I(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function t_(i){if(!i)return Hi;i=i._reactInternals;e:{if(ir(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(In(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(In(l))return Rg(i,l,o)}return o}function n_(i,o,l,d,p,y,w,A,N){return i=Wf(l,d,!0,i,p,y,w,A,N),i.context=t_(null),l=i.current,d=yn(),p=Xi(l),y=di(d,p),y.callback=o??null,Qi(l,y,p),i.current.lanes=p,Mi(i,p,d),xn(i,d),i}function Kc(i,o,l,d){var p=o.current,y=yn(),w=Xi(p);return l=t_(l),o.context===null?o.context=l:o.pendingContext=l,o=di(y,w),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Qi(p,o,w),i!==null&&(gr(i,p,w,y),kc(i,p,w)),w}function Qc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function r_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Hf(i,o){r_(i,o),(i=i.alternate)&&r_(i,o)}function vI(){return null}var i_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Gf(i){this._internalRoot=i}Zc.prototype.render=Gf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Kc(i,o,null,null)},Zc.prototype.unmount=Gf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;to(function(){Kc(null,i,null,null)}),o[oi]=null}};function Zc(i){this._internalRoot=i}Zc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Zu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Pr.length&&o!==0&&o<Pr[l].priority;l++);Pr.splice(l,0,i),l===0&&Xu(i)}};function Kf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function s_(){}function wI(i,o,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var H=Qc(w);y.call(H)}}var w=n_(o,d,i,0,null,!1,!1,"",s_);return i._reactRootContainer=w,i[oi]=w.current,gl(i.nodeType===8?i.parentNode:i),to(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var H=Qc(N);A.call(H)}}var N=Wf(i,0,!1,null,null,!1,!1,"",s_);return i._reactRootContainer=N,i[oi]=N.current,gl(i.nodeType===8?i.parentNode:i),to(function(){Kc(o,N,l,d)}),N}function Jc(i,o,l,d,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var A=p;p=function(){var N=Qc(w);A.call(N)}}Kc(o,w,i,p)}else w=wI(l,o,i,p,d);return Qc(w)}Ku=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Vi(o.pendingLanes);l!==0&&(ji(o,l|1),xn(o,pt()),!(ot&6)&&(ca=pt()+500,Gi()))}break;case 13:to(function(){var d=ci(i,1);if(d!==null){var p=yn();gr(d,i,1,p)}}),Hf(i,1)}},Vo=function(i){if(i.tag===13){var o=ci(i,134217728);if(o!==null){var l=yn();gr(o,i,134217728,l)}Hf(i,134217728)}},Qu=function(i){if(i.tag===13){var o=Xi(i),l=ci(i,o);if(l!==null){var d=yn();gr(l,i,o,d)}Hf(i,o)}},Zu=function(){return Xe},Yu=function(i,o){var l=Xe;try{return Xe=i,o()}finally{Xe=l}},xo=function(i,o,l){switch(o){case"input":if(So(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var p=mc(d);if(!p)throw Error(t(90));bi(d),So(d,p)}}}break;case"textarea":Ae(i,l);break;case"select":o=l.value,o!=null&&ce(i,!!l.multiple,o,!1)}},Vs=Uf,Ya=to;var EI={usingClientEntryPoint:!1,Events:[vl,Yo,mc,Cr,Za,Uf]},Dl={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TI={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=el(i),i===null?null:i.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||vI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Fs=Xc.inject(TI),Nn=Xc}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EI,An.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(o))throw Error(t(200));return _I(i,o,null,l)},An.createRoot=function(i,o){if(!Kf(i))throw Error(t(299));var l=!1,d="",p=i_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Wf(i,1,!1,null,null,l,!1,d,p),i[oi]=o.current,gl(i.nodeType===8?i.parentNode:i),new Gf(o)},An.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=el(o),i=i===null?null:i.stateNode,i},An.flushSync=function(i){return to(i)},An.hydrate=function(i,o,l){if(!Yc(o))throw Error(t(200));return Jc(null,i,o,!0,l)},An.hydrateRoot=function(i,o,l){if(!Kf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",w=i_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),o=n_(o,null,i,1,l??null,p,!1,y,w),i[oi]=o.current,gl(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Zc(o)},An.render=function(i,o,l){if(!Yc(o))throw Error(t(200));return Jc(null,i,o,!1,l)},An.unmountComponentAtNode=function(i){if(!Yc(i))throw Error(t(40));return i._reactRootContainer?(to(function(){Jc(null,null,i,!1,function(){i._reactRootContainer=null,i[oi]=null})}),!0):!1},An.unstable_batchedUpdates=Uf,An.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Yc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Jc(i,o,l,!1,d)},An.version="18.3.1-next-f1338f8080-20240426",An}var f_;function bI(){if(f_)return Yf.exports;f_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yf.exports=PI(),Yf.exports}var p_;function NI(){if(p_)return ed;p_=1;var n=bI();return ed.createRoot=n.createRoot,ed.hydrateRoot=n.hydrateRoot,ed}var DI=NI(),Vl={},m_;function OI(){if(m_)return Vl;m_=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=u,Vl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function u(I,R){const V=new a,F=I.length;if(F<2)return V;const j=(R==null?void 0:R.decode)||v;let K=0;do{const Z=I.indexOf("=",K);if(Z===-1)break;const X=I.indexOf(";",K),de=X===-1?F:X;if(Z>de){K=I.lastIndexOf(";",Z-1)+1;continue}const Te=h(I,K,Z),Ce=f(I,Z,Te),D=I.slice(Te,Ce);if(V[D]===void 0){let k=h(I,Z+1,de),C=f(I,de,k);const P=j(I.slice(k,C));V[D]=P}K=de+1}while(K<F);return V}function h(I,R,V){do{const F=I.charCodeAt(R);if(F!==32&&F!==9)return R}while(++R<V);return V}function f(I,R,V){for(;R>V;){const F=I.charCodeAt(--R);if(F!==32&&F!==9)return R+1}return V}function m(I,R,V){const F=(V==null?void 0:V.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const j=F(R);if(!e.test(j))throw new TypeError(`argument val is invalid: ${R}`);let K=I+"="+j;if(!V)return K;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);K+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);K+="; Domain="+V.domain}if(V.path){if(!r.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);K+="; Path="+V.path}if(V.expires){if(!E(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);K+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(K+="; HttpOnly"),V.secure&&(K+="; Secure"),V.partitioned&&(K+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return K}function v(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function E(I){return s.call(I)==="[object Date]"}return Vl}OI();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g_="popstate";function VI(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return yp("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:tu(s)}return MI(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LI(){return Math.random().toString(36).substring(2,10)}function y_(n,e){return{usr:n.state,key:n.key,idx:e}}function yp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ua(e):e,state:t,key:e&&e.key||r||LI()}}function tu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ua(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function MI(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function E(){h="POP";let j=v(),K=j==null?null:j-m;m=j,f&&f({action:h,location:F.location,delta:K})}function I(j,K){h="PUSH";let Z=yp(F.location,j,K);m=v()+1;let X=y_(Z,m),de=F.createHref(Z);try{u.pushState(X,"",de)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;s.location.assign(de)}a&&f&&f({action:h,location:F.location,delta:1})}function R(j,K){h="REPLACE";let Z=yp(F.location,j,K);m=v();let X=y_(Z,m),de=F.createHref(Z);u.replaceState(X,"",de),a&&f&&f({action:h,location:F.location,delta:0})}function V(j){let K=s.location.origin!=="null"?s.location.origin:s.location.href,Z=typeof j=="string"?j:tu(j);return Z=Z.replace(/ $/,"%20"),Et(K,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,K)}let F={get action(){return h},get location(){return n(s,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(g_,E),f=j,()=>{s.removeEventListener(g_,E),f=null}},createHref(j){return e(s,j)},createURL:V,encodeLocation(j){let K=V(j);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:I,replace:R,go(j){return u.go(j)}};return F}function pw(n,e,t="/"){return jI(n,e,t,!1)}function jI(n,e,t,r){let s=typeof e=="string"?Ua(e):e,a=vs(s.pathname||"/",t);if(a==null)return null;let u=mw(n);UI(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=ZI(a);h=KI(u[f],m,r)}return h}function mw(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Et(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ti([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Et(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),mw(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:HI(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of gw(a.path))s(a,u,f)}),e}function gw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=gw(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function UI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var FI=/^:[\w-]+$/,zI=3,BI=2,$I=1,qI=10,WI=-2,__=n=>n==="*";function HI(n,e){let t=n.split("/"),r=t.length;return t.some(__)&&(r+=WI),e&&(r+=BI),t.filter(s=>!__(s)).reduce((s,a)=>s+(FI.test(a)?zI:a===""?$I:qI),r)}function GI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function KI(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=Td({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),I=f.route;if(!E&&m&&t&&!r[r.length-1].route.index&&(E=Td({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(s,E.params),u.push({params:s,pathname:Ti([a,E.pathname]),pathnameBase:e1(Ti([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=Ti([a,E.pathnameBase]))}return u}function Td(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=QI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:E},I)=>{if(v==="*"){let V=h[I]||"";u=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const R=h[I];return E&&!R?m[v]=void 0:m[v]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function QI(n,e=!1,t=!0){Er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ZI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function vs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function YI(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ua(n):n;return{pathname:t?t.startsWith("/")?t:JI(t,e):e,search:t1(r),hash:n1(s)}}function JI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ep(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yp(n){let e=XI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Jp(n,e,t,r=!1){let s;typeof n=="string"?s=Ua(n):(s={...n},Et(!s.pathname||!s.pathname.includes("?"),ep("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),ep("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),ep("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),E-=1;s.pathname=I.join("/")}h=E>=0?e[E]:"/"}let f=YI(s,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Ti=n=>n.join("/").replace(/\/\/+/g,"/"),e1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),t1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,n1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function r1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yw=["POST","PUT","PATCH","DELETE"];new Set(yw);var i1=["GET",...yw];new Set(i1);var Fa=$.createContext(null);Fa.displayName="DataRouter";var eh=$.createContext(null);eh.displayName="DataRouterState";var _w=$.createContext({isTransitioning:!1});_w.displayName="ViewTransition";var s1=$.createContext(new Map);s1.displayName="Fetchers";var o1=$.createContext(null);o1.displayName="Await";var kr=$.createContext(null);kr.displayName="Navigation";var Iu=$.createContext(null);Iu.displayName="Location";var Yr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var Xp=$.createContext(null);Xp.displayName="RouteError";function a1(n,{relative:e}={}){Et(za(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(kr),{hash:s,pathname:a,search:u}=ku(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Ti([t,a])),r.createHref({pathname:h,search:u,hash:s})}function za(){return $.useContext(Iu)!=null}function Jr(){return Et(za(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Iu).location}var vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ww(n){$.useContext(kr).static||$.useLayoutEffect(n)}function Su(){let{isDataRoute:n}=$.useContext(Yr);return n?w1():l1()}function l1(){Et(za(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Fa),{basename:e,navigator:t}=$.useContext(kr),{matches:r}=$.useContext(Yr),{pathname:s}=Jr(),a=JSON.stringify(Yp(r)),u=$.useRef(!1);return ww(()=>{u.current=!0}),$.useCallback((f,m={})=>{if(Er(u.current,vw),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=Jp(f,JSON.parse(a),s,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ti([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,s,n])}$.createContext(null);function ku(n,{relative:e}={}){let{matches:t}=$.useContext(Yr),{pathname:r}=Jr(),s=JSON.stringify(Yp(t));return $.useMemo(()=>Jp(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function u1(n,e){return Ew(n,e)}function Ew(n,e,t,r){var Z;Et(za(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=$.useContext(kr),{matches:u}=$.useContext(Yr),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let X=E&&E.path||"";Tw(m,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let I=Jr(),R;if(e){let X=typeof e=="string"?Ua(e):e;Et(v==="/"||((Z=X.pathname)==null?void 0:Z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),R=X}else R=I;let V=R.pathname||"/",F=V;if(v!=="/"){let X=v.replace(/^\//,"").split("/");F="/"+V.replace(/^\//,"").split("/").slice(X.length).join("/")}let j=!a&&t&&t.matches&&t.matches.length>0?t.matches:pw(n,{pathname:F});Er(E||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Er(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=p1(j&&j.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:Ti([v,s.encodeLocation?s.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:Ti([v,s.encodeLocation?s.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,t,r);return e&&K?$.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},K):K}function c1(){let n=v1(),e=r1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,u)}var d1=$.createElement(c1,null),h1=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Yr.Provider,{value:this.props.routeContext},$.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f1({routeContext:n,match:e,children:t}){let r=$.useContext(Fa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Yr.Provider,{value:n},t)}function p1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:v,errors:E}=t,I=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||I){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,m,v)=>{let E,I=!1,R=null,V=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,R=m.route.errorElement||d1,u&&(h<0&&v===0?(Tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,V=null):h===v&&(I=!0,V=m.route.hydrateFallbackElement||null)));let F=e.concat(s.slice(0,v+1)),j=()=>{let K;return E?K=R:I?K=V:m.route.Component?K=$.createElement(m.route.Component,null):m.route.element?K=m.route.element:K=f,$.createElement(f1,{match:m,routeContext:{outlet:f,matches:F,isDataRoute:t!=null},children:K})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?$.createElement(h1,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:j(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):j()},null)}function em(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(n){let e=$.useContext(Fa);return Et(e,em(n)),e}function g1(n){let e=$.useContext(eh);return Et(e,em(n)),e}function y1(n){let e=$.useContext(Yr);return Et(e,em(n)),e}function tm(n){let e=y1(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _1(){return tm("useRouteId")}function v1(){var r;let n=$.useContext(Xp),e=g1("useRouteError"),t=tm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function w1(){let{router:n}=m1("useNavigate"),e=tm("useNavigate"),t=$.useRef(!1);return ww(()=>{t.current=!0}),$.useCallback(async(s,a={})=>{Er(t.current,vw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var v_={};function Tw(n,e,t){!e&&!v_[n]&&(v_[n]=!0,Er(!1,t))}$.memo(E1);function E1({routes:n,future:e,state:t}){return Ew(n,void 0,t,e)}function T1({to:n,replace:e,state:t,relative:r}){Et(za(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=$.useContext(kr);Er(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=$.useContext(Yr),{pathname:u}=Jr(),h=Su(),f=Jp(n,Yp(a),u,r==="path"),m=JSON.stringify(f);return $.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function is(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){Et(!za(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Ua(t));let{pathname:f="/",search:m="",hash:v="",state:E=null,key:I="default"}=t,R=$.useMemo(()=>{let V=vs(f,u);return V==null?null:{location:{pathname:V,search:m,hash:v,state:E,key:I},navigationType:r}},[u,f,m,v,E,I,r]);return Er(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:$.createElement(kr.Provider,{value:h},$.createElement(Iu.Provider,{children:e,value:R}))}function S1({children:n,location:e}){return u1(_p(n),e)}function _p(n,e=[]){let t=[];return $.Children.forEach(n,(r,s)=>{if(!$.isValidElement(r))return;let a=[...e,s];if(r.type===$.Fragment){t.push.apply(t,_p(r.props.children,a));return}Et(r.type===is,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=_p(r.props.children,a)),t.push(u)}),t}var ld="get",ud="application/x-www-form-urlencoded";function th(n){return n!=null&&typeof n.tagName=="string"}function k1(n){return th(n)&&n.tagName.toLowerCase()==="button"}function x1(n){return th(n)&&n.tagName.toLowerCase()==="form"}function A1(n){return th(n)&&n.tagName.toLowerCase()==="input"}function C1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function R1(n,e){return n.button===0&&(!e||e==="_self")&&!C1(n)}var td=null;function P1(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var b1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(n){return n!=null&&!b1.has(n)?(Er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ud}"`),null):n}function N1(n,e){let t,r,s,a,u;if(x1(n)){let h=n.getAttribute("action");r=h?vs(h,e):null,t=n.getAttribute("method")||ld,s=tp(n.getAttribute("enctype"))||ud,a=new FormData(n)}else if(k1(n)||A1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?vs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||ld,s=tp(n.getAttribute("formenctype"))||tp(h.getAttribute("enctype"))||ud,a=new FormData(h,n),!P1()){let{name:m,type:v,value:E}=n;if(v==="image"){let I=m?`${m}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else m&&a.append(m,E)}}else{if(th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ld,r=null,s=ud,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function nm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function D1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function V1(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await D1(a,t);return u.links?u.links():[]}return[]}));return U1(r.flat(1).filter(O1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function w_(n,e,t,r,s,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{var E;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let I=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function L1(n,e){return M1(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function M1(n){return[...new Set(n)]}function j1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function U1(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(j1(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function F1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function z1(){let n=$.useContext(Fa);return nm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function B1(){let n=$.useContext(eh);return nm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rm=$.createContext(void 0);rm.displayName="FrameworkContext";function Iw(){let n=$.useContext(rm);return nm(n,"You must render this element inside a <HydratedRouter> element"),n}function $1(n,e){let t=$.useContext(rm),[r,s]=$.useState(!1),[a,u]=$.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,I=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let F=K=>{K.forEach(Z=>{u(Z.isIntersecting)})},j=new IntersectionObserver(F,{threshold:.5});return I.current&&j.observe(I.current),()=>{j.disconnect()}}},[n]),$.useEffect(()=>{if(r){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[r]);let R=()=>{s(!0)},V=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:Ll(h,R),onBlur:Ll(f,V),onMouseEnter:Ll(m,R),onMouseLeave:Ll(v,V),onTouchStart:Ll(E,R)}]:[!1,I,{}]}function Ll(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function q1({page:n,...e}){let{router:t}=z1(),r=$.useMemo(()=>pw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(H1,{page:n,matches:r,...e}):null}function W1(n){let{manifest:e,routeModules:t}=Iw(),[r,s]=$.useState([]);return $.useEffect(()=>{let a=!1;return V1(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function H1({page:n,matches:e,...t}){let r=Jr(),{manifest:s,routeModules:a}=Iw(),{loaderData:u,matches:h}=B1(),f=$.useMemo(()=>w_(n,e,h,s,r,"data"),[n,e,h,s,r]),m=$.useMemo(()=>w_(n,e,h,s,r,"assets"),[n,e,h,s,r]),v=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,V=!1;if(e.forEach(j=>{var Z;let K=s.routes[j.route.id];!K||!K.hasLoader||(!f.some(X=>X.route.id===j.route.id)&&j.route.id in u&&((Z=a[j.route.id])!=null&&Z.shouldRevalidate)||K.hasClientLoader?V=!0:R.add(j.route.id))}),R.size===0)return[];let F=F1(n);return V&&R.size>0&&F.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[F.pathname+F.search]},[u,r,s,f,e,n,a]),E=$.useMemo(()=>L1(m,s),[m,s]),I=W1(m);return $.createElement($.Fragment,null,v.map(R=>$.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>$.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),I.map(({key:R,link:V})=>$.createElement("link",{key:R,...V})))}function G1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sw&&(window.__reactRouterVersion="7.1.5")}catch{}function K1({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=VI({window:t,v5Compat:!0}));let s=r.current,[a,u]=$.useState({action:s.action,location:s.location}),h=$.useCallback(f=>{$.startTransition(()=>u(f))},[u]);return $.useLayoutEffect(()=>s.listen(h),[s,h]),$.createElement(I1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xu=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:E,...I},R){let{basename:V}=$.useContext(kr),F=typeof m=="string"&&kw.test(m),j,K=!1;if(typeof m=="string"&&F&&(j=m,Sw))try{let C=new URL(window.location.href),P=m.startsWith("//")?new URL(C.protocol+m):new URL(m),M=vs(P.pathname,V);P.origin===C.origin&&M!=null?m=M+P.search+P.hash:K=!0}catch{Er(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=a1(m,{relative:s}),[X,de,Te]=$1(r,I),Ce=J1(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:E});function D(C){e&&e(C),C.defaultPrevented||Ce(C)}let k=$.createElement("a",{...I,...Te,href:j||Z,onClick:K||a?e:D,ref:G1(R,de),target:f,"data-discover":!F&&t==="render"?"true":void 0});return X&&!F?$.createElement($.Fragment,null,k,$.createElement(q1,{page:Z})):k});xu.displayName="Link";var Q1=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...m},v){let E=ku(u,{relative:m.relative}),I=Jr(),R=$.useContext(eh),{navigator:V,basename:F}=$.useContext(kr),j=R!=null&&rS(E)&&h===!0,K=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,Z=I.pathname,X=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),X=X?X.toLowerCase():null,K=K.toLowerCase()),X&&F&&(X=vs(X,F)||X);const de=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let Te=Z===K||!s&&Z.startsWith(K)&&Z.charAt(de)==="/",Ce=X!=null&&(X===K||!s&&X.startsWith(K)&&X.charAt(K.length)==="/"),D={isActive:Te,isPending:Ce,isTransitioning:j},k=Te?e:void 0,C;typeof r=="function"?C=r(D):C=[r,Te?"active":null,Ce?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(D):a;return $.createElement(xu,{...m,"aria-current":k,className:C,ref:v,style:P,to:u,viewTransition:h},typeof f=="function"?f(D):f)});Q1.displayName="NavLink";var Z1=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=ld,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:E,...I},R)=>{let V=tS(),F=nS(h,{relative:m}),j=u.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&kw.test(h),Z=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let de=X.nativeEvent.submitter,Te=(de==null?void 0:de.getAttribute("formmethod"))||u;V(de||X.currentTarget,{fetcherKey:e,method:Te,navigate:t,replace:s,state:a,relative:m,preventScrollReset:v,viewTransition:E})};return $.createElement("form",{ref:R,method:j,action:F,onSubmit:r?f:Z,...I,"data-discover":!K&&n==="render"?"true":void 0})});Z1.displayName="Form";function Y1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(n){let e=$.useContext(Fa);return Et(e,Y1(n)),e}function J1(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=Su(),f=Jr(),m=ku(n,{relative:a});return $.useCallback(v=>{if(R1(v,e)){v.preventDefault();let E=t!==void 0?t:tu(f)===tu(m);h(n,{replace:E,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,m,t,r,e,n,s,a,u])}var X1=0,eS=()=>`__${String(++X1)}__`;function tS(){let{router:n}=xw("useSubmit"),{basename:e}=$.useContext(kr),t=_1();return $.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=N1(r,e);if(s.navigate===!1){let v=s.fetcherKey||eS();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function nS(n,{relative:e}={}){let{basename:t}=$.useContext(kr),r=$.useContext(Yr);Et(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...ku(n||".",{relative:e})},u=Jr();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ti([t,a.pathname])),tu(a)}function rS(n,e={}){let t=$.useContext(_w);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xw("useViewTransitionState"),s=ku(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=vs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=vs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Td(s.pathname,u)!=null||Td(s.pathname,a)!=null}new TextEncoder;var Au=n=>n.type==="checkbox",oo=n=>n instanceof Date,_n=n=>n==null;const Aw=n=>typeof n=="object";var Pt=n=>!_n(n)&&!Array.isArray(n)&&Aw(n)&&!oo(n),iS=n=>Pt(n)&&n.target?Au(n.target)?n.target.checked:n.target.value:n,sS=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,oS=(n,e)=>n.has(sS(e)),aS=n=>{const e=n.constructor&&n.constructor.prototype;return Pt(e)&&e.hasOwnProperty("isPrototypeOf")},im=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jn(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(im&&(n instanceof Blob||r))&&(t||Pt(n)))if(e=t?[]:{},!t&&!aS(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=Jn(n[s]));else return n;return e}var nh=n=>Array.isArray(n)?n.filter(Boolean):[],Vt=n=>n===void 0,ye=(n,e,t)=>{if(!e||!Pt(n))return t;const r=nh(e.split(/[,[\].]+?/)).reduce((s,a)=>_n(s)?s:s[a],n);return Vt(r)||r===n?Vt(n[e])?t:n[e]:r},jr=n=>typeof n=="boolean",sm=n=>/^\w*$/.test(n),Cw=n=>nh(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ht=(n,e,t)=>{let r=-1;const s=sm(e)?[e]:Cw(e),a=s.length,u=a-1;for(;++r<a;){const h=s[r];let f=t;if(r!==u){const m=n[h];f=Pt(m)||Array.isArray(m)?m:isNaN(+s[r+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;n[h]=f,n=n[h]}return n};const E_={BLUR:"blur",FOCUS_OUT:"focusout"},yr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};zt.createContext(null);var lS=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(s,a,{get:()=>{const u=a;return e._proxyFormState[u]!==yr.all&&(e._proxyFormState[u]=!r||yr.all),n[u]}});return s},Cn=n=>Pt(n)&&!Object.keys(n).length,uS=(n,e,t,r)=>{t(n);const{name:s,...a}=n;return Cn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(u=>e[u]===yr.all)},cd=n=>Array.isArray(n)?n:[n];function cS(n){const e=zt.useRef(n);e.current=n,zt.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var zr=n=>typeof n=="string",dS=(n,e,t,r,s)=>zr(n)?(r&&e.watch.add(n),ye(t,n,s)):Array.isArray(n)?n.map(a=>(r&&e.watch.add(a),ye(t,a))):(r&&(e.watchAll=!0),t),Rw=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},T_=n=>({isOnSubmit:!n||n===yr.onSubmit,isOnBlur:n===yr.onBlur,isOnChange:n===yr.onChange,isOnAll:n===yr.all,isOnTouch:n===yr.onTouched}),I_=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Kl=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const a=ye(n,s);if(a){const{_f:u,...h}=a;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],s)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(Kl(h,e))break}else if(Pt(h)&&Kl(h,e))break}}};var hS=(n,e,t)=>{const r=cd(ye(n,t));return ht(r,"root",e[t]),ht(n,t,r),n},om=n=>n.type==="file",Fr=n=>typeof n=="function",Id=n=>{if(!im)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dd=n=>zr(n),am=n=>n.type==="radio",Sd=n=>n instanceof RegExp;const S_={value:!1,isValid:!1},k_={value:!0,isValid:!0};var Pw=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Vt(n[0].attributes.value)?Vt(n[0].value)||n[0].value===""?k_:{value:n[0].value,isValid:!0}:k_:S_}return S_};const x_={isValid:!1,value:null};var bw=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,x_):x_;function A_(n,e,t="validate"){if(dd(n)||Array.isArray(n)&&n.every(dd)||jr(n)&&!n)return{type:t,message:dd(n)?n:"",ref:e}}var ha=n=>Pt(n)&&!Sd(n)?n:{value:n,message:""},C_=async(n,e,t,r,s,a)=>{const{ref:u,refs:h,required:f,maxLength:m,minLength:v,min:E,max:I,pattern:R,validate:V,name:F,valueAsNumber:j,mount:K}=n._f,Z=ye(t,F);if(!K||e.has(F))return{};const X=h?h[0]:u,de=O=>{s&&X.reportValidity&&(X.setCustomValidity(jr(O)?"":O||""),X.reportValidity())},Te={},Ce=am(u),D=Au(u),k=Ce||D,C=(j||om(u))&&Vt(u.value)&&Vt(Z)||Id(u)&&u.value===""||Z===""||Array.isArray(Z)&&!Z.length,P=Rw.bind(null,F,r,Te),M=(O,x,Be,st=pi.maxLength,dt=pi.minLength)=>{const $e=O?x:Be;Te[F]={type:O?st:dt,message:$e,ref:u,...P(O?st:dt,$e)}};if(a?!Array.isArray(Z)||!Z.length:f&&(!k&&(C||_n(Z))||jr(Z)&&!Z||D&&!Pw(h).isValid||Ce&&!bw(h).isValid)){const{value:O,message:x}=dd(f)?{value:!!f,message:f}:ha(f);if(O&&(Te[F]={type:pi.required,message:x,ref:X,...P(pi.required,x)},!r))return de(x),Te}if(!C&&(!_n(E)||!_n(I))){let O,x;const Be=ha(I),st=ha(E);if(!_n(Z)&&!isNaN(Z)){const dt=u.valueAsNumber||Z&&+Z;_n(Be.value)||(O=dt>Be.value),_n(st.value)||(x=dt<st.value)}else{const dt=u.valueAsDate||new Date(Z),$e=fe=>new Date(new Date().toDateString()+" "+fe),ae=u.type=="time",ke=u.type=="week";zr(Be.value)&&Z&&(O=ae?$e(Z)>$e(Be.value):ke?Z>Be.value:dt>new Date(Be.value)),zr(st.value)&&Z&&(x=ae?$e(Z)<$e(st.value):ke?Z<st.value:dt<new Date(st.value))}if((O||x)&&(M(!!O,Be.message,st.message,pi.max,pi.min),!r))return de(Te[F].message),Te}if((m||v)&&!C&&(zr(Z)||a&&Array.isArray(Z))){const O=ha(m),x=ha(v),Be=!_n(O.value)&&Z.length>+O.value,st=!_n(x.value)&&Z.length<+x.value;if((Be||st)&&(M(Be,O.message,x.message),!r))return de(Te[F].message),Te}if(R&&!C&&zr(Z)){const{value:O,message:x}=ha(R);if(Sd(O)&&!Z.match(O)&&(Te[F]={type:pi.pattern,message:x,ref:u,...P(pi.pattern,x)},!r))return de(x),Te}if(V){if(Fr(V)){const O=await V(Z,t),x=A_(O,X);if(x&&(Te[F]={...x,...P(pi.validate,x.message)},!r))return de(x.message),Te}else if(Pt(V)){let O={};for(const x in V){if(!Cn(O)&&!r)break;const Be=A_(await V[x](Z,t),X,x);Be&&(O={...Be,...P(x,Be.message)},de(Be.message),r&&(Te[F]=O))}if(!Cn(O)&&(Te[F]={ref:X,...O},!r))return Te}}return de(!0),Te};function fS(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Vt(n)?r++:n[e[r++]];return n}function pS(n){for(const e in n)if(n.hasOwnProperty(e)&&!Vt(n[e]))return!1;return!0}function Ft(n,e){const t=Array.isArray(e)?e:sm(e)?[e]:Cw(e),r=t.length===1?n:fS(n,t),s=t.length-1,a=t[s];return r&&delete r[a],s!==0&&(Pt(r)&&Cn(r)||Array.isArray(r)&&pS(r))&&Ft(n,t.slice(0,-1)),n}var np=()=>{let n=[];return{get observers(){return n},next:s=>{for(const a of n)a.next&&a.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(a=>a!==s)}}),unsubscribe:()=>{n=[]}}},vp=n=>_n(n)||!Aw(n);function ss(n,e){if(vp(n)||vp(e))return n===e;if(oo(n)&&oo(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const s of t){const a=n[s];if(!r.includes(s))return!1;if(s!=="ref"){const u=e[s];if(oo(a)&&oo(u)||Pt(a)&&Pt(u)||Array.isArray(a)&&Array.isArray(u)?!ss(a,u):a!==u)return!1}}return!0}var Nw=n=>n.type==="select-multiple",mS=n=>am(n)||Au(n),rp=n=>Id(n)&&n.isConnected,Dw=n=>{for(const e in n)if(Fr(n[e]))return!0;return!1};function kd(n,e={}){const t=Array.isArray(n);if(Pt(n)||t)for(const r in n)Array.isArray(n[r])||Pt(n[r])&&!Dw(n[r])?(e[r]=Array.isArray(n[r])?[]:{},kd(n[r],e[r])):_n(n[r])||(e[r]=!0);return e}function Ow(n,e,t){const r=Array.isArray(n);if(Pt(n)||r)for(const s in n)Array.isArray(n[s])||Pt(n[s])&&!Dw(n[s])?Vt(e)||vp(t[s])?t[s]=Array.isArray(n[s])?kd(n[s],[]):{...kd(n[s])}:Ow(n[s],_n(e)?{}:e[s],t[s]):t[s]=!ss(n[s],e[s]);return t}var Ml=(n,e)=>Ow(n,e,kd(e)),Vw=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Vt(n)?n:e?n===""?NaN:n&&+n:t&&zr(n)?new Date(n):r?r(n):n;function ip(n){const e=n.ref;return om(e)?e.files:am(e)?bw(n.refs).value:Nw(e)?[...e.selectedOptions].map(({value:t})=>t):Au(e)?Pw(n.refs).value:Vw(Vt(e.value)?n.ref.value:e.value,n)}var gS=(n,e,t,r)=>{const s={};for(const a of n){const u=ye(e,a);u&&ht(s,a,u._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},jl=n=>Vt(n)?n:Sd(n)?n.source:Pt(n)?Sd(n.value)?n.value.source:n.value:n;const R_="AsyncFunction";var yS=n=>!!n&&!!n.validate&&!!(Fr(n.validate)&&n.validate.constructor.name===R_||Pt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===R_)),_S=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function P_(n,e,t){const r=ye(n,t);if(r||sm(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const a=s.join("."),u=ye(e,a),h=ye(n,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(h&&h.type)return{name:a,error:h};s.pop()}return{name:t}}var vS=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,wS=(n,e)=>!nh(ye(n,e)).length&&Ft(n,e);const ES={mode:yr.onSubmit,reValidateMode:yr.onChange,shouldFocusError:!0};function TS(n={}){let e={...ES,...n},t={submitCount:0,isDirty:!1,isLoading:Fr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Pt(e.defaultValues)||Pt(e.values)?Jn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Jn(s),u={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={values:np(),array:np(),state:np()},I=T_(e.mode),R=T_(e.reValidateMode),V=e.criteriaMode===yr.all,F=b=>W=>{clearTimeout(m),m=setTimeout(b,W)},j=async b=>{if(!e.disabled&&(v.isValid||b)){const W=e.resolver?Cn((await k()).errors):await P(r,!0);W!==t.isValid&&E.state.next({isValid:W})}},K=(b,W)=>{!e.disabled&&(v.isValidating||v.validatingFields)&&((b||Array.from(h.mount)).forEach(Q=>{Q&&(W?ht(t.validatingFields,Q,W):Ft(t.validatingFields,Q))}),E.state.next({validatingFields:t.validatingFields,isValidating:!Cn(t.validatingFields)}))},Z=(b,W=[],Q,ce,ue=!0,se=!0)=>{if(ce&&Q&&!e.disabled){if(u.action=!0,se&&Array.isArray(ye(r,b))){const Ae=Q(ye(r,b),ce.argA,ce.argB);ue&&ht(r,b,Ae)}if(se&&Array.isArray(ye(t.errors,b))){const Ae=Q(ye(t.errors,b),ce.argA,ce.argB);ue&&ht(t.errors,b,Ae),wS(t.errors,b)}if(v.touchedFields&&se&&Array.isArray(ye(t.touchedFields,b))){const Ae=Q(ye(t.touchedFields,b),ce.argA,ce.argB);ue&&ht(t.touchedFields,b,Ae)}v.dirtyFields&&(t.dirtyFields=Ml(s,a)),E.state.next({name:b,isDirty:O(b,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ht(a,b,W)},X=(b,W)=>{ht(t.errors,b,W),E.state.next({errors:t.errors})},de=b=>{t.errors=b,E.state.next({errors:t.errors,isValid:!1})},Te=(b,W,Q,ce)=>{const ue=ye(r,b);if(ue){const se=ye(a,b,Vt(Q)?ye(s,b):Q);Vt(se)||ce&&ce.defaultChecked||W?ht(a,b,W?se:ip(ue._f)):st(b,se),u.mount&&j()}},Ce=(b,W,Q,ce,ue)=>{let se=!1,Ae=!1;const je={name:b};if(!e.disabled){const Ge=!!(ye(r,b)&&ye(r,b)._f&&ye(r,b)._f.disabled);if(!Q||ce){v.isDirty&&(Ae=t.isDirty,t.isDirty=je.isDirty=O(),se=Ae!==je.isDirty);const Ke=Ge||ss(ye(s,b),W);Ae=!!(!Ge&&ye(t.dirtyFields,b)),Ke||Ge?Ft(t.dirtyFields,b):ht(t.dirtyFields,b,!0),je.dirtyFields=t.dirtyFields,se=se||v.dirtyFields&&Ae!==!Ke}if(Q){const Ke=ye(t.touchedFields,b);Ke||(ht(t.touchedFields,b,Q),je.touchedFields=t.touchedFields,se=se||v.touchedFields&&Ke!==Q)}se&&ue&&E.state.next(je)}return se?je:{}},D=(b,W,Q,ce)=>{const ue=ye(t.errors,b),se=v.isValid&&jr(W)&&t.isValid!==W;if(e.delayError&&Q?(f=F(()=>X(b,Q)),f(e.delayError)):(clearTimeout(m),f=null,Q?ht(t.errors,b,Q):Ft(t.errors,b)),(Q?!ss(ue,Q):ue)||!Cn(ce)||se){const Ae={...ce,...se&&jr(W)?{isValid:W}:{},errors:t.errors,name:b};t={...t,...Ae},E.state.next(Ae)}},k=async b=>{K(b,!0);const W=await e.resolver(a,e.context,gS(b||h.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return K(b),W},C=async b=>{const{errors:W}=await k(b);if(b)for(const Q of b){const ce=ye(W,Q);ce?ht(t.errors,Q,ce):Ft(t.errors,Q)}else t.errors=W;return W},P=async(b,W,Q={valid:!0})=>{for(const ce in b){const ue=b[ce];if(ue){const{_f:se,...Ae}=ue;if(se){const je=h.array.has(se.name),Ge=ue._f&&yS(ue._f);Ge&&v.validatingFields&&K([ce],!0);const Ke=await C_(ue,h.disabled,a,V,e.shouldUseNativeValidation&&!W,je);if(Ge&&v.validatingFields&&K([ce]),Ke[se.name]&&(Q.valid=!1,W))break;!W&&(ye(Ke,se.name)?je?hS(t.errors,Ke,se.name):ht(t.errors,se.name,Ke[se.name]):Ft(t.errors,se.name))}!Cn(Ae)&&await P(Ae,W,Q)}}return Q.valid},M=()=>{for(const b of h.unMount){const W=ye(r,b);W&&(W._f.refs?W._f.refs.every(Q=>!rp(Q)):!rp(W._f.ref))&&He(b)}h.unMount=new Set},O=(b,W)=>!e.disabled&&(b&&W&&ht(a,b,W),!ss(U(),s)),x=(b,W,Q)=>dS(b,h,{...u.mount?a:Vt(W)?s:zr(b)?{[b]:W}:W},Q,W),Be=b=>nh(ye(u.mount?a:s,b,e.shouldUnregister?ye(s,b,[]):[])),st=(b,W,Q={})=>{const ce=ye(r,b);let ue=W;if(ce){const se=ce._f;se&&(!se.disabled&&ht(a,b,Vw(W,se)),ue=Id(se.ref)&&_n(W)?"":W,Nw(se.ref)?[...se.ref.options].forEach(Ae=>Ae.selected=ue.includes(Ae.value)):se.refs?Au(se.ref)?se.refs.length>1?se.refs.forEach(Ae=>(!Ae.defaultChecked||!Ae.disabled)&&(Ae.checked=Array.isArray(ue)?!!ue.find(je=>je===Ae.value):ue===Ae.value)):se.refs[0]&&(se.refs[0].checked=!!ue):se.refs.forEach(Ae=>Ae.checked=Ae.value===ue):om(se.ref)?se.ref.value="":(se.ref.value=ue,se.ref.type||E.values.next({name:b,values:{...a}})))}(Q.shouldDirty||Q.shouldTouch)&&Ce(b,ue,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&fe(b)},dt=(b,W,Q)=>{for(const ce in W){const ue=W[ce],se=`${b}.${ce}`,Ae=ye(r,se);(h.array.has(b)||Pt(ue)||Ae&&!Ae._f)&&!oo(ue)?dt(se,ue,Q):st(se,ue,Q)}},$e=(b,W,Q={})=>{const ce=ye(r,b),ue=h.array.has(b),se=Jn(W);ht(a,b,se),ue?(E.array.next({name:b,values:{...a}}),(v.isDirty||v.dirtyFields)&&Q.shouldDirty&&E.state.next({name:b,dirtyFields:Ml(s,a),isDirty:O(b,se)})):ce&&!ce._f&&!_n(se)?dt(b,se,Q):st(b,se,Q),I_(b,h)&&E.state.next({...t}),E.values.next({name:u.mount?b:void 0,values:{...a}})},ae=async b=>{u.mount=!0;const W=b.target;let Q=W.name,ce=!0;const ue=ye(r,Q),se=()=>W.type?ip(ue._f):iS(b),Ae=je=>{ce=Number.isNaN(je)||oo(je)&&isNaN(je.getTime())||ss(je,ye(a,Q,je))};if(ue){let je,Ge;const Ke=se(),qt=b.type===E_.BLUR||b.type===E_.FOCUS_OUT,Ns=!_S(ue._f)&&!e.resolver&&!ye(t.errors,Q)&&!ue._f.deps||vS(qt,ye(t.touchedFields,Q),t.isSubmitted,R,I),zn=I_(Q,h,qt);ht(a,Q,Ke),qt?(ue._f.onBlur&&ue._f.onBlur(b),f&&f(0)):ue._f.onChange&&ue._f.onChange(b);const tr=Ce(Q,Ke,qt,!1),Xr=!Cn(tr)||zn;if(!qt&&E.values.next({name:Q,type:b.type,values:{...a}}),Ns)return v.isValid&&(e.mode==="onBlur"&&qt?j():qt||j()),Xr&&E.state.next({name:Q,...zn?{}:tr});if(!qt&&zn&&E.state.next({...t}),e.resolver){const{errors:Ni}=await k([Q]);if(Ae(Ke),ce){const Ds=P_(t.errors,r,Q),Di=P_(Ni,r,Ds.name||Q);je=Di.error,Q=Di.name,Ge=Cn(Ni)}}else K([Q],!0),je=(await C_(ue,h.disabled,a,V,e.shouldUseNativeValidation))[Q],K([Q]),Ae(Ke),ce&&(je?Ge=!1:v.isValid&&(Ge=await P(r,!0)));ce&&(ue._f.deps&&fe(ue._f.deps),D(Q,Ge,je,tr))}},ke=(b,W)=>{if(ye(t.errors,W)&&b.focus)return b.focus(),1},fe=async(b,W={})=>{let Q,ce;const ue=cd(b);if(e.resolver){const se=await C(Vt(b)?b:ue);Q=Cn(se),ce=b?!ue.some(Ae=>ye(se,Ae)):Q}else b?(ce=(await Promise.all(ue.map(async se=>{const Ae=ye(r,se);return await P(Ae&&Ae._f?{[se]:Ae}:Ae)}))).every(Boolean),!(!ce&&!t.isValid)&&j()):ce=Q=await P(r);return E.state.next({...!zr(b)||v.isValid&&Q!==t.isValid?{}:{name:b},...e.resolver||!b?{isValid:Q}:{},errors:t.errors}),W.shouldFocus&&!ce&&Kl(r,ke,b?ue:h.mount),ce},U=b=>{const W={...u.mount?a:s};return Vt(b)?W:zr(b)?ye(W,b):b.map(Q=>ye(W,Q))},Y=(b,W)=>({invalid:!!ye((W||t).errors,b),isDirty:!!ye((W||t).dirtyFields,b),error:ye((W||t).errors,b),isValidating:!!ye(t.validatingFields,b),isTouched:!!ye((W||t).touchedFields,b)}),xe=b=>{b&&cd(b).forEach(W=>Ft(t.errors,W)),E.state.next({errors:b?t.errors:{}})},Fe=(b,W,Q)=>{const ce=(ye(r,b,{_f:{}})._f||{}).ref,ue=ye(t.errors,b)||{},{ref:se,message:Ae,type:je,...Ge}=ue;ht(t.errors,b,{...Ge,...W,ref:ce}),E.state.next({name:b,errors:t.errors,isValid:!1}),Q&&Q.shouldFocus&&ce&&ce.focus&&ce.focus()},qe=(b,W)=>Fr(b)?E.values.subscribe({next:Q=>b(x(void 0,W),Q)}):x(b,W,!0),He=(b,W={})=>{for(const Q of b?cd(b):h.mount)h.mount.delete(Q),h.array.delete(Q),W.keepValue||(Ft(r,Q),Ft(a,Q)),!W.keepError&&Ft(t.errors,Q),!W.keepDirty&&Ft(t.dirtyFields,Q),!W.keepTouched&&Ft(t.touchedFields,Q),!W.keepIsValidating&&Ft(t.validatingFields,Q),!e.shouldUnregister&&!W.keepDefaultValue&&Ft(s,Q);E.values.next({values:{...a}}),E.state.next({...t,...W.keepDirty?{isDirty:O()}:{}}),!W.keepIsValid&&j()},tt=({disabled:b,name:W,field:Q,fields:ce})=>{(jr(b)&&u.mount||b||h.disabled.has(W))&&(b?h.disabled.add(W):h.disabled.delete(W),Ce(W,ip(Q?Q._f:ye(ce,W)._f),!1,!1,!0))},Je=(b,W={})=>{let Q=ye(r,b);const ce=jr(W.disabled)||jr(e.disabled);return ht(r,b,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:b}},name:b,mount:!0,...W}}),h.mount.add(b),Q?tt({field:Q,disabled:jr(W.disabled)?W.disabled:e.disabled,name:b}):Te(b,!0,W.value),{...ce?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:jl(W.min),max:jl(W.max),minLength:jl(W.minLength),maxLength:jl(W.maxLength),pattern:jl(W.pattern)}:{},name:b,onChange:ae,onBlur:ae,ref:ue=>{if(ue){Je(b,W),Q=ye(r,b);const se=Vt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,Ae=mS(se),je=Q._f.refs||[];if(Ae?je.find(Ge=>Ge===se):se===Q._f.ref)return;ht(r,b,{_f:{...Q._f,...Ae?{refs:[...je.filter(rp),se,...Array.isArray(ye(s,b))?[{}]:[]],ref:{type:se.type,name:b}}:{ref:se}}}),Te(b,!1,void 0,se)}else Q=ye(r,b,{}),Q._f&&(Q._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(oS(h.array,b)&&u.action)&&h.unMount.add(b)}}},ut=()=>e.shouldFocusError&&Kl(r,ke,h.mount),bt=b=>{jr(b)&&(E.state.next({disabled:b}),Kl(r,(W,Q)=>{const ce=ye(r,Q);ce&&(W.disabled=ce._f.disabled||b,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ue=>{ue.disabled=ce._f.disabled||b}))},0,!1))},Fn=(b,W)=>async Q=>{let ce;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ue=Jn(a);if(h.disabled.size)for(const se of h.disabled)ht(ue,se,void 0);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:Ae}=await k();t.errors=se,ue=Ae}else await P(r);if(Ft(t.errors,"root"),Cn(t.errors)){E.state.next({errors:{}});try{await b(ue,Q)}catch(se){ce=se}}else W&&await W({...t.errors},Q),ut(),setTimeout(ut);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cn(t.errors)&&!ce,submitCount:t.submitCount+1,errors:t.errors}),ce)throw ce},bi=(b,W={})=>{ye(r,b)&&(Vt(W.defaultValue)?$e(b,Jn(ye(s,b))):($e(b,W.defaultValue),ht(s,b,Jn(W.defaultValue))),W.keepTouched||Ft(t.touchedFields,b),W.keepDirty||(Ft(t.dirtyFields,b),t.isDirty=W.defaultValue?O(b,Jn(ye(s,b))):O()),W.keepError||(Ft(t.errors,b),v.isValid&&j()),E.state.next({...t}))},er=(b,W={})=>{const Q=b?Jn(b):s,ce=Jn(Q),ue=Cn(b),se=ue?s:ce;if(W.keepDefaultValues||(s=Q),!W.keepValues){if(W.keepDirtyValues){const Ae=new Set([...h.mount,...Object.keys(Ml(s,a))]);for(const je of Array.from(Ae))ye(t.dirtyFields,je)?ht(se,je,ye(a,je)):$e(je,ye(se,je))}else{if(im&&Vt(b))for(const Ae of h.mount){const je=ye(r,Ae);if(je&&je._f){const Ge=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Id(Ge)){const Ke=Ge.closest("form");if(Ke){Ke.reset();break}}}}r={}}a=e.shouldUnregister?W.keepDefaultValues?Jn(s):{}:Jn(se),E.array.next({values:{...se}}),E.values.next({values:{...se}})}h={mount:W.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!W.keepIsValid||!!W.keepDirtyValues,u.watch=!!e.shouldUnregister,E.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:ue?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!ss(b,s)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ue?{}:W.keepDirtyValues?W.keepDefaultValues&&a?Ml(s,a):t.dirtyFields:W.keepDefaultValues&&b?Ml(s,b):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},xr=(b,W)=>er(Fr(b)?b(a):b,W);return{control:{register:Je,unregister:He,getFieldState:Y,handleSubmit:Fn,setError:Fe,_executeSchema:k,_getWatch:x,_getDirty:O,_updateValid:j,_removeUnmounted:M,_updateFieldArray:Z,_updateDisabledField:tt,_getFieldArray:Be,_reset:er,_resetDefaultValues:()=>Fr(e.defaultValues)&&e.defaultValues().then(b=>{xr(b,e.resetOptions),E.state.next({isLoading:!1})}),_updateFormState:b=>{t={...t,...b}},_disableForm:bt,_subjects:E,_proxyFormState:v,_setErrors:de,get _fields(){return r},get _formValues(){return a},get _state(){return u},set _state(b){u=b},get _defaultValues(){return s},get _names(){return h},set _names(b){h=b},get _formState(){return t},set _formState(b){t=b},get _options(){return e},set _options(b){e={...e,...b}}},trigger:fe,register:Je,handleSubmit:Fn,watch:qe,setValue:$e,getValues:U,reset:xr,resetField:bi,clearErrors:xe,unregister:He,setError:Fe,setFocus:(b,W={})=>{const Q=ye(r,b),ce=Q&&Q._f;if(ce){const ue=ce.refs?ce.refs[0]:ce.ref;ue.focus&&(ue.focus(),W.shouldSelect&&Fr(ue.select)&&ue.select())}},getFieldState:Y}}function Lw(n={}){const e=zt.useRef(void 0),t=zt.useRef(void 0),[r,s]=zt.useState({isDirty:!1,isValidating:!1,isLoading:Fr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Fr(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...TS(n),formState:r});const a=e.current.control;return a._options=n,cS({subject:a._subjects.state,next:u=>{uS(u,a._proxyFormState,a._updateFormState)&&s({...a._formState})}}),zt.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),zt.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==r.isDirty&&a._subjects.state.next({isDirty:u})}},[a,r.isDirty]),zt.useEffect(()=>{n.values&&!ss(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,s(u=>({...u}))):a._resetDefaultValues()},[n.values,a]),zt.useEffect(()=>{n.errors&&a._setErrors(n.errors)},[n.errors,a]),zt.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),zt.useEffect(()=>{n.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[n.shouldUnregister,a]),e.current.formState=lS(r,a),e.current}const b_=(n,e,t)=>{if(n&&"reportValidity"in n){const r=ye(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},Mw=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?b_(r.ref,t,n):r.refs&&r.refs.forEach(s=>b_(s,t,n))}},IS=(n,e)=>{e.shouldUseNativeValidation&&Mw(n,e);const t={};for(const r in n){const s=ye(e.fields,r),a=Object.assign(n[r]||{},{ref:s&&s.ref});if(SS(e.names||Object.keys(n),r)){const u=Object.assign({},ye(t,r));ht(u,"root",a),ht(t,r,u)}else ht(t,r,a)}return t},SS=(n,e)=>n.some(t=>t.startsWith(e+"."));var kS=function(n,e){for(var t={};n.length;){var r=n[0],s=r.code,a=r.message,u=r.path.join(".");if(!t[u])if("unionErrors"in r){var h=r.unionErrors[0].errors[0];t[u]={message:h.message,type:h.code}}else t[u]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(v){return v.errors.forEach(function(E){return n.push(E)})}),e){var f=t[u].types,m=f&&f[r.code];t[u]=Rw(u,e,t,s,m?[].concat(m,r.message):r.message)}n.shift()}return t},xS=function(n,e,t){return t===void 0&&(t={}),function(r,s,a){try{return Promise.resolve(function(u,h){try{var f=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(m){return a.shouldUseNativeValidation&&Mw({},a),{errors:{},values:t.raw?r:m}})}catch(m){return h(m)}return f&&f.then?f.then(void 0,h):f}(0,function(u){if(function(h){return Array.isArray(h==null?void 0:h.errors)}(u))return{values:{},errors:IS(kS(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}},it;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const a={};for(const u of s)a[u]=u;return a},n.getValidEnumValues=s=>{const a=n.objectKeys(s).filter(h=>typeof s[s[h]]!="number"),u={};for(const h of a)u[h]=s[h];return n.objectValues(u)},n.objectValues=s=>n.objectKeys(s).map(function(a){return s[a]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&a.push(u);return a},n.find=(s,a)=>{for(const u of s)if(a(u))return u},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(it||(it={}));var wp;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(wp||(wp={}));const me=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gi=n=>{switch(typeof n){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(n)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(n)?me.array:n===null?me.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?me.promise:typeof Map<"u"&&n instanceof Map?me.map:typeof Set<"u"&&n instanceof Set?me.set:typeof Date<"u"&&n instanceof Date?me.date:me.object;default:return me.unknown}},ie=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),AS=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Un extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(s);else if(u.code==="invalid_return_type")s(u.returnTypeError);else if(u.code==="invalid_arguments")s(u.argumentsError);else if(u.path.length===0)r._errors.push(t(u));else{let h=r,f=0;for(;f<u.path.length;){const m=u.path[f];f===u.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(t(u))):h[m]=h[m]||{_errors:[]},h=h[m],f++}}};return s(this),r}static assert(e){if(!(e instanceof Un))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Un.create=n=>new Un(n);const xa=(n,e)=>{let t;switch(n.code){case ie.invalid_type:n.received===me.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ie.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,it.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:t=`Unrecognized key(s) in object: ${it.joinValues(n.keys,", ")}`;break;case ie.invalid_union:t="Invalid input";break;case ie.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${it.joinValues(n.options)}`;break;case ie.invalid_enum_value:t=`Invalid enum value. Expected ${it.joinValues(n.options)}, received '${n.received}'`;break;case ie.invalid_arguments:t="Invalid function arguments";break;case ie.invalid_return_type:t="Invalid function return type";break;case ie.invalid_date:t="Invalid date";break;case ie.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:it.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ie.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ie.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ie.custom:t="Invalid input";break;case ie.invalid_intersection_types:t="Intersection results could not be merged";break;case ie.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ie.not_finite:t="Number must be finite";break;default:t=e.defaultError,it.assertNever(n)}return{message:t}};let jw=xa;function CS(n){jw=n}function xd(){return jw}const Ad=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,a=[...t,...s.path||[]],u={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let h="";const f=r.filter(m=>!!m).slice().reverse();for(const m of f)h=m(u,{data:e,defaultError:h}).message;return{...s,path:a,message:h}},RS=[];function he(n,e){const t=xd(),r=Ad({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===xa?void 0:xa].filter(s=>!!s)});n.common.issues.push(r)}class hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return Oe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const a=await s.key,u=await s.value;r.push({key:a,value:u})}return hn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:a,value:u}=s;if(a.status==="aborted"||u.status==="aborted")return Oe;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||s.alwaysSet)&&(r[a.value]=u.value)}return{status:e.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),_a=n=>({status:"dirty",value:n}),vn=n=>({status:"valid",value:n}),Ep=n=>n.status==="aborted",Tp=n=>n.status==="dirty",uo=n=>n.status==="valid",nu=n=>typeof Promise<"u"&&n instanceof Promise;function Cd(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function Uw(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Se;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Se||(Se={}));var Fl,zl;class Kr{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const N_=(n,e)=>{if(uo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Un(n.common.issues);return this._error=t,this._error}}};function ze(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(u,h)=>{var f,m;const{message:v}=n;return u.code==="invalid_enum_value"?{message:v??h.defaultError}:typeof h.data>"u"?{message:(f=v??r)!==null&&f!==void 0?f:h.defaultError}:u.code!=="invalid_type"?{message:h.defaultError}:{message:(m=v??t)!==null&&m!==void 0?m:h.defaultError}},description:s}}class We{get description(){return this._def.description}_getType(e){return gi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new hn,ctx:{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(nu(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},a=this._parseSync({data:e,path:s.path,parent:s});return N_(s,a)}"~validate"(e){var t,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return uo(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(t=a==null?void 0:a.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>uo(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(nu(s)?s:Promise.resolve(s));return N_(r,a)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const u=e(s),h=()=>a.addIssue({code:ie.custom,...r(s)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(h(),!1)):u?!0:(h(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Tr({schema:this,typeName:Ne.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Br.create(this,this._def)}nullable(){return Is.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wr.create(this)}promise(){return Ca.create(this,this._def)}or(e){return ou.create([this,e],this._def)}and(e){return au.create(this,e,this._def)}transform(e){return new Tr({...ze(this._def),schema:this,typeName:Ne.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new hu({...ze(this._def),innerType:this,defaultValue:t,typeName:Ne.ZodDefault})}brand(){return new lm({typeName:Ne.ZodBranded,type:this,...ze(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new fu({...ze(this._def),innerType:this,catchValue:t,typeName:Ne.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Cu.create(this,e)}readonly(){return pu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PS=/^c[^\s-]{8,}$/i,bS=/^[0-9a-z]+$/,NS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OS=/^[a-z0-9_-]{21}$/i,VS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,LS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,MS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sp;const US=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,BS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$S=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Fw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",WS=new RegExp(`^${Fw}$`);function zw(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function HS(n){return new RegExp(`^${zw(n)}$`)}function Bw(n){let e=`${Fw}T${zw(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function GS(n,e){return!!((e==="v4"||!e)&&US.test(n)||(e==="v6"||!e)&&zS.test(n))}function KS(n,e){if(!VS.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function QS(n,e){return!!((e==="v4"||!e)&&FS.test(n)||(e==="v6"||!e)&&BS.test(n))}class _r extends We{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:me.string,received:a.parsedType}),Oe}const r=new hn;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,h=e.data.length<a.value;(u||h)&&(s=this._getOrReturnCtx(e,s),u?he(s,{code:ie.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&he(s,{code:ie.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")MS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"email",code:ie.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")sp||(sp=new RegExp(jS,"u")),sp.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"emoji",code:ie.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")DS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"uuid",code:ie.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")OS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"nanoid",code:ie.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")PS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid",code:ie.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")bS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid2",code:ie.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")NS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ulid",code:ie.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),he(s,{validation:"url",code:ie.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"regex",code:ie.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Bw(a).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?WS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?HS(a).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?LS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"duration",code:ie.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?GS(e.data,a.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ip",code:ie.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?KS(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"jwt",code:ie.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?QS(e.data,a.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cidr",code:ie.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?$S.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64",code:ie.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?qS.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64url",code:ie.invalid_string,message:a.message}),r.dirty()):it.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:ie.invalid_string,...Se.errToObj(r)})}_addCheck(e){return new _r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Se.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Se.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Se.errToObj(t)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new _r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}_r.create=n=>{var e;return new _r({checks:[],typeName:Ne.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ze(n)})};function ZS(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=parseInt(n.toFixed(s).replace(".","")),u=parseInt(e.toFixed(s).replace(".",""));return a%u/Math.pow(10,s)}class ws extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:me.number,received:a.parsedType}),Oe}let r;const s=new hn;for(const a of this._def.checks)a.kind==="int"?it.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:ie.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ie.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ie.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?ZS(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:ie.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:ie.not_finite,message:a.message}),s.dirty()):it.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,r,s){return new ws({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Se.toString(s)}]})}_addCheck(e){return new ws({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&it.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ws.create=n=>new ws({checks:[],typeName:Ne.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ze(n)});class Es extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let r;const s=new hn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ie.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ie.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ie.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):it.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return he(t,{code:ie.invalid_type,expected:me.bigint,received:t.parsedType}),Oe}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,r,s){return new Es({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Se.toString(s)}]})}_addCheck(e){return new Es({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Es.create=n=>{var e;return new Es({checks:[],typeName:Ne.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ze(n)})};class ru extends We{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.boolean,received:r.parsedType}),Oe}return vn(e.data)}}ru.create=n=>new ru({typeName:Ne.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ze(n)});class co extends We{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:me.date,received:a.parsedType}),Oe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_date}),Oe}const r=new hn;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):it.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}co.create=n=>new co({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ne.ZodDate,...ze(n)});class Rd extends We{_parse(e){if(this._getType(e)!==me.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.symbol,received:r.parsedType}),Oe}return vn(e.data)}}Rd.create=n=>new Rd({typeName:Ne.ZodSymbol,...ze(n)});class iu extends We{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.undefined,received:r.parsedType}),Oe}return vn(e.data)}}iu.create=n=>new iu({typeName:Ne.ZodUndefined,...ze(n)});class su extends We{_parse(e){if(this._getType(e)!==me.null){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.null,received:r.parsedType}),Oe}return vn(e.data)}}su.create=n=>new su({typeName:Ne.ZodNull,...ze(n)});class Aa extends We{constructor(){super(...arguments),this._any=!0}_parse(e){return vn(e.data)}}Aa.create=n=>new Aa({typeName:Ne.ZodAny,...ze(n)});class lo extends We{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vn(e.data)}}lo.create=n=>new lo({typeName:Ne.ZodUnknown,...ze(n)});class Si extends We{_parse(e){const t=this._getOrReturnCtx(e);return he(t,{code:ie.invalid_type,expected:me.never,received:t.parsedType}),Oe}}Si.create=n=>new Si({typeName:Ne.ZodNever,...ze(n)});class Pd extends We{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.void,received:r.parsedType}),Oe}return vn(e.data)}}Pd.create=n=>new Pd({typeName:Ne.ZodVoid,...ze(n)});class wr extends We{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==me.array)return he(t,{code:ie.invalid_type,expected:me.array,received:t.parsedType}),Oe;if(s.exactLength!==null){const u=t.data.length>s.exactLength.value,h=t.data.length<s.exactLength.value;(u||h)&&(he(t,{code:u?ie.too_big:ie.too_small,minimum:h?s.exactLength.value:void 0,maximum:u?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(he(t,{code:ie.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(he(t,{code:ie.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((u,h)=>s.type._parseAsync(new Kr(t,u,t.path,h)))).then(u=>hn.mergeArray(r,u));const a=[...t.data].map((u,h)=>s.type._parseSync(new Kr(t,u,t.path,h)));return hn.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new wr({...this._def,minLength:{value:e,message:Se.toString(t)}})}max(e,t){return new wr({...this._def,maxLength:{value:e,message:Se.toString(t)}})}length(e,t){return new wr({...this._def,exactLength:{value:e,message:Se.toString(t)}})}nonempty(e){return this.min(1,e)}}wr.create=(n,e)=>new wr({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ne.ZodArray,...ze(e)});function fa(n){if(n instanceof St){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Br.create(fa(r))}return new St({...n._def,shape:()=>e})}else return n instanceof wr?new wr({...n._def,type:fa(n.element)}):n instanceof Br?Br.create(fa(n.unwrap())):n instanceof Is?Is.create(fa(n.unwrap())):n instanceof Qr?Qr.create(n.items.map(e=>fa(e))):n}class St extends We{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=it.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==me.object){const m=this._getOrReturnCtx(e);return he(m,{code:ie.invalid_type,expected:me.object,received:m.parsedType}),Oe}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),h=[];if(!(this._def.catchall instanceof Si&&this._def.unknownKeys==="strip"))for(const m in s.data)u.includes(m)||h.push(m);const f=[];for(const m of u){const v=a[m],E=s.data[m];f.push({key:{status:"valid",value:m},value:v._parse(new Kr(s,E,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Si){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of h)f.push({key:{status:"valid",value:v},value:{status:"valid",value:s.data[v]}});else if(m==="strict")h.length>0&&(he(s,{code:ie.unrecognized_keys,keys:h}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of h){const E=s.data[v];f.push({key:{status:"valid",value:v},value:m._parse(new Kr(s,E,s.path,v)),alwaysSet:v in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of f){const E=await v.key,I=await v.value;m.push({key:E,value:I,alwaysSet:v.alwaysSet})}return m}).then(m=>hn.mergeObjectSync(r,m)):hn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new St({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,a,u,h;const f=(u=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,t,r).message)!==null&&u!==void 0?u:r.defaultError;return t.code==="unrecognized_keys"?{message:(h=Se.errToObj(e).message)!==null&&h!==void 0?h:f}:{message:f}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(e){return new St({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new St({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ne.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new St({...this._def,catchall:e})}pick(e){const t={};return it.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new St({...this._def,shape:()=>t})}omit(e){const t={};return it.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new St({...this._def,shape:()=>t})}deepPartial(){return fa(this)}partial(e){const t={};return it.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new St({...this._def,shape:()=>t})}required(e){const t={};return it.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Br;)a=a._def.innerType;t[r]=a}}),new St({...this._def,shape:()=>t})}keyof(){return $w(it.objectKeys(this.shape))}}St.create=(n,e)=>new St({shape:()=>n,unknownKeys:"strip",catchall:Si.create(),typeName:Ne.ZodObject,...ze(e)});St.strictCreate=(n,e)=>new St({shape:()=>n,unknownKeys:"strict",catchall:Si.create(),typeName:Ne.ZodObject,...ze(e)});St.lazycreate=(n,e)=>new St({shape:n,unknownKeys:"strip",catchall:Si.create(),typeName:Ne.ZodObject,...ze(e)});class ou extends We{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return t.common.issues.push(...h.ctx.common.issues),h.result;const u=a.map(h=>new Un(h.ctx.common.issues));return he(t,{code:ie.invalid_union,unionErrors:u}),Oe}if(t.common.async)return Promise.all(r.map(async a=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(s);{let a;const u=[];for(const f of r){const m={...t,common:{...t.common,issues:[]},parent:null},v=f._parseSync({data:t.data,path:t.path,parent:m});if(v.status==="valid")return v;v.status==="dirty"&&!a&&(a={result:v,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const h=u.map(f=>new Un(f));return he(t,{code:ie.invalid_union,unionErrors:h}),Oe}}get options(){return this._def.options}}ou.create=(n,e)=>new ou({options:n,typeName:Ne.ZodUnion,...ze(e)});const mi=n=>n instanceof uu?mi(n.schema):n instanceof Tr?mi(n.innerType()):n instanceof cu?[n.value]:n instanceof Ts?n.options:n instanceof du?it.objectValues(n.enum):n instanceof hu?mi(n._def.innerType):n instanceof iu?[void 0]:n instanceof su?[null]:n instanceof Br?[void 0,...mi(n.unwrap())]:n instanceof Is?[null,...mi(n.unwrap())]:n instanceof lm||n instanceof pu?mi(n.unwrap()):n instanceof fu?mi(n._def.innerType):[];class rh extends We{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.object)return he(t,{code:ie.invalid_type,expected:me.object,received:t.parsedType}),Oe;const r=this.discriminator,s=t.data[r],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(he(t,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const a of t){const u=mi(a.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const h of u){if(s.has(h))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(h)}`);s.set(h,a)}}return new rh({typeName:Ne.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...ze(r)})}}function Ip(n,e){const t=gi(n),r=gi(e);if(n===e)return{valid:!0,data:n};if(t===me.object&&r===me.object){const s=it.objectKeys(e),a=it.objectKeys(n).filter(h=>s.indexOf(h)!==-1),u={...n,...e};for(const h of a){const f=Ip(n[h],e[h]);if(!f.valid)return{valid:!1};u[h]=f.data}return{valid:!0,data:u}}else if(t===me.array&&r===me.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<n.length;a++){const u=n[a],h=e[a],f=Ip(u,h);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return t===me.date&&r===me.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class au extends We{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(a,u)=>{if(Ep(a)||Ep(u))return Oe;const h=Ip(a.value,u.value);return h.valid?((Tp(a)||Tp(u))&&t.dirty(),{status:t.value,value:h.data}):(he(r,{code:ie.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,u])=>s(a,u)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}au.create=(n,e,t)=>new au({left:n,right:e,typeName:Ne.ZodIntersection,...ze(t)});class Qr extends We{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.array)return he(r,{code:ie.invalid_type,expected:me.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return he(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((u,h)=>{const f=this._def.items[h]||this._def.rest;return f?f._parse(new Kr(r,u,r.path,h)):null}).filter(u=>!!u);return r.common.async?Promise.all(a).then(u=>hn.mergeArray(t,u)):hn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Qr({...this._def,rest:e})}}Qr.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qr({items:n,typeName:Ne.ZodTuple,rest:null,...ze(e)})};class lu extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return he(r,{code:ie.invalid_type,expected:me.object,received:r.parsedType}),Oe;const s=[],a=this._def.keyType,u=this._def.valueType;for(const h in r.data)s.push({key:a._parse(new Kr(r,h,r.path,h)),value:u._parse(new Kr(r,r.data[h],r.path,h)),alwaysSet:h in r.data});return r.common.async?hn.mergeObjectAsync(t,s):hn.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof We?new lu({keyType:e,valueType:t,typeName:Ne.ZodRecord,...ze(r)}):new lu({keyType:_r.create(),valueType:e,typeName:Ne.ZodRecord,...ze(t)})}}class bd extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.map)return he(r,{code:ie.invalid_type,expected:me.map,received:r.parsedType}),Oe;const s=this._def.keyType,a=this._def.valueType,u=[...r.data.entries()].map(([h,f],m)=>({key:s._parse(new Kr(r,h,r.path,[m,"key"])),value:a._parse(new Kr(r,f,r.path,[m,"value"]))}));if(r.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const f of u){const m=await f.key,v=await f.value;if(m.status==="aborted"||v.status==="aborted")return Oe;(m.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(m.value,v.value)}return{status:t.value,value:h}})}else{const h=new Map;for(const f of u){const m=f.key,v=f.value;if(m.status==="aborted"||v.status==="aborted")return Oe;(m.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(m.value,v.value)}return{status:t.value,value:h}}}}bd.create=(n,e,t)=>new bd({valueType:e,keyType:n,typeName:Ne.ZodMap,...ze(t)});class ho extends We{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.set)return he(r,{code:ie.invalid_type,expected:me.set,received:r.parsedType}),Oe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(he(r,{code:ie.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(he(r,{code:ie.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function u(f){const m=new Set;for(const v of f){if(v.status==="aborted")return Oe;v.status==="dirty"&&t.dirty(),m.add(v.value)}return{status:t.value,value:m}}const h=[...r.data.values()].map((f,m)=>a._parse(new Kr(r,f,r.path,m)));return r.common.async?Promise.all(h).then(f=>u(f)):u(h)}min(e,t){return new ho({...this._def,minSize:{value:e,message:Se.toString(t)}})}max(e,t){return new ho({...this._def,maxSize:{value:e,message:Se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ho.create=(n,e)=>new ho({valueType:n,minSize:null,maxSize:null,typeName:Ne.ZodSet,...ze(e)});class wa extends We{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.function)return he(t,{code:ie.invalid_type,expected:me.function,received:t.parsedType}),Oe;function r(h,f){return Ad({data:h,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xd(),xa].filter(m=>!!m),issueData:{code:ie.invalid_arguments,argumentsError:f}})}function s(h,f){return Ad({data:h,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xd(),xa].filter(m=>!!m),issueData:{code:ie.invalid_return_type,returnTypeError:f}})}const a={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof Ca){const h=this;return vn(async function(...f){const m=new Un([]),v=await h._def.args.parseAsync(f,a).catch(R=>{throw m.addIssue(r(f,R)),m}),E=await Reflect.apply(u,this,v);return await h._def.returns._def.type.parseAsync(E,a).catch(R=>{throw m.addIssue(s(E,R)),m})})}else{const h=this;return vn(function(...f){const m=h._def.args.safeParse(f,a);if(!m.success)throw new Un([r(f,m.error)]);const v=Reflect.apply(u,this,m.data),E=h._def.returns.safeParse(v,a);if(!E.success)throw new Un([s(v,E.error)]);return E.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wa({...this._def,args:Qr.create(e).rest(lo.create())})}returns(e){return new wa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new wa({args:e||Qr.create([]).rest(lo.create()),returns:t||lo.create(),typeName:Ne.ZodFunction,...ze(r)})}}class uu extends We{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}uu.create=(n,e)=>new uu({getter:n,typeName:Ne.ZodLazy,...ze(e)});class cu extends We{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return he(t,{received:t.data,code:ie.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}cu.create=(n,e)=>new cu({value:n,typeName:Ne.ZodLiteral,...ze(e)});function $w(n,e){return new Ts({values:n,typeName:Ne.ZodEnum,...ze(e)})}class Ts extends We{constructor(){super(...arguments),Fl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return he(t,{expected:it.joinValues(r),received:t.parsedType,code:ie.invalid_type}),Oe}if(Cd(this,Fl)||Uw(this,Fl,new Set(this._def.values)),!Cd(this,Fl).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return he(t,{received:t.data,code:ie.invalid_enum_value,options:r}),Oe}return vn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ts.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ts.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Fl=new WeakMap;Ts.create=$w;class du extends We{constructor(){super(...arguments),zl.set(this,void 0)}_parse(e){const t=it.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==me.string&&r.parsedType!==me.number){const s=it.objectValues(t);return he(r,{expected:it.joinValues(s),received:r.parsedType,code:ie.invalid_type}),Oe}if(Cd(this,zl)||Uw(this,zl,new Set(it.getValidEnumValues(this._def.values))),!Cd(this,zl).has(e.data)){const s=it.objectValues(t);return he(r,{received:r.data,code:ie.invalid_enum_value,options:s}),Oe}return vn(e.data)}get enum(){return this._def.values}}zl=new WeakMap;du.create=(n,e)=>new du({values:n,typeName:Ne.ZodNativeEnum,...ze(e)});class Ca extends We{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.promise&&t.common.async===!1)return he(t,{code:ie.invalid_type,expected:me.promise,received:t.parsedType}),Oe;const r=t.parsedType===me.promise?t.data:Promise.resolve(t.data);return vn(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ca.create=(n,e)=>new Ca({type:n,typeName:Ne.ZodPromise,...ze(e)});class Tr extends We{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:u=>{he(r,u),u.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const u=s.transform(r.data,a);if(r.common.async)return Promise.resolve(u).then(async h=>{if(t.value==="aborted")return Oe;const f=await this._def.schema._parseAsync({data:h,path:r.path,parent:r});return f.status==="aborted"?Oe:f.status==="dirty"||t.value==="dirty"?_a(f.value):f});{if(t.value==="aborted")return Oe;const h=this._def.schema._parseSync({data:u,path:r.path,parent:r});return h.status==="aborted"?Oe:h.status==="dirty"||t.value==="dirty"?_a(h.value):h}}if(s.type==="refinement"){const u=h=>{const f=s.refinement(h,a);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(r.common.async===!1){const h=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return h.status==="aborted"?Oe:(h.status==="dirty"&&t.dirty(),u(h.value),{status:t.value,value:h.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(h=>h.status==="aborted"?Oe:(h.status==="dirty"&&t.dirty(),u(h.value).then(()=>({status:t.value,value:h.value}))))}if(s.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!uo(u))return u;const h=s.transform(u.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:h}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>uo(u)?Promise.resolve(s.transform(u.value,a)).then(h=>({status:t.value,value:h})):u);it.assertNever(s)}}Tr.create=(n,e,t)=>new Tr({schema:n,typeName:Ne.ZodEffects,effect:e,...ze(t)});Tr.createWithPreprocess=(n,e,t)=>new Tr({schema:e,effect:{type:"preprocess",transform:n},typeName:Ne.ZodEffects,...ze(t)});class Br extends We{_parse(e){return this._getType(e)===me.undefined?vn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Br.create=(n,e)=>new Br({innerType:n,typeName:Ne.ZodOptional,...ze(e)});class Is extends We{_parse(e){return this._getType(e)===me.null?vn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Is.create=(n,e)=>new Is({innerType:n,typeName:Ne.ZodNullable,...ze(e)});class hu extends We{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}hu.create=(n,e)=>new hu({innerType:n,typeName:Ne.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ze(e)});class fu extends We{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return nu(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Un(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Un(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fu.create=(n,e)=>new fu({innerType:n,typeName:Ne.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ze(e)});class Nd extends We{_parse(e){if(this._getType(e)!==me.nan){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.nan,received:r.parsedType}),Oe}return{status:"valid",value:e.data}}}Nd.create=n=>new Nd({typeName:Ne.ZodNaN,...ze(n)});const YS=Symbol("zod_brand");class lm extends We{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Cu extends We{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Oe:a.status==="dirty"?(t.dirty(),_a(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Oe:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new Cu({in:e,out:t,typeName:Ne.ZodPipeline})}}class pu extends We{_parse(e){const t=this._def.innerType._parse(e),r=s=>(uo(s)&&(s.value=Object.freeze(s.value)),s);return nu(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}pu.create=(n,e)=>new pu({innerType:n,typeName:Ne.ZodReadonly,...ze(e)});function qw(n,e={},t){return n?Aa.create().superRefine((r,s)=>{var a,u;if(!n(r)){const h=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,f=(u=(a=h.fatal)!==null&&a!==void 0?a:t)!==null&&u!==void 0?u:!0,m=typeof h=="string"?{message:h}:h;s.addIssue({code:"custom",...m,fatal:f})}}):Aa.create()}const JS={object:St.lazycreate};var Ne;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ne||(Ne={}));const XS=(n,e={message:`Input not instance of ${n.name}`})=>qw(t=>t instanceof n,e),Ww=_r.create,Hw=ws.create,ek=Nd.create,tk=Es.create,Gw=ru.create,nk=co.create,rk=Rd.create,ik=iu.create,sk=su.create,ok=Aa.create,ak=lo.create,lk=Si.create,uk=Pd.create,ck=wr.create,dk=St.create,hk=St.strictCreate,fk=ou.create,pk=rh.create,mk=au.create,gk=Qr.create,yk=lu.create,_k=bd.create,vk=ho.create,wk=wa.create,Ek=uu.create,Tk=cu.create,Ik=Ts.create,Sk=du.create,kk=Ca.create,D_=Tr.create,xk=Br.create,Ak=Is.create,Ck=Tr.createWithPreprocess,Rk=Cu.create,Pk=()=>Ww().optional(),bk=()=>Hw().optional(),Nk=()=>Gw().optional(),Dk={string:n=>_r.create({...n,coerce:!0}),number:n=>ws.create({...n,coerce:!0}),boolean:n=>ru.create({...n,coerce:!0}),bigint:n=>Es.create({...n,coerce:!0}),date:n=>co.create({...n,coerce:!0})},Ok=Oe;var Ql=Object.freeze({__proto__:null,defaultErrorMap:xa,setErrorMap:CS,getErrorMap:xd,makeIssue:Ad,EMPTY_PATH:RS,addIssueToContext:he,ParseStatus:hn,INVALID:Oe,DIRTY:_a,OK:vn,isAborted:Ep,isDirty:Tp,isValid:uo,isAsync:nu,get util(){return it},get objectUtil(){return wp},ZodParsedType:me,getParsedType:gi,ZodType:We,datetimeRegex:Bw,ZodString:_r,ZodNumber:ws,ZodBigInt:Es,ZodBoolean:ru,ZodDate:co,ZodSymbol:Rd,ZodUndefined:iu,ZodNull:su,ZodAny:Aa,ZodUnknown:lo,ZodNever:Si,ZodVoid:Pd,ZodArray:wr,ZodObject:St,ZodUnion:ou,ZodDiscriminatedUnion:rh,ZodIntersection:au,ZodTuple:Qr,ZodRecord:lu,ZodMap:bd,ZodSet:ho,ZodFunction:wa,ZodLazy:uu,ZodLiteral:cu,ZodEnum:Ts,ZodNativeEnum:du,ZodPromise:Ca,ZodEffects:Tr,ZodTransformer:Tr,ZodOptional:Br,ZodNullable:Is,ZodDefault:hu,ZodCatch:fu,ZodNaN:Nd,BRAND:YS,ZodBranded:lm,ZodPipeline:Cu,ZodReadonly:pu,custom:qw,Schema:We,ZodSchema:We,late:JS,get ZodFirstPartyTypeKind(){return Ne},coerce:Dk,any:ok,array:ck,bigint:tk,boolean:Gw,date:nk,discriminatedUnion:pk,effect:D_,enum:Ik,function:wk,instanceof:XS,intersection:mk,lazy:Ek,literal:Tk,map:_k,nan:ek,nativeEnum:Sk,never:lk,null:sk,nullable:Ak,number:Hw,object:dk,oboolean:Nk,onumber:bk,optional:xk,ostring:Pk,pipeline:Rk,preprocess:Ck,promise:kk,record:yk,set:vk,strictObject:hk,string:Ww,symbol:rk,transformer:D_,tuple:gk,undefined:ik,union:fk,unknown:ak,void:uk,NEVER:Ok,ZodIssueCode:ie,quotelessJson:AS,ZodError:Un});const Vk=Ql.object({email:Ql.string().email({message:"Invalid Email Address"}),password:Ql.string().min(8,{message:"Password must be at least 8 characters long"})});var Kw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O_=zt.createContext&&zt.createContext(Kw),Lk=["attr","size","title"];function Mk(n,e){if(n==null)return{};var t=jk(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jk(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Dd(){return Dd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dd.apply(this,arguments)}function V_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Od(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(t),!0).forEach(function(r){Uk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Uk(n,e,t){return e=Fk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fk(n){var e=zk(n,"string");return typeof e=="symbol"?e:e+""}function zk(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qw(n){return n&&n.map((e,t)=>zt.createElement(e.tag,Od({key:t},e.attr),Qw(e.child)))}function Zw(n){return e=>zt.createElement(Bk,Dd({attr:Od({},n.attr)},e),Qw(n.child))}function Bk(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=Mk(n,Lk),h=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),zt.createElement("svg",Dd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Od(Od({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&zt.createElement("title",null,a),n.children)};return O_!==void 0?zt.createElement(O_.Consumer,null,t=>e(t)):e(Kw)}function $k(n){return Zw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448zm-176.34-64c-41.49 0-81.5-12.28-118.92-36.5-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58 2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1 204.8 204.8 0 0 1-51.16 6.47zm235.18-145.4c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83 2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1 192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37 34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16 310.72 310.72 0 0 1-64.12 72.73 2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13 343.49 343.49 0 0 0 68.64-78.48 32.2 32.2 0 0 0-.1-34.78z"},child:[]},{tag:"path",attr:{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4 2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160zm-90.22 73.66a2 2 0 0 0-3.38 1 96 96 0 0 0 115 115 2 2 0 0 0 1-3.38z"},child:[]}]})(n)}function qk(n){return Zw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(n)}var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Wk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,v=a>>2,E=(a&3)<<4|h>>4;let I=(h&15)<<2|m>>6,R=m&63;f||(R=64,u||(I=64)),r.push(t[v],t[E],t[I],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Yw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Wk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||m==null||E==null)throw new Hk;const I=a<<2|h>>4;if(r.push(I),m!==64){const R=h<<4&240|m>>2;if(r.push(R),E!==64){const V=m<<6&192|E;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gk=function(n){const e=Yw(n);return Jw.encodeByteArray(e,!0)},Vd=function(n){return Gk(n).replace(/\./g,"")},Xw=function(n){try{return Jw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=()=>Kk().__FIREBASE_DEFAULTS__,Zk=()=>{if(typeof process>"u"||typeof L_>"u")return;const n=L_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Yk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xw(n[1]);return e&&JSON.parse(e)},ih=()=>{try{return Qk()||Zk()||Yk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e0=n=>{var e,t;return(t=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Jk=n=>{const e=e0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},t0=()=>{var n;return(n=ih())===null||n===void 0?void 0:n.config},n0=n=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vd(JSON.stringify(t)),Vd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function nx(){var n;const e=(n=ih())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ix(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ox(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ax(){return!nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lx(){try{return typeof indexedDB=="object"}catch{return!1}}function ux(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="FirebaseError";class Ri extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cx,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?dx(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Ri(s,h,r)}}function dx(n,e){return n.replace(hx,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hx=/\{\$([^}]+)}/g;function fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ld(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(M_(a)&&M_(u)){if(!Ld(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function M_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function $l(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function px(n,e){const t=new mx(n,e);return t.subscribe.bind(t)}class mx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gx(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=op),s.error===void 0&&(s.error=op),s.complete===void 0&&(s.complete=op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){return n&&n._delegate?n._delegate:n}class fo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Xk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vx(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_x(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _x(n){return n===so?void 0:n}function vx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const Ex={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Tx=Ze.INFO,Ix={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Sx=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Ix[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=Tx,this._logHandler=Sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ex[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const kx=(n,e)=>e.some(t=>n instanceof t);let j_,U_;function xx(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ax(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,Sp=new WeakMap,i0=new WeakMap,ap=new WeakMap,cm=new WeakMap;function Cx(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(hs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&r0.set(t,n)}).catch(()=>{}),cm.set(e,n),e}function Rx(n){if(Sp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Sp.set(n,e)}let kp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Px(n){kp=n(kp)}function bx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lp(this),e,...t);return i0.set(r,e.sort?e.sort():[e]),hs(r)}:Ax().includes(n)?function(...e){return n.apply(lp(this),e),hs(r0.get(this))}:function(...e){return hs(n.apply(lp(this),e))}}function Nx(n){return typeof n=="function"?bx(n):(n instanceof IDBTransaction&&Rx(n),kx(n,xx())?new Proxy(n,kp):n)}function hs(n){if(n instanceof IDBRequest)return Cx(n);if(ap.has(n))return ap.get(n);const e=Nx(n);return e!==n&&(ap.set(n,e),cm.set(e,n)),e}const lp=n=>cm.get(n);function Dx(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=hs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(hs(u.result),f.oldVersion,f.newVersion,hs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Ox=["get","getKey","getAll","getAllKeys","count"],Vx=["put","add","delete","clear"],up=new Map;function F_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Vx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ox.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),s&&f.done]))[0]};return up.set(e,a),a}Px(n=>({...n,get:(e,t,r)=>F_(e,t)||n.get(e,t,r),has:(e,t)=>!!F_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mx(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Mx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",z_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new um("@firebase/app"),jx="@firebase/app-compat",Ux="@firebase/analytics-compat",Fx="@firebase/analytics",zx="@firebase/app-check-compat",Bx="@firebase/app-check",$x="@firebase/auth",qx="@firebase/auth-compat",Wx="@firebase/database",Hx="@firebase/data-connect",Gx="@firebase/database-compat",Kx="@firebase/functions",Qx="@firebase/functions-compat",Zx="@firebase/installations",Yx="@firebase/installations-compat",Jx="@firebase/messaging",Xx="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",r2="@firebase/remote-config-compat",i2="@firebase/storage",s2="@firebase/storage-compat",o2="@firebase/firestore",a2="@firebase/vertexai",l2="@firebase/firestore-compat",u2="firebase",c2="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",d2={[xp]:"fire-core",[jx]:"fire-core-compat",[Fx]:"fire-analytics",[Ux]:"fire-analytics-compat",[Bx]:"fire-app-check",[zx]:"fire-app-check-compat",[$x]:"fire-auth",[qx]:"fire-auth-compat",[Wx]:"fire-rtdb",[Hx]:"fire-data-connect",[Gx]:"fire-rtdb-compat",[Kx]:"fire-fn",[Qx]:"fire-fn-compat",[Zx]:"fire-iid",[Yx]:"fire-iid-compat",[Jx]:"fire-fcm",[Xx]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[r2]:"fire-rc-compat",[i2]:"fire-gcs",[s2]:"fire-gcs-compat",[o2]:"fire-fst",[l2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[u2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,h2=new Map,Cp=new Map;function B_(n,e){try{n.container.addComponent(e)}catch(t){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ra(n){const e=n.name;if(Cp.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,n);for(const t of Md.values())B_(t,n);for(const t of h2.values())B_(t,n);return!0}function dm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _i(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Ru("app","Firebase",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=c2;function s0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw fs.create("bad-app-name",{appName:String(s)});if(t||(t=t0()),!t)throw fs.create("no-options");const a=Md.get(s);if(a){if(Ld(t,a.options)&&Ld(r,a.config))return a;throw fs.create("duplicate-app",{appName:s})}const u=new wx(s);for(const f of Cp.values())u.addComponent(f);const h=new p2(t,r,u);return Md.set(s,h),h}function o0(n=Ap){const e=Md.get(n);if(!e&&n===Ap&&t0())return s0();if(!e)throw fs.create("no-app",{appName:n});return e}function ps(n,e,t){var r;let s=(r=d2[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(h.join(" "));return}Ra(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebase-heartbeat-database",g2=1,mu="firebase-heartbeat-store";let cp=null;function a0(){return cp||(cp=Dx(m2,g2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),cp}async function y2(n){try{const t=(await a0()).transaction(mu),r=await t.objectStore(mu).get(l0(n));return await t.done,r}catch(e){if(e instanceof Ri)ki.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(t.message)}}}async function $_(n,e){try{const r=(await a0()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,l0(n)),await r.done}catch(t){if(t instanceof Ri)ki.warn(t.message);else{const r=fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ki.warn(r.message)}}}function l0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1024,v2=30*24*60*60*1e3;class w2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new T2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=v2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:r,unsentEntries:s}=E2(this._heartbeatsCache.heartbeats),a=Vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ki.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function E2(n,e=_2){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),W_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),W_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class T2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lx()?ux().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await y2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function W_(n){return Vd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(n){Ra(new fo("platform-logger",e=>new Lx(e),"PRIVATE")),Ra(new fo("heartbeat",e=>new w2(e),"PRIVATE")),ps(xp,z_,n),ps(xp,z_,"esm2017"),ps("fire-js","")}I2("");function hm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=u0,c0=new Ru("auth","Firebase",u0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new um("@firebase/auth");function k2(n,...e){jd.logLevel<=Ze.WARN&&jd.warn(`Auth (${Ba}): ${n}`,...e)}function hd(n,...e){jd.logLevel<=Ze.ERROR&&jd.error(`Auth (${Ba}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,...e){throw fm(n,...e)}function $r(n,...e){return fm(n,...e)}function d0(n,e,t){const r=Object.assign(Object.assign({},S2()),{[e]:t});return new Ru("auth","Firebase",r).create(e,{appName:n.name})}function ms(n){return d0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return c0.create(n,...e)}function De(n,e,...t){if(!n)throw fm(e,...t)}function vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hd(e),new Error(e)}function xi(n,e){n||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function x2(){return H_()==="http:"||H_()==="https:"}function H_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||ix()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=tx()||sx()}get(){return A2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new bu(3e4,6e4);function Ps(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Pi(n,e,t,r,s={}){return f0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Pu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return rx()||(m.referrerPolicy="no-referrer"),h0.fetch()(p0(n,n.config.apiHost,t,h),m)})}async function f0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},R2),e);try{const s=new N2(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw nd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw nd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw nd(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw d0(n,v,m);Ir(n,v)}}catch(s){if(s instanceof Ri)throw s;Ir(n,"network-request-failed",{message:String(s)})}}async function sh(n,e,t,r,s={}){const a=await Pi(n,e,t,r,s);return"mfaPendingCredential"in a&&Ir(n,"multi-factor-auth-required",{_serverResponse:a}),a}function p0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?pm(n.config,s):`${n.config.apiScheme}://${s}`}function b2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),P2.get())})}}function nd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=$r(n,e,r);return s.customData._tokenResponse=t,s}function G_(n){return n!==void 0&&n.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return b2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O2(n,e){return Pi(n,"GET","/v2/recaptchaConfig",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(n,e){return Pi(n,"POST","/v1/accounts:delete",e)}async function m0(n,e){return Pi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L2(n,e=!1){const t=bn(n),r=await t.getIdToken(e),s=mm(r);De(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Zl(dp(s.auth_time)),issuedAtTime:Zl(dp(s.iat)),expirationTime:Zl(dp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dp(n){return Number(n)*1e3}function mm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Xw(t);return s?JSON.parse(s):(hd("Failed to decode base64 JWT payload"),null)}catch(s){return hd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function K_(n){const e=mm(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ri&&M2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function M2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(n){var e;const t=n.auth,r=await n.getIdToken(),s=await gu(n,m0(t,{idToken:r}));De(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?g0(a.providerUserInfo):[],h=F2(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Pp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function U2(n){const e=bn(n);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F2(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function g0(n){return n.map(e=>{var{providerId:t}=e,r=hm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e){const t=await f0(n,{},async()=>{const r=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=p0(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B2(n,e){return Pi(n,"POST","/v2/accounts:revokeToken",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=K_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await z2(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ea;return r&&(De(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wi{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await gu(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return L2(this,e)}reload(){return U2(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await gu(this,V2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,m,v;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(s=t.email)!==null&&s!==void 0?s:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,V=(u=t.photoURL)!==null&&u!==void 0?u:void 0,F=(h=t.tenantId)!==null&&h!==void 0?h:void 0,j=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,K=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:de,isAnonymous:Te,providerData:Ce,stsTokenManager:D}=t;De(X&&D,e,"internal-error");const k=Ea.fromJSON(this.name,D);De(typeof X=="string",e,"internal-error"),rs(E,e.name),rs(I,e.name),De(typeof de=="boolean",e,"internal-error"),De(typeof Te=="boolean",e,"internal-error"),rs(R,e.name),rs(V,e.name),rs(F,e.name),rs(j,e.name),rs(K,e.name),rs(Z,e.name);const C=new wi({uid:X,auth:e,email:I,emailVerified:de,displayName:E,isAnonymous:Te,photoURL:V,phoneNumber:R,tenantId:F,stsTokenManager:k,createdAt:K,lastLoginAt:Z});return Ce&&Array.isArray(Ce)&&(C.providerData=Ce.map(P=>Object.assign({},P))),j&&(C._redirectEventId=j),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ea;s.updateFromServerResponse(t);const a=new wi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ud(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?g0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Ea;h.updateFromIdToken(r);const f=new wi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function Ei(n){xi(n instanceof Function,"Expected a class definition");let e=Q_.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Q_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}y0.type="NONE";const Z_=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ta{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=fd(this.userKey,s.apiKey,a),this.fullPersistenceKey=fd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ta(Ei(Z_),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Ei(Z_);const u=fd(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){const E=wi._fromJSON(e,v);m!==a&&(h=E),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ta(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ta(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I0(e))return"Blackberry";if(S0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||w0(e))&&!e.includes("edge/"))return"Chrome";if(T0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _0(n=fn()){return/firefox\//i.test(n)}function v0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w0(n=fn()){return/crios\//i.test(n)}function E0(n=fn()){return/iemobile/i.test(n)}function T0(n=fn()){return/android/i.test(n)}function I0(n=fn()){return/blackberry/i.test(n)}function S0(n=fn()){return/webos/i.test(n)}function gm(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $2(n=fn()){var e;return gm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q2(){return ox()&&document.documentMode===10}function k0(n=fn()){return gm(n)||T0(n)||S0(n)||I0(n)||/windows phone/i.test(n)||E0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e=[]){let t;switch(n){case"Browser":t=Y_(fn());break;case"Worker":t=`${Y_(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,e={}){return Pi(n,"GET","/v2/passwordPolicy",Ps(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=6;class K2{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:G2,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await m0(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_i(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(ms(this));const t=e?bn(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H2(this),t=new K2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await B2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&k2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function yo(n){return bn(n)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=px(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z2(n){oh=n}function A0(n){return oh.loadJS(n)}function Y2(){return oh.recaptchaEnterpriseScript}function J2(){return oh.gapiScript}function X2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class eA{constructor(){this.enterprise=new tA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nA="recaptcha-enterprise",C0="NO_RECAPTCHA";class rA{constructor(e){this.type=nA,this.auth=yo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{O2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new D2(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;G_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(C0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&G_(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Y2();f.length!==0&&(f+=h),A0(f).then(()=>{s(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function X_(n,e,t,r=!1,s=!1){const a=new rA(n);let u;if(s)u=C0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bp(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await X_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await X_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n,e){const t=dm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Ld(a,e??{}))return s;Ir(s,"already-initialized")}return t.initialize({options:e})}function sA(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oA(n,e,t){const r=yo(n);De(r._canInitEmulator,r,"emulator-config-failed"),De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=R0(e),{host:u,port:h}=aA(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),lA()}function R0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aA(n){const e=R0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:ev(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:ev(u)}}}function ev(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,t){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function uA(n,e){return Pi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(n,e){return sh(n,"POST","/v1/accounts:signInWithPassword",Ps(n,e))}async function dA(n,e){return Pi(n,"POST","/v1/accounts:sendOobCode",Ps(n,e))}async function hA(n,e){return dA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e){return sh(n,"POST","/v1/accounts:signInWithEmailLink",Ps(n,e))}async function pA(n,e){return sh(n,"POST","/v1/accounts:signInWithEmailLink",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends ym{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new yu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new yu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,t,"signInWithPassword",cA);case"emailLink":return fA(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,r,"signUpPassword",uA);case"emailLink":return pA(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n,e){return sh(n,"POST","/v1/accounts:signInWithIdp",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="http://localhost";class po extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=hm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new po(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ia(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ia(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ia(e,t)}buildRequest(){const e={requestUri:mA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yA(n){const e=Bl($l(n)).link,t=e?Bl($l(e)).deep_link_id:null,r=Bl($l(n)).deep_link_id;return(r?Bl($l(r)).link:null)||r||t||e||n}class _m{constructor(e){var t,r,s,a,u,h;const f=Bl($l(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,E=gA((s=f.mode)!==null&&s!==void 0?s:null);De(m&&v&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=yA(e);try{return new _m(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.providerId=$a.PROVIDER_ID}static credential(e,t){return yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=_m.parseLink(t);return De(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}$a.PROVIDER_ID="password";$a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends P0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Nu{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return po._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return as.credential(t,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Nu{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Nu{constructor(){super("twitter.com")}static credential(e,t){return po._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return us.credential(t,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await wi._fromIdTokenResponse(e,r,s),u=tv(r);return new Pa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=tv(r);return new Pa({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function tv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Ri{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Fd(e,t,r,s)}}function b0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(n,a,e,r):a})}async function _A(n,e,t=!1){const r=await gu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(n,e,t=!1){const{auth:r}=n;if(_i(r.app))return Promise.reject(ms(r));const s="reauthenticate";try{const a=await gu(n,b0(r,s,e,n),t);De(a.idToken,r,"internal-error");const u=mm(a.idToken);De(u,r,"internal-error");const{sub:h}=u;return De(n.uid===h,r,"user-mismatch"),Pa._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ir(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(n,e,t=!1){if(_i(n.app))return Promise.reject(ms(n));const r="signIn",s=await b0(n,r,e),a=await Pa._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function wA(n,e){return N0(yo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n){const e=yo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TA(n,e,t){const r=yo(n);await bp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hA)}function IA(n,e,t){return _i(n.app)?Promise.reject(ms(n)):wA(bn(n),$a.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EA(n),r})}function SA(n,e,t,r){return bn(n).onIdTokenChanged(e,t,r)}function kA(n,e,t){return bn(n).beforeAuthStateChanged(e,t)}const zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=1e3,AA=10;class O0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);q2()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},xA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O0.type="LOCAL";const CA=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}V0.type="SESSION";const L0=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await RA(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=vm("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const I=E;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function bA(n){qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function NA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function OA(){return M0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firebaseLocalStorageDb",VA=1,Bd="firebaseLocalStorage",U0="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lh(n,e){return n.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function LA(){const n=indexedDB.deleteDatabase(j0);return new Du(n).toPromise()}function Np(){const n=indexedDB.open(j0,VA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bd,{keyPath:U0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Bd)?e(r):(r.close(),await LA(),e(await Np()))})})}async function nv(n,e,t){const r=lh(n,!0).put({[U0]:e,value:t});return new Du(r).toPromise()}async function MA(n,e){const t=lh(n,!1).get(e),r=await new Du(t).toPromise();return r===void 0?null:r.value}function rv(n,e){const t=lh(n,!0).delete(e);return new Du(t).toPromise()}const jA=800,UA=3;class F0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>UA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(OA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NA(),!this.activeServiceWorker)return;this.sender=new PA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await nv(e,zd,"1"),await rv(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>MA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=lh(s,!1).getAll();return new Du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F0.type="LOCAL";const FA=F0;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n,e){return e?Ei(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends ym{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BA(n){return N0(n.auth,new wm(n),n.bypassAuthState)}function $A(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),vA(t,new wm(n),n.bypassAuthState)}async function qA(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),_A(t,new wm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BA;case"linkViaPopup":case"linkViaRedirect":return qA;case"reauthViaPopup":case"reauthViaRedirect":return $A;default:Ir(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new bu(2e3,1e4);class va extends z0{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WA.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="pendingRedirect",pd=new Map;class GA extends z0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await KA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KA(n,e){const t=YA(e),r=ZA(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function QA(n,e){pd.set(n._key(),e)}function ZA(n){return Ei(n._redirectPersistence)}function YA(n){return fd(HA,n.config.apiKey,n.name)}async function JA(n,e,t=!1){if(_i(n.app))return Promise.reject(ms(n));const r=yo(n),s=zA(r,e),u=await new GA(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=10*60*1e3;class eC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!B0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($r(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XA&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function B0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(n,e={}){return Pi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iC=/^https?/;async function sC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nC(n);for(const t of e)try{if(oC(t))return}catch{}Ir(n,"unauthorized-domain")}function oC(n){const e=Rp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!iC.test(t))return!1;if(rC.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new bu(3e4,6e4);function sv(){const n=qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lC(n){return new Promise((e,t)=>{var r,s,a;function u(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),t($r(n,"network-request-failed"))},timeout:aC.get()})}if(!((s=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=qr().gapi)===null||a===void 0)&&a.load)u();else{const h=X2("iframefcb");return qr()[h]=()=>{gapi.load?u():t($r(n,"network-request-failed"))},A0(`${J2()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw md=null,e})}let md=null;function uC(n){return md=md||lC(n),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new bu(5e3,15e3),dC="__/auth/iframe",hC="emulator/auth/iframe",fC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mC(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pm(e,hC):`https://${n.config.authDomain}/${dC}`,r={apiKey:e.apiKey,appName:n.name,v:Ba},s=pC.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Pu(r).slice(1)}`}async function gC(n){const e=await uC(n),t=qr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:mC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fC,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=$r(n,"network-request-failed"),h=qr().setTimeout(()=>{a(u)},cC.get());function f(){qr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_C=500,vC=600,wC="_blank",EC="http://localhost";class ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TC(n,e,t,r=_C,s=vC){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},yC),{width:r.toString(),height:s.toString(),top:a,left:u}),m=fn().toLowerCase();t&&(h=w0(m)?wC:t),_0(m)&&(e=e||EC,f.scrollbars="yes");const v=Object.entries(f).reduce((I,[R,V])=>`${I}${R}=${V},`,"");if($2(m)&&h!=="_self")return IC(e||"",h),new ov(null);const E=window.open(e||"",h,v);De(E,n,"popup-blocked");try{E.focus()}catch{}return new ov(E)}function IC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="__/auth/handler",kC="emulator/auth/handler",xC=encodeURIComponent("fac");async function av(n,e,t,r,s,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ba,eventId:s};if(e instanceof P0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",fx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof Nu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${xC}=${encodeURIComponent(f)}`:"";return`${AC(n)}?${Pu(h).slice(1)}${m}`}function AC({config:n}){return n.emulator?pm(n,kC):`https://${n.authDomain}/${SC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class CC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L0,this._completeRedirectFn=JA,this._overrideRedirectResult=QA}async _openPopup(e,t,r,s){var a;xi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await av(e,t,r,Rp(),s);return TC(e,u,vm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await av(e,t,r,Rp(),s);return bA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gC(e),r=new eC(e);return t.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hp,{type:hp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[hp];u!==void 0&&t(!!u),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return k0()||v0()||gm()}}const RC=CC;var lv="@firebase/auth",uv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NC(n){Ra(new fo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(n)},m=new Q2(r,s,a,f);return sA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new fo("auth-internal",e=>{const t=yo(e.getProvider("auth").getImmediate());return(r=>new PC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(lv,uv,bC(n)),ps(lv,uv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=5*60,OC=n0("authIdTokenMaxAge")||DC;let cv=null;const VC=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>OC)return;const s=t==null?void 0:t.token;cv!==s&&(cv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LC(n=o0()){const e=dm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=iA(n,{popupRedirectResolver:RC,persistence:[FA,CA,L0]}),r=n0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=VC(a.toString());kA(t,u,()=>u(t.currentUser)),SA(t,h=>u(h))}}const s=e0("auth");return s&&oA(t,`http://${s}`),t}function MC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Z2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=$r("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",MC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NC("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,$0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function C(){}C.prototype=k.prototype,D.D=k.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(P,M,O){for(var x=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)x[Be-2]=arguments[Be];return k.prototype[M].apply(P,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,k,C){C||(C=0);var P=Array(16);if(typeof k=="string")for(var M=0;16>M;++M)P[M]=k.charCodeAt(C++)|k.charCodeAt(C++)<<8|k.charCodeAt(C++)<<16|k.charCodeAt(C++)<<24;else for(M=0;16>M;++M)P[M]=k[C++]|k[C++]<<8|k[C++]<<16|k[C++]<<24;k=D.g[0],C=D.g[1],M=D.g[2];var O=D.g[3],x=k+(O^C&(M^O))+P[0]+3614090360&4294967295;k=C+(x<<7&4294967295|x>>>25),x=O+(M^k&(C^M))+P[1]+3905402710&4294967295,O=k+(x<<12&4294967295|x>>>20),x=M+(C^O&(k^C))+P[2]+606105819&4294967295,M=O+(x<<17&4294967295|x>>>15),x=C+(k^M&(O^k))+P[3]+3250441966&4294967295,C=M+(x<<22&4294967295|x>>>10),x=k+(O^C&(M^O))+P[4]+4118548399&4294967295,k=C+(x<<7&4294967295|x>>>25),x=O+(M^k&(C^M))+P[5]+1200080426&4294967295,O=k+(x<<12&4294967295|x>>>20),x=M+(C^O&(k^C))+P[6]+2821735955&4294967295,M=O+(x<<17&4294967295|x>>>15),x=C+(k^M&(O^k))+P[7]+4249261313&4294967295,C=M+(x<<22&4294967295|x>>>10),x=k+(O^C&(M^O))+P[8]+1770035416&4294967295,k=C+(x<<7&4294967295|x>>>25),x=O+(M^k&(C^M))+P[9]+2336552879&4294967295,O=k+(x<<12&4294967295|x>>>20),x=M+(C^O&(k^C))+P[10]+4294925233&4294967295,M=O+(x<<17&4294967295|x>>>15),x=C+(k^M&(O^k))+P[11]+2304563134&4294967295,C=M+(x<<22&4294967295|x>>>10),x=k+(O^C&(M^O))+P[12]+1804603682&4294967295,k=C+(x<<7&4294967295|x>>>25),x=O+(M^k&(C^M))+P[13]+4254626195&4294967295,O=k+(x<<12&4294967295|x>>>20),x=M+(C^O&(k^C))+P[14]+2792965006&4294967295,M=O+(x<<17&4294967295|x>>>15),x=C+(k^M&(O^k))+P[15]+1236535329&4294967295,C=M+(x<<22&4294967295|x>>>10),x=k+(M^O&(C^M))+P[1]+4129170786&4294967295,k=C+(x<<5&4294967295|x>>>27),x=O+(C^M&(k^C))+P[6]+3225465664&4294967295,O=k+(x<<9&4294967295|x>>>23),x=M+(k^C&(O^k))+P[11]+643717713&4294967295,M=O+(x<<14&4294967295|x>>>18),x=C+(O^k&(M^O))+P[0]+3921069994&4294967295,C=M+(x<<20&4294967295|x>>>12),x=k+(M^O&(C^M))+P[5]+3593408605&4294967295,k=C+(x<<5&4294967295|x>>>27),x=O+(C^M&(k^C))+P[10]+38016083&4294967295,O=k+(x<<9&4294967295|x>>>23),x=M+(k^C&(O^k))+P[15]+3634488961&4294967295,M=O+(x<<14&4294967295|x>>>18),x=C+(O^k&(M^O))+P[4]+3889429448&4294967295,C=M+(x<<20&4294967295|x>>>12),x=k+(M^O&(C^M))+P[9]+568446438&4294967295,k=C+(x<<5&4294967295|x>>>27),x=O+(C^M&(k^C))+P[14]+3275163606&4294967295,O=k+(x<<9&4294967295|x>>>23),x=M+(k^C&(O^k))+P[3]+4107603335&4294967295,M=O+(x<<14&4294967295|x>>>18),x=C+(O^k&(M^O))+P[8]+1163531501&4294967295,C=M+(x<<20&4294967295|x>>>12),x=k+(M^O&(C^M))+P[13]+2850285829&4294967295,k=C+(x<<5&4294967295|x>>>27),x=O+(C^M&(k^C))+P[2]+4243563512&4294967295,O=k+(x<<9&4294967295|x>>>23),x=M+(k^C&(O^k))+P[7]+1735328473&4294967295,M=O+(x<<14&4294967295|x>>>18),x=C+(O^k&(M^O))+P[12]+2368359562&4294967295,C=M+(x<<20&4294967295|x>>>12),x=k+(C^M^O)+P[5]+4294588738&4294967295,k=C+(x<<4&4294967295|x>>>28),x=O+(k^C^M)+P[8]+2272392833&4294967295,O=k+(x<<11&4294967295|x>>>21),x=M+(O^k^C)+P[11]+1839030562&4294967295,M=O+(x<<16&4294967295|x>>>16),x=C+(M^O^k)+P[14]+4259657740&4294967295,C=M+(x<<23&4294967295|x>>>9),x=k+(C^M^O)+P[1]+2763975236&4294967295,k=C+(x<<4&4294967295|x>>>28),x=O+(k^C^M)+P[4]+1272893353&4294967295,O=k+(x<<11&4294967295|x>>>21),x=M+(O^k^C)+P[7]+4139469664&4294967295,M=O+(x<<16&4294967295|x>>>16),x=C+(M^O^k)+P[10]+3200236656&4294967295,C=M+(x<<23&4294967295|x>>>9),x=k+(C^M^O)+P[13]+681279174&4294967295,k=C+(x<<4&4294967295|x>>>28),x=O+(k^C^M)+P[0]+3936430074&4294967295,O=k+(x<<11&4294967295|x>>>21),x=M+(O^k^C)+P[3]+3572445317&4294967295,M=O+(x<<16&4294967295|x>>>16),x=C+(M^O^k)+P[6]+76029189&4294967295,C=M+(x<<23&4294967295|x>>>9),x=k+(C^M^O)+P[9]+3654602809&4294967295,k=C+(x<<4&4294967295|x>>>28),x=O+(k^C^M)+P[12]+3873151461&4294967295,O=k+(x<<11&4294967295|x>>>21),x=M+(O^k^C)+P[15]+530742520&4294967295,M=O+(x<<16&4294967295|x>>>16),x=C+(M^O^k)+P[2]+3299628645&4294967295,C=M+(x<<23&4294967295|x>>>9),x=k+(M^(C|~O))+P[0]+4096336452&4294967295,k=C+(x<<6&4294967295|x>>>26),x=O+(C^(k|~M))+P[7]+1126891415&4294967295,O=k+(x<<10&4294967295|x>>>22),x=M+(k^(O|~C))+P[14]+2878612391&4294967295,M=O+(x<<15&4294967295|x>>>17),x=C+(O^(M|~k))+P[5]+4237533241&4294967295,C=M+(x<<21&4294967295|x>>>11),x=k+(M^(C|~O))+P[12]+1700485571&4294967295,k=C+(x<<6&4294967295|x>>>26),x=O+(C^(k|~M))+P[3]+2399980690&4294967295,O=k+(x<<10&4294967295|x>>>22),x=M+(k^(O|~C))+P[10]+4293915773&4294967295,M=O+(x<<15&4294967295|x>>>17),x=C+(O^(M|~k))+P[1]+2240044497&4294967295,C=M+(x<<21&4294967295|x>>>11),x=k+(M^(C|~O))+P[8]+1873313359&4294967295,k=C+(x<<6&4294967295|x>>>26),x=O+(C^(k|~M))+P[15]+4264355552&4294967295,O=k+(x<<10&4294967295|x>>>22),x=M+(k^(O|~C))+P[6]+2734768916&4294967295,M=O+(x<<15&4294967295|x>>>17),x=C+(O^(M|~k))+P[13]+1309151649&4294967295,C=M+(x<<21&4294967295|x>>>11),x=k+(M^(C|~O))+P[4]+4149444226&4294967295,k=C+(x<<6&4294967295|x>>>26),x=O+(C^(k|~M))+P[11]+3174756917&4294967295,O=k+(x<<10&4294967295|x>>>22),x=M+(k^(O|~C))+P[2]+718787259&4294967295,M=O+(x<<15&4294967295|x>>>17),x=C+(O^(M|~k))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+O&4294967295}r.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var C=k-this.blockSize,P=this.B,M=this.h,O=0;O<k;){if(M==0)for(;O<=C;)s(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<k;)if(P[M++]=D.charCodeAt(O++),M==this.blockSize){s(this,P),M=0;break}}else for(;O<k;)if(P[M++]=D[O++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=k},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var C=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=C&255,C/=256;for(this.u(D),D=Array(16),k=C=0;4>k;++k)for(var P=0;32>P;P+=8)D[C++]=this.g[k]>>>P&255;return D};function a(D,k){var C=h;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=k(D)}function u(D,k){this.h=k;for(var C=[],P=!0,M=D.length-1;0<=M;M--){var O=D[M]|0;P&&O==k||(C[M]=O,P=!1)}this.g=C}var h={};function f(D){return-128<=D&&128>D?a(D,function(k){return new u([k|0],0>k?-1:0)}):new u([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return j(m(-D));for(var k=[],C=1,P=0;D>=C;P++)k[P]=D/C|0,C*=4294967296;return new u(k,0)}function v(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return j(v(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(k,8)),P=E,M=0;M<D.length;M+=8){var O=Math.min(8,D.length-M),x=parseInt(D.substring(M,M+O),k);8>O?(O=m(Math.pow(k,O)),P=P.j(O).add(m(x))):(P=P.j(C),P=P.add(m(x)))}return P}var E=f(0),I=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(F(this))return-j(this).m();for(var D=0,k=1,C=0;C<this.g.length;C++){var P=this.i(C);D+=(0<=P?P:4294967296+P)*k,k*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(F(this))return"-"+j(this).toString(D);for(var k=m(Math.pow(D,6)),C=this,P="";;){var M=de(C,k).g;C=K(C,M.j(k));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=M,V(C))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function F(D){return D.h==-1}n.l=function(D){return D=K(this,D),F(D)?-1:V(D)?0:1};function j(D){for(var k=D.g.length,C=[],P=0;P<k;P++)C[P]=~D.g[P];return new u(C,~D.h).add(I)}n.abs=function(){return F(this)?j(this):this},n.add=function(D){for(var k=Math.max(this.g.length,D.g.length),C=[],P=0,M=0;M<=k;M++){var O=P+(this.i(M)&65535)+(D.i(M)&65535),x=(O>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);P=x>>>16,O&=65535,x&=65535,C[M]=x<<16|O}return new u(C,C[C.length-1]&-2147483648?-1:0)};function K(D,k){return D.add(j(k))}n.j=function(D){if(V(this)||V(D))return E;if(F(this))return F(D)?j(this).j(j(D)):j(j(this).j(D));if(F(D))return j(this.j(j(D)));if(0>this.l(R)&&0>D.l(R))return m(this.m()*D.m());for(var k=this.g.length+D.g.length,C=[],P=0;P<2*k;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<D.g.length;M++){var O=this.i(P)>>>16,x=this.i(P)&65535,Be=D.i(M)>>>16,st=D.i(M)&65535;C[2*P+2*M]+=x*st,Z(C,2*P+2*M),C[2*P+2*M+1]+=O*st,Z(C,2*P+2*M+1),C[2*P+2*M+1]+=x*Be,Z(C,2*P+2*M+1),C[2*P+2*M+2]+=O*Be,Z(C,2*P+2*M+2)}for(P=0;P<k;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=k;P<2*k;P++)C[P]=0;return new u(C,0)};function Z(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function X(D,k){this.g=D,this.h=k}function de(D,k){if(V(k))throw Error("division by zero");if(V(D))return new X(E,E);if(F(D))return k=de(j(D),k),new X(j(k.g),j(k.h));if(F(k))return k=de(D,j(k)),new X(j(k.g),k.h);if(30<D.g.length){if(F(D)||F(k))throw Error("slowDivide_ only works with positive integers.");for(var C=I,P=k;0>=P.l(D);)C=Te(C),P=Te(P);var M=Ce(C,1),O=Ce(P,1);for(P=Ce(P,2),C=Ce(C,2);!V(P);){var x=O.add(P);0>=x.l(D)&&(M=M.add(C),O=x),P=Ce(P,1),C=Ce(C,1)}return k=K(D,M.j(k)),new X(M,k)}for(M=E;0<=D.l(k);){for(C=Math.max(1,Math.floor(D.m()/k.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=m(C),x=O.j(k);F(x)||0<x.l(D);)C-=P,O=m(C),x=O.j(k);V(O)&&(O=I),M=M.add(O),D=K(D,x)}return new X(M,D)}n.A=function(D){return de(this,D).h},n.and=function(D){for(var k=Math.max(this.g.length,D.g.length),C=[],P=0;P<k;P++)C[P]=this.i(P)&D.i(P);return new u(C,this.h&D.h)},n.or=function(D){for(var k=Math.max(this.g.length,D.g.length),C=[],P=0;P<k;P++)C[P]=this.i(P)|D.i(P);return new u(C,this.h|D.h)},n.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),C=[],P=0;P<k;P++)C[P]=this.i(P)^D.i(P);return new u(C,this.h^D.h)};function Te(D){for(var k=D.g.length+1,C=[],P=0;P<k;P++)C[P]=D.i(P)<<1|D.i(P-1)>>>31;return new u(C,D.h)}function Ce(D,k){var C=k>>5;k%=32;for(var P=D.g.length-C,M=[],O=0;O<P;O++)M[O]=0<k?D.i(O+C)>>>k|D.i(O+C+1)<<32-k:D.i(O+C);return new u(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$0=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,gs=u}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,ql,W0,gd,Dp,H0,G0,K0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var z=c[T];if(!(z in _))break e;_=_[z]}c=c[c.length-1],T=_[c],g=g(T),g!=T&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,T=!1,z={next:function(){if(!T&&_<c.length){var G=_++;return{value:g(G,c[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function E(c,g,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,I.apply(null,arguments)}function R(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function V(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,z,G){for(var le=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)le[ct-2]=arguments[ct];return g.prototype[z].apply(T,le)}}function F(c){const g=c.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=c[T];return _}return[]}function j(c,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(f(T)){const z=c.length||0,G=T.length||0;c.length=z+G;for(let le=0;le<G;le++)c[z+le]=T[le]}else c.push(T)}}class K{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var Te=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Ce(c,g,_){for(const T in c)g.call(_,c[T],T,c)}function D(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function k(c){const g={};for(const _ in c)g[_]=c[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,g){let _,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(_ in T)c[_]=T[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function O(c){h.setTimeout(()=>{throw c},0)}function x(){var c=ke;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Be{constructor(){this.h=this.g=null}add(g,_){const T=st.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var st=new K(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,ae=!1,ke=new Be,fe=()=>{const c=h.Promise.resolve(void 0);$e=()=>{c.then(U)}};var U=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){O(_)}var g=st;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ae=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function qe(c,g){if(xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Te){e:{try{de(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:He[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&qe.aa.h.call(this)}}V(qe,xe);var He={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function ut(c,g,_,T,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=z,this.key=++Je,this.da=this.fa=!1}function bt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fn(c){this.src=c,this.g={},this.h=0}Fn.prototype.add=function(c,g,_,T,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var le=er(c,g,T,z);return-1<le?(g=c[le],_||(g.fa=!1)):(g=new ut(g,this.src,G,!!T,z),g.fa=_,c.push(g)),g};function bi(c,g){var _=g.type;if(_ in c.g){var T=c.g[_],z=Array.prototype.indexOf.call(T,g,void 0),G;(G=0<=z)&&Array.prototype.splice.call(T,z,1),G&&(bt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function er(c,g,_,T){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==T)return z}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),bs={};function Io(c,g,_,T,z){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Io(c,g[G],_,T,z);return null}return _=je(_),c&&c[tt]?c.K(g,_,m(T)?!!T.capture:!1,z):So(c,g,_,!1,T,z)}function So(c,g,_,T,z,G){if(!g)throw Error("Invalid event type");var le=m(z)?!!z.capture:!!z,ct=se(c);if(ct||(c[xr]=ct=new Fn(c)),_=ct.add(g,_,T,le,G),_.proxy)return _;if(T=b(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)Fe||(z=le),z===void 0&&(z=!1),c.addEventListener(g.toString(),T,z);else if(c.attachEvent)c.attachEvent(ce(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function b(){function c(_){return g.call(c.src,c.listener,_)}const g=ue;return c}function W(c,g,_,T,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)W(c,g[G],_,T,z);else T=m(T)?!!T.capture:!!T,_=je(_),c&&c[tt]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],_=er(G,_,T,z),-1<_&&(bt(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=se(c))&&(g=c.g[g.toString()],c=-1,g&&(c=er(g,_,T,z)),(_=-1<c?g[c]:null)&&Q(_))}function Q(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[tt])bi(g.i,c);else{var _=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(_,T,c.capture):g.detachEvent?g.detachEvent(ce(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=se(g))?(bi(_,c),_.h==0&&(_.src=null,g[xr]=null)):bt(c)}}}function ce(c){return c in bs?bs[c]:bs[c]="on"+c}function ue(c,g){if(c.da)c=!0;else{g=new qe(g,this);var _=c.listener,T=c.ha||c.src;c.fa&&Q(c),c=_.call(T,g)}return c}function se(c){return c=c[xr],c instanceof Fn?c:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(c){return typeof c=="function"?c:(c[Ae]||(c[Ae]=function(g){return c.handleEvent(g)}),c[Ae])}function Ge(){Y.call(this),this.i=new Fn(this),this.M=this,this.F=null}V(Ge,Y),Ge.prototype[tt]=!0,Ge.prototype.removeEventListener=function(c,g,_,T){W(this,c,g,_,T)};function Ke(c,g){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new xe(g,c);else if(g instanceof xe)g.target=g.target||c;else{var z=g;g=new xe(T,c),P(g,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var le=g.g=_[G];z=qt(le,T,!0,g)&&z}if(le=g.g=c,z=qt(le,T,!0,g)&&z,z=qt(le,T,!1,g)&&z,_)for(G=0;G<_.length;G++)le=g.g=_[G],z=qt(le,T,!1,g)&&z}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],T=0;T<_.length;T++)bt(_[T]);delete c.g[g],c.h--}}this.F=null},Ge.prototype.K=function(c,g,_,T){return this.i.add(String(c),g,!1,_,T)},Ge.prototype.L=function(c,g,_,T){return this.i.add(String(c),g,!0,_,T)};function qt(c,g,_,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,G=0;G<g.length;++G){var le=g[G];if(le&&!le.da&&le.capture==_){var ct=le.listener,Mt=le.ha||le.src;le.fa&&bi(c.i,le),z=ct.call(Mt,T)!==!1&&z}}return z&&!T.defaultPrevented}function Ns(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function zn(c){c.g=Ns(()=>{c.g=null,c.i&&(c.i=!1,zn(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tr extends Y{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){Y.call(this),this.h=c,this.g={}}V(Xr,Y);var Ni=[];function Ds(c){Ce(c.g,function(g,_){this.g.hasOwnProperty(_)&&Q(g)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Ds(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=h.JSON.stringify,Ka=h.JSON.parse,Qa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Os(){}Os.prototype.h=null;function ko(c){return c.h||(c.h=c.i())}function xo(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){xe.call(this,"d")}V(Ar,xe);function Ao(){xe.call(this,"c")}V(Ao,xe);var Cr={},Za=null;function Vs(){return Za=Za||new Ge}Cr.La="serverreachability";function Ya(c){xe.call(this,Cr.La,c)}V(Ya,xe);function ei(c){const g=Vs();Ke(g,new Ya(g))}Cr.STAT_EVENT="statevent";function Ja(c,g){xe.call(this,Cr.STAT_EVENT,c),this.stat=g}V(Ja,xe);function At(c){const g=Vs();Ke(g,new Ja(g,c))}Cr.Ma="timingevent";function Co(c,g){xe.call(this,Cr.Ma,c),this.size=g}V(Co,xe);function nr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Ls(){this.g=!0}Ls.prototype.xa=function(){this.g=!1};function Ms(c,g,_,T,z,G){c.info(function(){if(c.g)if(G)for(var le="",ct=G.split("&"),Mt=0;Mt<ct.length;Mt++){var nt=ct[Mt].split("=");if(1<nt.length){var Wt=nt[0];nt=nt[1];var Nt=Wt.split("_");le=2<=Nt.length&&Nt[1]=="type"?le+(Wt+"="+nt+"&"):le+(Wt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+g+`
`+_+`
`+le})}function Ro(c,g,_,T,z,G,le){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+g+`
`+_+`
`+G+" "+le})}function rr(c,g,_,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Th(c,_)+(T?" "+T:"")})}function Xa(c,g){c.info(function(){return"TIMEOUT: "+g})}Ls.prototype.info=function(){};function Th(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return Di(_)}catch{return g}}var Po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function js(){}V(js,Os),js.prototype.g=function(){return new XMLHttpRequest},js.prototype.i=function(){return{}},ir=new js;function sr(c,g,_,T){this.j=c,this.i=g,this.l=_,this.R=T||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zu}function zu(){this.i=null,this.g="",this.h=!1}var el={},bo={};function No(c,g,_){c.L=1,c.v=ji(Dn(g)),c.m=_,c.P=!0,tl(c,null)}function tl(c,g){c.F=Date.now(),pt(c),c.A=Dn(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Fi(_.i,"t",T),c.C=0,_=c.j.J,c.h=new zu,c.g=sc(c.j,_?g:null,!c.m),0<c.O&&(c.M=new tr(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,T=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ni[0]=z.toString()),z=Ni);for(var G=0;G<z.length;G++){var le=Io(_,z[G],T||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=c.H?k(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ei(),Ms(c.i,c.u,c.A,c.l,c.R,c.m)}sr.prototype.ca=function(c){c=c.target;const g=this.M;g&&En(c)==3?g.j():this.Y(c)},sr.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=En(this.g);var g=this.g.Ba();const Wn=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||al(this.g)))){this.J||Nt!=4||g==7||(g==8||0>=Wn?ei(3):ei(2)),Us(this);var _=this.g.Z();this.X=_;t:if(Bu(this)){var T=al(this.g);c="";var z=T.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),Oi(this);var le="";break t}this.h.i=new h.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(G&&g==z-1)});T.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Ro(this.i,this.u,this.A,this.l,this.R,Nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Mt=this.g;if((ct=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ct)){var nt=ct;break t}}nt=null}if(_=nt)rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nl(this,_);else{this.o=!1,this.s=3,At(12),$n(this),Oi(this);break e}}if(this.P){_=!0;let Vn;for(;!this.J&&this.C<le.length;)if(Vn=Ih(this,le),Vn==bo){Nt==4&&(this.s=4,At(14),_=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==el){this.s=4,At(15),rr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else rr(this.i,this.l,Vn,null),nl(this,Vn);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||le.length!=0||this.h.h||(this.s=1,At(16),_=!1),this.o=this.o&&_,!_)rr(this.i,this.l,le,"[Invalid Chunked Response]"),$n(this),Oi(this);else if(0<le.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ul(Wt),Wt.M=!0,At(11))}}else rr(this.i,this.l,le,null),nl(this,le);Nt==4&&$n(this),this.o&&!this.J&&(Nt==4?$o(this.j,this):(this.o=!1,pt(this)))}else jo(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),$n(this),Oi(this)}}}catch{}finally{}};function Bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ih(c,g){var _=c.C,T=g.indexOf(`
`,_);return T==-1?bo:(_=Number(g.substring(_,T)),isNaN(_)?el:(T+=1,T+_>g.length?bo:(g=g.slice(T,T+_),c.C=T+_,g)))}sr.prototype.cancel=function(){this.J=!0,$n(this)};function pt(c){c.S=Date.now()+c.I,$u(c,c.I)}function $u(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=nr(I(c.ba,c),g)}function Us(c){c.B&&(h.clearTimeout(c.B),c.B=null)}sr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xa(this.i,this.A),this.L!=2&&(ei(),At(17)),$n(this),this.s=2,Oi(this)):$u(this,this.S-c)};function Oi(c){c.j.G==0||c.J||$o(c.j,c)}function $n(c){Us(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ds(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function nl(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||pn(_.h,c))){if(!c.K&&pn(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Bo(_),cr(_);else break e;zo(_),At(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=nr(I(_.Za,_),6e3));if(1>=Wu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else si(_,11)}else if((c.K||_.g==c)&&Bo(_),!Z(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let nt=z[g];if(_.T=nt[0],nt=nt[1],_.G==2)if(nt[0]=="c"){_.K=nt[1],_.ia=nt[2];const Wt=nt[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));const Nt=nt[4];Nt!=null&&(_.Aa=Nt,_.j.info("SVER="+_.Aa));const Wn=nt[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(T=1.5*Wn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Vn=c.g;if(Vn){const Hs=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var G=T.h;G.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(rl(G,G.h),G.h=null))}if(T.D){const Wo=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(T.ya=Wo,ft(T.I,T.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var le=c;if(T.qa=ic(T,T.J?T.ia:null,T.W),le.K){Hu(T.h,le);var ct=le,Mt=T.L;Mt&&(ct.I=Mt),ct.B&&(Us(ct),pt(ct)),T.g=le}else Ws(T);0<_.i.length&&Nr(_)}else nt[0]!="stop"&&nt[0]!="close"||si(_,7);else _.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?si(_,7):Yt(_):nt[0]!="noop"&&_.l&&_.l.ta(nt),_.v=0)}}ei(4)}catch{}}var qu=class{constructor(c,g){this.g=c,this.map=g}};function Fs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wu(c){return c.h?1:c.g?c.g.size:0}function pn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function rl(c,g){c.g?c.g.add(g):c.h=g}function Hu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Fs.prototype.cancel=function(){if(this.i=Gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Gu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return F(c.i)}function Do(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,T=0;T<_;T++)g.push(c[T]);return g}g=[],_=0;for(T in c)g[_++]=c[T];return g}function Oo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const T in c)g[_++]=T;return g}}}function Vi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Oo(c),T=Do(c),z=T.length,G=0;G<z;G++)g.call(void 0,T[G],_&&_[G],c)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),z=null;if(0<=T){var G=c[_].substring(0,T);z=c[_].substring(T+1)}else G=c[_];g(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ti(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ti){this.h=c.h,Bs(this,c.j),this.o=c.o,this.g=c.g,Li(this,c.s),this.l=c.l;var g=c.i,_=new Rr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Mi(this,_),this.m=c.m}else c&&(g=String(c).match(zs))?(this.h=!1,Bs(this,g[1]||"",!0),this.o=Xe(g[2]||""),this.g=Xe(g[3]||"",!0),Li(this,g[4]),this.l=Xe(g[5]||"",!0),Mi(this,g[6]||"",!0),this.m=Xe(g[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}ti.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ui(g,Vo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ui(g,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ui(_,_.charAt(0)=="/"?Zu:Qu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ui(_,il)),c.join("")};function Dn(c){return new ti(c)}function Bs(c,g,_){c.j=_?Xe(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Li(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Mi(c,g,_){g instanceof Rr?(c.i=g,Pr(c.i,c.h)):(_||(g=Ui(g,Yu)),c.i=new Rr(g,c.h))}function ft(c,g,_){c.i.set(g,_)}function ji(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xe(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ui(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Ku),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Qu=/[#\?:]/g,Zu=/[#\?]/g,Yu=/[#\?@]/g,il=/#/g;function Rr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Zt(c){c.g||(c.g=new Map,c.h=0,c.i&&Sh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Rr.prototype,n.add=function(c,g){Zt(this),this.i=null,c=qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function or(c,g){Zt(c),g=qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ar(c,g){return Zt(c),g=qn(c,g),c.g.has(g)}n.forEach=function(c,g){Zt(this),this.g.forEach(function(_,T){_.forEach(function(z){c.call(g,z,T,this)},this)},this)},n.na=function(){Zt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const z=c[T];for(let G=0;G<z.length;G++)_.push(g[T])}return _},n.V=function(c){Zt(this);let g=[];if(typeof c=="string")ar(this,c)&&(g=g.concat(this.g.get(qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Zt(this),this.i=null,c=qn(this,c),ar(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Fi(c,g,_){or(c,g),0<_.length&&(c.i=null,c.g.set(qn(c,g),F(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const G=encodeURIComponent(String(T)),le=this.V(T);for(T=0;T<le.length;T++){var z=G;le[T]!==""&&(z+="="+encodeURIComponent(String(le[T]))),c.push(z)}}return this.i=c.join("&")};function qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Pr(c,g){g&&!c.j&&(Zt(c),c.i=null,c.g.forEach(function(_,T){var z=T.toLowerCase();T!=z&&(or(this,T),Fi(this,z,_))},c)),c.j=g}function kh(c,g){const _=new Ls;if(h.Image){const T=new Image;T.onload=R(wn,_,"TestLoadImage: loaded",!0,g,T),T.onerror=R(wn,_,"TestLoadImage: error",!1,g,T),T.onabort=R(wn,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=R(wn,_,"TestLoadImage: timeout",!1,g,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Ju(c,g){const _=new Ls,T=new AbortController,z=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(G=>{clearTimeout(z),G.ok?wn(_,"TestPingServer: ok",!0,g):wn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),wn(_,"TestPingServer: error",!1,g)})}function wn(c,g,_,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(_)}catch{}}function xh(){this.g=new Qa}function Xu(c,g,_){const T=_||"";try{Vi(c,function(z,G){let le=z;m(z)&&(le=Di(z)),g.push(T+G+"="+encodeURIComponent(le))})}catch(z){throw g.push(T+"type="+encodeURIComponent("_badmap")),z}}function ni(c){this.l=c.Ub||null,this.j=c.eb||!1}V(ni,Os),ni.prototype.g=function(){return new $s(this.l,this.j)},ni.prototype.i=function(c){return function(){return c}}({});function $s(c,g){Ge.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V($s,Ge),n=$s.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ur(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ec(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ec(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?lr(this):ur(this),this.readyState==3&&ec(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},n.Qa=function(c){this.g&&(this.response=c,lr(this))},n.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ri(c){let g="";return Ce(c,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function zi(c,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=ri(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ft(c,g,_))}function vt(c){Ge.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(vt,Ge);var Ah=/^https?$/i,sl=["POST","PUT"];n=vt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?ko(this.o):ko(ir),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){qs(this,G);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)_.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())_.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sl,g,void 0))||T||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of _)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){qs(this,G)}};function qs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Lo(c),On(c)}function Lo(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ol(this):this.bb())},n.bb=function(){ol(this)};function ol(c){if(c.h&&typeof u<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)Ns(c.Ea,0,c);else if(Ke(c,"readystatechange"),En(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=le===0){var z=String(c.D).match(zs)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),T=!Ah.test(z?z.toLowerCase():"")}_=T}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var G=2<En(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Lo(c)}}finally{On(c)}}}}function On(c,g){if(c.g){Mo(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ke(c,"ready");try{_.onreadystatechange=T}catch{}}}function Mo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ka(g)}};function al(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jo(c){const g={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(Z(c[T]))continue;var _=M(c[T]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[z]||[];g[z]=G,G.push(_)}D(g,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ll(c){this.Aa=0,this.i=[],this.j=new Ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,c),this.cb=br("retryDelaySeedMs",1e4,c),this.Wa=br("forwardChannelMaxRetries",2,c),this.wa=br("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fs(c&&c.concurrentRequestLimit),this.Da=new xh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ll.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,T){At(0),this.W=c,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=ic(this,null,this.W),Nr(this)};function Yt(c){if(Uo(c),c.G==3){var g=c.U++,_=Dn(c.I);if(ft(_,"SID",c.K),ft(_,"RID",g),ft(_,"TYPE","terminate"),ii(c,_),g=new sr(c,c.j,g),g.L=2,g.v=ji(Dn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=sc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),pt(g)}rc(c)}function cr(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Uo(c){cr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Bo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Nr(c){if(!Nn(c.h)&&!c.s){c.s=!0;var g=c.Ga;$e||fe(),ae||($e(),ae=!0),ke.add(g,c),c.B=0}}function Ch(c,g){return Wu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=nr(I(c.Ga,c,g),nc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new sr(this,this.j,c);let G=this.o;if(this.S&&(G?(G=k(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Bi(this,z,g),_=Dn(this.I),ft(_,"RID",c),ft(_,"CVER",22),this.D&&ft(_,"X-HTTP-Session-Id",this.D),ii(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(ri(G)))+"&"+g:this.m&&zi(_,this.m,G)),rl(this.h,z),this.Ua&&ft(_,"TYPE","init"),this.P?(ft(_,"$req",g),ft(_,"SID","null"),z.T=!0,No(z,_,null)):No(z,_,g),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||Nn(this.h)||Fo(this))};function Fo(c,g){var _;g?_=g.l:_=c.U++;const T=Dn(c.I);ft(T,"SID",c.K),ft(T,"RID",_),ft(T,"AID",c.T),ii(c,T),c.m&&c.o&&zi(T,c.m,c.o),_=new sr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Bi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rl(c.h,_),No(_,T,g)}function ii(c,g){c.H&&Ce(c.H,function(_,T){ft(g,T,_)}),c.l&&Vi({},function(_,T){ft(g,T,_)})}function Bi(c,g,_){_=Math.min(c.i.length,_);var T=c.l?I(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const le=["count="+_];G==-1?0<_?(G=z[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let ct=!0;for(let Mt=0;Mt<_;Mt++){let nt=z[Mt].g;const Wt=z[Mt].map;if(nt-=G,0>nt)G=Math.max(0,z[Mt].g-100),ct=!1;else try{Xu(Wt,le,"req"+nt+"_")}catch{T&&T(Wt)}}if(ct){T=le.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,T}function Ws(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;$e||fe(),ae||($e(),ae=!0),ke.add(g,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=nr(I(c.Fa,c),nc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=nr(I(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),cr(this),tc(this))};function ul(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function tc(c){c.g=new sr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Dn(c.qa);ft(g,"RID","rpc"),ft(g,"SID",c.K),ft(g,"AID",c.T),ft(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(g,"TO",c.ja),ft(g,"TYPE","xmlhttp"),ii(c,g),c.m&&c.o&&zi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ji(Dn(g)),_.m=null,_.P=!0,tl(_,c)}n.Za=function(){this.C!=null&&(this.C=null,cr(this),zo(this),At(19))};function Bo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function $o(c,g){var _=null;if(c.g==g){Bo(c),ul(c),c.g=null;var T=2}else if(pn(c.h,g))_=g.D,Hu(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;T=Vs(),Ke(T,new Co(T,_)),Nr(c)}else Ws(c);else if(z=g.s,z==3||z==0&&0<g.X||!(T==1&&Ch(c,g)||T==2&&zo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:si(c,5);break;case 4:si(c,10);break;case 3:si(c,6);break;default:si(c,2)}}}function nc(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function si(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),T=c.Xa;const z=!T;T=new ti(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bs(T,"https"),ji(T),z?kh(T.toString(),_):Ju(T.toString(),_)}else At(2);c.G=0,c.l&&c.l.sa(g),rc(c),Uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const g=Gu(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function ic(c,g,_){var T=_ instanceof ti?Dn(_):new ti(_);if(T.g!="")g&&(T.g=g+"."+T.g),Li(T,T.s);else{var z=h.location;T=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var G=new ti(null);T&&Bs(G,T),g&&(G.g=g),z&&Li(G,z),_&&(G.l=_),T=G}return _=c.D,g=c.ya,_&&g&&ft(T,_,g),ft(T,"VER",c.la),ii(c,T),T}function sc(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new vt(new ni({eb:_})):new vt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cl(){}n=cl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qo(){}qo.prototype.g=function(c,g){return new mn(c,g)};function mn(c,g){Ge.call(this),this.g=new ll(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Dr(this)}V(mn,Ge),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Di(c),c=_);g.i.push(new qu(g.Ya++,c)),g.G==3&&Nr(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)};function oc(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}V(oc,Ar);function ac(){Ao.call(this),this.status=1}V(ac,Ao);function Dr(c){this.g=c}V(Dr,cl),Dr.prototype.ua=function(){Ke(this.g,"a")},Dr.prototype.ta=function(c){Ke(this.g,new oc(c))},Dr.prototype.sa=function(c){Ke(this.g,new ac)},Dr.prototype.ra=function(){Ke(this.g,"b")},qo.prototype.createWebChannel=qo.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,K0=function(){return new qo},G0=function(){return Vs()},H0=Cr,Dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,gd=Po,Fu.COMPLETE="complete",W0=Fu,xo.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,ql=xo,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,q0=vt}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new um("@firebase/firestore");function pa(){return mo.logLevel}function ge(n,...e){if(mo.logLevel<=Ze.DEBUG){const t=e.map(Em);mo.debug(`Firestore (${qa}): ${n}`,...t)}}function Ai(n,...e){if(mo.logLevel<=Ze.ERROR){const t=e.map(Em);mo.error(`Firestore (${qa}): ${n}`,...t)}}function ba(n,...e){if(mo.logLevel<=Ze.WARN){const t=e.map(Em);mo.warn(`Firestore (${qa}): ${n}`,...t)}}function Em(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n="Unexpected state"){const e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function lt(n,e){n||Le()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FC{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ys,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ys)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string"),new Q0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new cn(e)}}class zC{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class BC{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $C{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){lt(this.o===void 0);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new $C(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=WC(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function et(n,e){return n<e?-1:n>e?1:0}function Na(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Bt(0,0))}static max(){return new Me(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t,r){t===void 0?t=0:t>e.length&&Le(),r===void 0?r=e.length-t:r>e.length-t&&Le(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Ur.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ur.isNumericId(e),s=Ur.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class _t extends Ur{construct(e,t,r){return new _t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ur{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return HC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new we(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new we(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new we(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(_t.fromString(e))}static fromName(e){return new Re(_t.fromString(e).popFirst(5))}static empty(){return new Re(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new _t(e.slice()))}}function GC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new Bt(t+1,0):new Bt(t,r));return new Ss(s,Re.empty(),e)}function KC(n){return new Ss(n.readTime,n.key,-1)}class Ss{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ss(Me.min(),Re.empty(),-1)}static max(){return new Ss(Me.max(),Re.empty(),-1)}}function QC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==ZC)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(s=>s?J.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new J((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++h,h===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new J((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function JC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ha(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}uh.oe=-1;function ch(n){return n==null}function $d(n){return n===0&&1/n==-1/0}function XC(n){return typeof n=="number"&&Number.isInteger(n)&&!$d(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fv(e)),e=tR(n.get(t),e);return fv(e)}function tR(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function fv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _o(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Y0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??tn.RED,this.left=s??tn.EMPTY,this.right=a??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new tn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,t,r,s,a){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(e){return new mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new vr([])}unionWith(e){let t=new $t(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new J0("Invalid base64 string: "+a):a}}(e);return new rn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const nR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(lt(!!n),typeof n=="string"){let e=0;const t=nR.exec(n);if(lt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function dh(n){const e=n.mapValue.fields.__previous_value__;return Tm(e)?dh(e):e}function _u(n){const e=ks(n.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,r,s,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class vu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd={mapValue:{}};function As(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tm(n)?4:sR(n)?9007199254740991:iR(n)?10:11:Le()}function Zr(n,e){if(n===e)return!0;const t=As(n);if(t!==As(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _u(n).isEqual(_u(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ks(s.timestampValue),h=ks(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return xs(s.bytesValue).isEqual(xs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Rt(s.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Rt(s.integerValue)===Rt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Rt(s.doubleValue),h=Rt(a.doubleValue);return u===h?$d(u)===$d(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Na(n.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(pv(u)!==pv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Zr(u[f],h[f])))return!1;return!0}(n,e);default:return Le()}}function wu(n,e){return(n.values||[]).find(t=>Zr(t,e))!==void 0}function Da(n,e){if(n===e)return 0;const t=As(n),r=As(e);if(t!==r)return et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Rt(a.integerValue||a.doubleValue),f=Rt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return gv(n.timestampValue,e.timestampValue);case 4:return gv(_u(n),_u(e));case 5:return et(n.stringValue,e.stringValue);case 6:return function(a,u){const h=xs(a),f=xs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=et(h[m],f[m]);if(v!==0)return v}return et(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=et(Rt(a.latitude),Rt(u.latitude));return h!==0?h:et(Rt(a.longitude),Rt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,v;const E=a.fields||{},I=u.fields||{},R=(h=E.value)===null||h===void 0?void 0:h.arrayValue,V=(f=I.value)===null||f===void 0?void 0:f.arrayValue,F=et(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return F!==0?F:yv(R,V)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===sd.mapValue&&u===sd.mapValue)return 0;if(a===sd.mapValue)return 1;if(u===sd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const I=et(f[E],v[E]);if(I!==0)return I;const R=Da(h[f[E]],m[v[E]]);if(R!==0)return R}return et(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Le()}}function gv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);const t=ks(n),r=ks(e),s=et(t.seconds,r.seconds);return s!==0?s:et(t.nanos,r.nanos)}function yv(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Da(t[s],r[s]);if(a)return a}return et(t.length,r.length)}function Oa(n){return Op(n)}function Op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ks(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Op(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Op(t.fields[u])}`;return s+"}"}(n.mapValue):Le()}function yd(n){switch(As(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(n);return e?16+yd(e):16;case 5:return 2*n.stringValue.length;case 6:return xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+yd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return _o(r.fields,(a,u)=>{s+=a.length+yd(u)}),s}(n.mapValue);default:throw Le()}}function _v(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vp(n){return!!n&&"integerValue"in n}function Im(n){return!!n&&"arrayValue"in n}function vv(n){return!!n&&"nullValue"in n}function wv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _d(n){return!!n&&"mapValue"in n}function iR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _o(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(t)}setAll(e){let t=nn.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Yl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());_d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];_d(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){_o(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Xn(Yl(this.value))}}function X0(n){const e=[];return _o(n.fields,(t,r)=>{const s=new nn([t]);if(_d(r)){const a=X0(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new dn(e,0,Me.min(),Me.min(),Me.min(),Xn.empty(),0)}static newFoundDocument(e,t,r,s){return new dn(e,1,t,Me.min(),r,s,0)}static newNoDocument(e,t){return new dn(e,2,t,Me.min(),Me.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Me.min(),Me.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.position=e,this.inclusive=t}}function Ev(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(u.referenceValue),t.key):r=Da(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t="asc"){this.field=e,this.dir=t}}function oR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{}class Lt extends eE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lR(e,t,r):t==="array-contains"?new dR(e,r):t==="in"?new hR(e,r):t==="not-in"?new fR(e,r):t==="array-contains-any"?new pR(e,r):new Lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uR(e,r):new cR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Da(t,this.value)):t!==null&&As(this.value)===As(t)&&this.matchesComparison(Da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends eE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sr(e,t)}matches(e){return tE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tE(n){return n.op==="and"}function nE(n){return aR(n)&&tE(n)}function aR(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function Lp(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+Oa(n.value);if(nE(n))return n.filters.map(e=>Lp(e)).join(",");{const e=n.filters.map(t=>Lp(t)).join(",");return`${n.op}(${e})`}}function rE(n,e){return n instanceof Lt?function(r,s){return s instanceof Lt&&r.op===s.op&&r.field.isEqual(s.field)&&Zr(r.value,s.value)}(n,e):n instanceof Sr?function(r,s){return s instanceof Sr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&rE(u,s.filters[h]),!0):!1}(n,e):void Le()}function iE(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Oa(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(iE).join(" ,")+"}"}(n):"Filter"}class lR extends Lt{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class uR extends Lt{constructor(e,t){super(e,"in",t),this.keys=sE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cR extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=sE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Re.fromName(r.referenceValue))}class dR extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Im(t)&&wu(t.arrayValue,this.value)}}class hR extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class fR extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!wu(this.value.arrayValue,t)}}class pR extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Im(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function Iv(n,e=null,t=[],r=[],s=null,a=null,u=null){return new mR(n,e,t,r,s,a,u)}function Sm(n){const e=Ue(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Lp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oa(r)).join(",")),e.ue=t}return e.ue}function km(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Tv(n.startAt,e.startAt)&&Tv(n.endAt,e.endAt)}function Mp(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gR(n,e,t,r,s,a,u,h){return new Ou(n,e,t,r,s,a,u,h)}function xm(n){return new Ou(n)}function Sv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oE(n){return n.collectionGroup!==null}function Jl(n){const e=Ue(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new $t(nn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Wd(a,r))}),t.has(nn.keyField().canonicalString())||e.ce.push(new Wd(nn.keyField(),r))}return e.ce}function Wr(n){const e=Ue(n);return e.le||(e.le=yR(e,Jl(n))),e.le}function yR(n,e){if(n.limitType==="F")return Iv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Wd(s.field,a)});const t=n.endAt?new qd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qd(n.startAt.position,n.startAt.inclusive):null;return Iv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jp(n,e){const t=n.filters.concat([e]);return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Up(n,e,t){return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hh(n,e){return km(Wr(n),Wr(e))&&n.limitType===e.limitType}function aE(n){return`${Sm(Wr(n))}|lt:${n.limitType}`}function ma(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>iE(s)).join(", ")}]`),ch(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Oa(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Oa(s)).join(",")),`Target(${r})`}(Wr(n))}; limitType=${n.limitType})`}function fh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Jl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const m=Ev(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,Jl(r),s)||r.endAt&&!function(u,h,f){const m=Ev(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,Jl(r),s))}(n,e)}function _R(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lE(n){return(e,t)=>{let r=!1;for(const s of Jl(n)){const a=vR(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function vR(n,e,t){const r=n.field.isKeyField()?Re.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Da(f,m):Le()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new kt(Re.comparator);function Ci(){return wR}const uE=new kt(Re.comparator);function Wl(...n){let e=uE;for(const t of n)e=e.insert(t.key,t);return e}function cE(n){let e=uE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return Xl()}function dE(){return Xl()}function Xl(){return new vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const ER=new kt(Re.comparator),TR=new $t(Re.comparator);function Ye(...n){let e=TR;for(const t of n)e=e.add(t);return e}const IR=new $t(et);function SR(){return IR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function hE(n){return{integerValue:""+n}}function kR(n,e){return XC(e)?hE(e):Am(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function xR(n,e,t){return n instanceof Hd?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Tm(a)&&(a=dh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Eu?pE(n,e):n instanceof Tu?mE(n,e):function(s,a){const u=fE(s,a),h=kv(u)+kv(s.Pe);return Vp(u)&&Vp(s.Pe)?hE(h):Am(s.serializer,h)}(n,e)}function AR(n,e,t){return n instanceof Eu?pE(n,e):n instanceof Tu?mE(n,e):t}function fE(n,e){return n instanceof Gd?function(r){return Vp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Hd extends ph{}class Eu extends ph{constructor(e){super(),this.elements=e}}function pE(n,e){const t=gE(e);for(const r of n.elements)t.some(s=>Zr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Tu extends ph{constructor(e){super(),this.elements=e}}function mE(n,e){let t=gE(e);for(const r of n.elements)t=t.filter(s=>!Zr(s,r));return{arrayValue:{values:t}}}class Gd extends ph{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function kv(n){return Rt(n.integerValue||n.doubleValue)}function gE(n){return Im(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function CR(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Eu&&s instanceof Eu||r instanceof Tu&&s instanceof Tu?Na(r.elements,s.elements,Zr):r instanceof Gd&&s instanceof Gd?Zr(r.Pe,s.Pe):r instanceof Hd&&s instanceof Hd}(n.transform,e.transform)}class RR{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mh{}function yE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vE(n.key,Hr.none()):new Vu(n.key,n.data,Hr.none());{const t=n.data,r=Xn.empty();let s=new $t(nn.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new wo(n.key,r,new vr(s.toArray()),Hr.none())}}function PR(n,e,t){n instanceof Vu?function(s,a,u){const h=s.value.clone(),f=Av(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof wo?function(s,a,u){if(!vd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Av(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(_E(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function eu(n,e,t,r){return n instanceof Vu?function(a,u,h,f){if(!vd(a.precondition,u))return h;const m=a.value.clone(),v=Cv(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof wo?function(a,u,h,f){if(!vd(a.precondition,u))return h;const m=Cv(a.fieldTransforms,f,u),v=u.data;return v.setAll(_E(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(a,u,h){return vd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function bR(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=fE(r.transform,s||null);a!=null&&(t===null&&(t=Xn.empty()),t.set(r.field,a))}return t||null}function xv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Na(r,s,(a,u)=>CR(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vu extends mh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wo extends mh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Av(n,e,t){const r=new Map;lt(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,AR(u,h,t[s]))}return r}function Cv(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,xR(a,u,e))}return r}class vE extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&PR(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=eu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=eu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dE();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=yE(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(t,r)=>xv(t,r))&&Na(this.baseMutations,e.baseMutations,(t,r)=>xv(t,r))}}class Cm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){lt(e.mutations.length===r.length);let s=function(){return ER}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Cm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,rt;function LR(n){switch(n){default:return Le();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function wE(n){if(n===void 0)return Ai("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return Le()}}(rt=Ot||(Ot={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new gs([4294967295,4294967295],0);function Rv(n){const e=MR().encode(n),t=new $0;return t.update(e),new Uint8Array(t.digest())}function Pv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gs([t,r],0),new gs([s,a],0)]}class Rm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hl(`Invalid padding: ${t}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=gs.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(gs.fromNumber(r)));return s.compare(jR)===1&&(s=new gs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Rv(e),[r,s]=Pv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Rm(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=Rv(e),[r,s]=Pv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gh(Me.min(),s,new kt(et),Ci(),Ye())}}class Lu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lu(r,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class EE{constructor(e,t){this.targetId=e,this.me=t}}class TE{constructor(e,t,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class bv{constructor(){this.fe=0,this.ge=Nv(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),t=Ye(),r=Ye();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Le()}}),new Lu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Nv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UR{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ci(),this.qe=od(),this.Qe=od(),this.Ke=new kt(et)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Mp(a))if(r===0){const u=new Re(a.path);this.We(t,u,dn.newNoDocument(u,Me.min()))}else lt(r===1);else{const u=this.Ze(t);if(u!==r){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=xs(r).toUint8Array()}catch(f){if(f instanceof J0)return ba("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Rm(u,s,a)}catch(f){return ba(f instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Be.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&Mp(h.target)){const f=new Re(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,dn.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Ye();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new gh(e,t,this.Ke,this.ke,r);return this.ke=Ci(),this.qe=od(),this.Qe=od(),this.Ke=new kt(et),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new bv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new $t(et),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $t(et),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new bv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function od(){return new kt(Re.comparator)}function Nv(){return new kt(Re.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},zR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class $R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(n,e){return n.useProto3Json||ch(e)?e:{value:e}}function Kd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qR(n,e){return Kd(n,e.toTimestamp())}function Gr(n){return lt(!!n),Me.fromTimestamp(function(t){const r=ks(t);return new Bt(r.seconds,r.nanos)}(n))}function Pm(n,e){return zp(n,e).canonicalString()}function zp(n,e){const t=function(s){return new _t(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function SE(n){const e=_t.fromString(n);return lt(RE(e)),e}function Bp(n,e){return Pm(n.databaseId,e.path)}function fp(n,e){const t=SE(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(xE(t))}function kE(n,e){return Pm(n.databaseId,e)}function WR(n){const e=SE(n);return e.length===4?_t.emptyPath():xE(e)}function $p(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xE(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Dv(n,e,t){return{name:Bp(n,e),fields:t.value.mapValue.fields}}function HR(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(lt(v===void 0||typeof v=="string"),rn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),rn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=m.code===void 0?ee.UNKNOWN:wE(m.code);return new we(v,m.message||"")}(u);t=new TE(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fp(n,r.document.name),a=Gr(r.document.updateTime),u=r.document.createTime?Gr(r.document.createTime):Me.min(),h=new Xn({mapValue:{fields:r.document.fields}}),f=dn.newFoundDocument(s,a,u,h),m=r.targetIds||[],v=r.removedTargetIds||[];t=new wd(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fp(n,r.document),a=r.readTime?Gr(r.readTime):Me.min(),u=dn.newNoDocument(s,a),h=r.removedTargetIds||[];t=new wd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fp(n,r.document),a=r.removedTargetIds||[];t=new wd([],a,s,null)}else{if(!("filter"in e))return Le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new VR(s,a),h=r.targetId;t=new EE(h,u)}}return t}function GR(n,e){let t;if(e instanceof Vu)t={update:Dv(n,e.key,e.value)};else if(e instanceof vE)t={delete:Bp(n,e.key)};else if(e instanceof wo)t={update:Dv(n,e.key,e.data),updateMask:nP(e.fieldMask)};else{if(!(e instanceof NR))return Le();t={verify:Bp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Hd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Eu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Tu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Gd)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Le()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:qR(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le()}(n,e.precondition)),t}function KR(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Gr(s.updateTime):Gr(a);return u.isEqual(Me.min())&&(u=Gr(a)),new RR(u,s.transformResults||[])}(t,e))):[]}function QR(n,e){return{documents:[kE(n,e.path)]}}function ZR(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kE(n,s);const a=function(m){if(m.length!==0)return CE(Sr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(I){return{field:ga(I.field),direction:XR(I.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Fp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:s}}function YR(n){let e=WR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){lt(r===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(E){const I=AE(E);return I instanceof Sr&&nE(I)?I.getFilters():[I]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(I=>function(V){return new Wd(ya(V.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(E){let I;return I=typeof E=="object"?E.value:E,ch(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(E){const I=!!E.before,R=E.values||[];return new qd(R,I)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const I=!E.before,R=E.values||[];return new qd(R,I)}(t.endAt)),gR(e,s,u,a,h,"F",f,m)}function JR(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ya(t.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ya(t.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ya(t.unaryFilter.field);return Lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ya(t.unaryFilter.field);return Lt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(ya(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(r=>AE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le()}}(t.compositeFilter.op))}(n):Le()}function XR(n){return FR[n]}function eP(n){return zR[n]}function tP(n){return BR[n]}function ga(n){return{fieldPath:n.canonicalString()}}function ya(n){return nn.fromServerFormat(n.fieldPath)}function CE(n){return n instanceof Lt?function(t){if(t.op==="=="){if(wv(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NAN"}};if(vv(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wv(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NOT_NAN"}};if(vv(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(t.field),op:eP(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const r=t.getFilters().map(s=>CE(s));return r.length===1?r[0]:{compositeFilter:{op:tP(t.op),filters:r}}}(n):Le()}function nP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t,r,s,a=Me.min(),u=Me.min(),h=rn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.ht=e}}function iP(n){const e=YR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.ln=new oP}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ss.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class oP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new $t(_t.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $t(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Va(0)}static Qn(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv([n,e],[t,r]){const s=et(n,t);return s===0?et(e,r):s}class aP{constructor(e){this.Gn=e,this.buffer=new $t(Vv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Vv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ha(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Wa(t)}await this.Yn(3e5)})}}class uP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return J.resolve(uh.oe);const r=new aP(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ov)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(m=Date.now(),pa()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E})))}}function cP(n,e){return new uP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&eu(r.mutation,s,vr.empty(),Bt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ye()){const s=ao();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Wl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ye()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=Ci();const u=Xl(),h=function(){return Xl()}();return t.forEach((f,m)=>{const v=r.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof wo)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),eu(v.mutation,m,v.mutation.getFieldMask(),Bt.now())):u.set(m.key,vr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var E;return h.set(m,new hP(v,(E=u.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Xl();let s=new kt((u,h)=>u-h),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||vr.empty();v=h.applyToLocalView(m,v),r.set(f,v);const E=(s.get(h.batchId)||Ye()).add(f);s=s.insert(h.batchId,E)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,E=dE();v.forEach(I=>{if(!a.has(I)){const R=yE(t.get(I),r.get(I));R!==null&&E.set(I,R),a=a.add(I)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return J.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):J.resolve(ao());let h=-1,f=a;return u.next(m=>J.forEach(m,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{f=f.insert(v,I)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ye())).next(v=>({batchId:h,changes:cE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(r=>{let s=Wl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Wl();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,f=>{const m=function(E,I){return new Ou(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(v=>{v.forEach((E,I)=>{u=u.insert(E,I)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,dn.newInvalidDocument(v)))});let h=Wl();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&eu(v.mutation,m,vr.empty(),Bt.now()),fh(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Gr(s.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:iP(s.bundledQuery),readTime:Gr(s.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.overlays=new kt(Re.comparator),this.dr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ao();return J.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const s=ao(),a=t.length+1,u=new Re(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new kt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=ao(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=ao(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=s)););return J.resolve(h)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new OR(t,r));let a=this.dr.get(t);a===void 0&&(a=Ye(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Er=new $t(Qt.Ar),this.Rr=new $t(Qt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Qt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Re(new _t([])),r=new Qt(t,e),s=new Qt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new _t([])),r=new Qt(t,e),s=new Qt(t,e+1);let a=Ye();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Qt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||et(e.br,t.br)}static Vr(e,t){return et(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new $t(Qt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new DR(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.vr=this.vr.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),s=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const h=this.Cr(u.br);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $t(et);return t.forEach(s=>{const a=new Qt(s,0),u=new Qt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{r=r.add(h.br)})}),J.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new Re(a),0);let h=new $t(et);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(h=h.add(f.br)),!0)},u),J.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){lt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return J.forEach(t.mutations,s=>{const a=new Qt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new Qt(t,0),s=this.vr.firstAfterOrEqual(r);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.Nr=e,this.docs=function(){return new kt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=Ci();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():dn.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Ci();const u=t.path,h=new Re(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||QC(KC(v),r)<=0||(s.has(v.key)||fh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Le()}Br(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vP(this)}getSize(e){return J.resolve(this.size)}}class vP extends dP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.persistence=e,this.Lr=new vo(t=>Sm(t),km),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new bm,this.targetCount=0,this.Qr=Va.qn()}forEachTarget(e,t){return this.Lr.forEach((r,s)=>t(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Va(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Lr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new uh(0),this.Ur=!1,this.Ur=!0,this.Wr=new gP,this.referenceDelegate=e(this),this.Gr=new wP(this),this.indexManager=new sP,this.remoteDocumentCache=function(s){return new _P(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new rP(t),this.jr=new pP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new yP(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const s=new EP(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return J.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class EP extends YC{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Zr=new bm,this.Xr=null}static ei(e){return new Nm(e)}get ti(){if(this.Xr)return this.Xr;throw Le()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,r=>{const s=Re.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Me.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Qd{constructor(e,t){this.persistence=e,this.ri=new vo(r=>eR(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=cP(this,t)}static ei(e,t){return new Qd(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?J.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,u=>this.ir(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Me.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yd(e.data.value)),t}ir(e,t,r){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Ye(),s=Ye();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Dm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return ax()?8:JC(fn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new TP;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(pa()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ma(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(pa()<=Ze.DEBUG&&ge("QueryEngine","Query:",ma(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(pa()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ma(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):J.resolve())}Xi(e,t){if(Sv(t))return J.resolve(null);let r=Wr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Up(t,null,"F"),r=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ye(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(t,h);return this.ss(t,m,u,f.readTime)?this.Xi(e,Up(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,r,s){return Sv(t)||s.isEqual(Me.min())?J.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?J.resolve(null):(pa()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ma(t)),this.os(e,u,t,GC(s,-1)).next(h=>h))})}rs(e,t){let r=new $t(lE(e));return t.forEach((s,a)=>{fh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return pa()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ma(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ss.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new kt(et),this.cs=new vo(a=>Sm(a),km),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function kP(n,e,t,r){return new SP(n,e,t,r)}async function bE(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Ye();for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:h}))})})}function xP(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,v){const E=m.batch,I=E.keys();let R=J.resolve();return I.forEach(V=>{R=R.next(()=>v.getEntry(f,V)).next(F=>{const j=m.docVersions.get(V);lt(j!==null),F.version.compareTo(j)<0&&(E.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),v.addEntry(F)))})}),R.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ye();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function NE(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function AP(n,e){const t=Ue(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const h=[];e.targetChanges.forEach((v,E)=>{const I=s.get(E);if(!I)return;h.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,E)));let R=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(rn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,r)),s=s.insert(E,R),function(F,j,K){return F.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(I,R,v)&&h.push(t.Gr.updateTargetData(a,R))});let f=Ci(),m=Ye();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(CP(a,u,e.documentUpdates).next(v=>{f=v.Is,m=v.ds})),!r.isEqual(Me.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return J.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=s,a))}function CP(n,e,t){let r=Ye(),s=Ye();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Ci();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Is:u,ds:s}})}function RP(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PP(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new ds(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function qp(n,e,t){const r=Ue(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ha(u))throw u;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Lv(n,e,t){const r=Ue(n);let s=Me.min(),a=Ye();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const E=Ue(f),I=E.cs.get(v);return I!==void 0?J.resolve(E.us.get(I)):E.Gr.getTargetData(m,v)}(r,u,Wr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:Me.min(),t?a:Ye())).next(h=>(bP(r,_R(e),h),{documents:h,Es:a})))}function bP(n,e,t){let r=n.ls.get(e)||Me.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Mv{constructor(){this.activeTargetIds=SR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NP{constructor(){this._o=new Mv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Mv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function pp(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class LP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const h=pp(),f=this.No(t,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,f,s);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(m,a,u),this.Lo(t,f,m,s).then(v=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw ba("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",f,"request:",s),v})}ko(t,r,s,a,u,h){return this.Oo(t,r,s,a,u)}Bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=OP[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,s){const a=pp();return new Promise((u,h)=>{const f=new q0;f.setWithCredentials(!0),f.listenOnce(W0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case gd.NO_ERROR:const v=f.getResponseJson();ge(un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case gd.TIMEOUT:ge(un,`RPC '${e}' ${a} timed out`),h(new we(ee.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const E=f.getStatus();if(ge(un,`RPC '${e}' ${a} failed with status:`,E,"response text:",f.getResponseText()),E>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const V=function(j){const K=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(R.status);h(new we(V,R.message))}else h(new we(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new we(ee.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{ge(un,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);ge(un,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",m,r,15)})}qo(e,t,r){const s=pp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=K0(),h=G0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ge(un,`Creating RPC '${e}' stream ${s}: ${v}`,f);const E=u.createWebChannel(v,f);let I=!1,R=!1;const V=new VP({Eo:j=>{R?ge(un,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(I||(ge(un,`Opening RPC '${e}' stream ${s} transport.`),E.open(),I=!0),ge(un,`RPC '${e}' stream ${s} sending:`,j),E.send(j))},Ao:()=>E.close()}),F=(j,K,Z)=>{j.listen(K,X=>{try{Z(X)}catch(de){setTimeout(()=>{throw de},0)}})};return F(E,ql.EventType.OPEN,()=>{R||(ge(un,`RPC '${e}' stream ${s} transport opened.`),V.So())}),F(E,ql.EventType.CLOSE,()=>{R||(R=!0,ge(un,`RPC '${e}' stream ${s} transport closed`),V.Do())}),F(E,ql.EventType.ERROR,j=>{R||(R=!0,ba(un,`RPC '${e}' stream ${s} transport errored:`,j),V.Do(new we(ee.UNAVAILABLE,"The operation could not be completed")))}),F(E,ql.EventType.MESSAGE,j=>{var K;if(!R){const Z=j.data[0];lt(!!Z);const X=Z,de=(X==null?void 0:X.error)||((K=X[0])===null||K===void 0?void 0:K.error);if(de){ge(un,`RPC '${e}' stream ${s} received error:`,de);const Te=de.status;let Ce=function(C){const P=Ot[C];if(P!==void 0)return wE(P)}(Te),D=de.message;Ce===void 0&&(Ce=ee.INTERNAL,D="Unknown error status: "+Te+" with message "+de.message),R=!0,V.Do(new we(Ce,D)),E.close()}else ge(un,`RPC '${e}' stream ${s} received:`,Z),V.vo(Z)}}),F(h,H0.STAT_EVENT,j=>{j.stat===Dp.PROXY?ge(un,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Dp.NOPROXY&&ge(un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{V.bo()},0),V}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){return new $R(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t,r,s,a,u,h,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new DE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new we(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MP extends OE{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=HR(this.serializer,e),r=function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Gr(u.readTime):Me.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=$p(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Mp(f)?{documents:QR(a,f)}:{query:ZR(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=IE(a,u.resumeToken);const m=Fp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){h.readTime=Kd(a,u.snapshotVersion.toTimestamp());const m=Fp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=JR(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=$p(this.serializer),t.removeTarget=e,this.c_(t)}}class jP extends OE{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=KR(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=$p(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>GR(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,zp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ee.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,zp(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ee.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class FP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ai(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Eo(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Ue(f);m.k_.add(4),await Mu(m),m.K_.set("Unknown"),m.k_.delete(4),await _h(m)}(this))})}),this.K_=new FP(r,s)}}async function _h(n){if(Eo(n))for(const e of n.q_)await e(!0)}async function Mu(n){for(const e of n.q_)await e(!1)}function VE(n,e){const t=Ue(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Mm(t)?Lm(t):Ga(t).s_()&&Vm(t,e))}function Om(n,e){const t=Ue(n),r=Ga(t);t.L_.delete(e),r.s_()&&LE(t,e),t.L_.size===0&&(r.s_()?r.a_():Eo(t)&&t.K_.set("Unknown"))}function Vm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ga(n).V_(e)}function LE(n,e){n.U_.xe(e),Ga(n).m_(e)}function Lm(n){n.U_=new UR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ga(n).start(),n.K_.F_()}function Mm(n){return Eo(n)&&!Ga(n).i_()&&n.L_.size>0}function Eo(n){return Ue(n).k_.size===0}function ME(n){n.U_=void 0}async function BP(n){n.K_.set("Online")}async function $P(n){n.L_.forEach((e,t)=>{Vm(n,e)})}async function qP(n,e){ME(n),Mm(n)?(n.K_.O_(e),Lm(n)):n.K_.set("Unknown")}async function WP(n,e,t){if(n.K_.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.L_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.L_.delete(h),s.U_.removeTarget(h))}(n,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zd(n,r)}else if(e instanceof wd?n.U_.$e(e):e instanceof EE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Me.min()))try{const r=await NE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.L_.get(m);v&&a.L_.set(m,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const v=a.L_.get(f);if(!v)return;a.L_.set(f,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),LE(a,f);const E=new ds(v.target,f,m,v.sequenceNumber);Vm(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Zd(n,r)}}async function Zd(n,e,t){if(!Ha(e))throw e;n.k_.add(1),await Mu(n),n.K_.set("Offline"),t||(t=()=>NE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await _h(n)})}function jE(n,e){return e().catch(t=>Zd(n,t,e))}async function vh(n){const e=Ue(n),t=Cs(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;HP(e);)try{const s=await RP(e.localStore,r);if(s===null){e.B_.length===0&&t.a_();break}r=s.batchId,GP(e,s)}catch(s){await Zd(e,s)}UE(e)&&FE(e)}function HP(n){return Eo(n)&&n.B_.length<10}function GP(n,e){n.B_.push(e);const t=Cs(n);t.s_()&&t.f_&&t.g_(e.mutations)}function UE(n){return Eo(n)&&!Cs(n).i_()&&n.B_.length>0}function FE(n){Cs(n).start()}async function KP(n){Cs(n).w_()}async function QP(n){const e=Cs(n);for(const t of n.B_)e.g_(t.mutations)}async function ZP(n,e,t){const r=n.B_.shift(),s=Cm.from(r,e,t);await jE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await vh(n)}async function YP(n,e){e&&Cs(n).f_&&await async function(r,s){if(function(u){return LR(u)&&u!==ee.ABORTED}(s.code)){const a=r.B_.shift();Cs(r).__(),await jE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await vh(r)}}(n,e),UE(n)&&FE(n)}async function Uv(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Eo(t);t.k_.add(3),await Mu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await _h(t)}async function JP(n,e){const t=Ue(n);e?(t.k_.delete(2),await _h(t)):e||(t.k_.add(2),await Mu(t),t.K_.set("Unknown"))}function Ga(n){return n.W_||(n.W_=function(t,r,s){const a=Ue(t);return a.b_(),new MP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:BP.bind(null,n),mo:$P.bind(null,n),po:qP.bind(null,n),R_:WP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Mm(n)?Lm(n):n.K_.set("Unknown")):(await n.W_.stop(),ME(n))})),n.W_}function Cs(n){return n.G_||(n.G_=function(t,r,s){const a=Ue(t);return a.b_(),new jP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:KP.bind(null,n),po:YP.bind(null,n),p_:QP.bind(null,n),y_:ZP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await vh(n)):(await n.G_.stop(),n.B_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new jm(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),Ha(n))return new we(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static emptySet(e){return new Sa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Re.comparator(t.key,r.key):(t,r)=>Re.comparator(t.key,r.key),this.keyedMap=Wl(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.z_=new kt(Re.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Le():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class La{constructor(e,t,r,s,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new La(e,t,Sa.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class eb{constructor(){this.queries=zv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Ue(t),a=s.queries;s.queries=zv(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(r)})})(this,new we(ee.ABORTED,"Firestore shutting down"))}}function zv(){return new vo(n=>aE(n),hh)}async function zE(n,e){const t=Ue(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new XP,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Um(u,`Initialization of query '${ma(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Fm(t)}async function BE(n,e){const t=Ue(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function tb(n,e){const t=Ue(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(s)&&(r=!0);u.H_=s}}r&&Fm(t)}function nb(n,e,t){const r=Ue(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function Fm(n){n.X_.forEach(e=>{e.next()})}var Wp,Bv;(Bv=Wp||(Wp={})).na="default",Bv.Cache="cache";class $E{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class rb{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ye(),this.mutatedKeys=Ye(),this.Va=lE(e),this.ma=new Sa(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new Fv,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,E)=>{const I=s.get(v),R=fh(this.query,E)?E:null,V=!!I&&this.mutatedKeys.has(I.key),F=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;I&&R?I.data.isEqual(R.data)?V!==F&&(r.track({type:3,doc:R}),j=!0):this.ya(I,R)||(r.track({type:2,doc:R}),j=!0,(f&&this.Va(R,f)>0||m&&this.Va(R,m)<0)&&(h=!0)):!I&&R?(r.track({type:0,doc:R}),j=!0):I&&!R&&(r.track({type:1,doc:I}),j=!0,(f||m)&&(h=!0)),j&&(R?(u=u.add(R),a=F?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,E)=>function(R,V){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return F(R)-F(V)}(v.type,E.type)||this.Va(v.doc,E.doc)),this.wa(r),s=s!=null&&s;const h=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,m=f!==this.Aa;return this.Aa=f,u.length!==0||m?{snapshot:new La(this.query,e.ma,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Fv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ye(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new WE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new qE(r))}),t}va(e){this.Ea=e.Es,this.Ra=Ye();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return La.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ib{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sb{constructor(e){this.key=e,this.Fa=!1}}class ob{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new vo(h=>aE(h),hh),this.Oa=new Map,this.Na=new Set,this.Ba=new kt(Re.comparator),this.La=new Map,this.ka=new bm,this.qa={},this.Qa=new Map,this.Ka=Va.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ab(n,e,t=!0){const r=YE(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await HE(r,e,t,!0),s}async function lb(n,e){const t=YE(n);await HE(t,e,!0,!1)}async function HE(n,e,t,r){const s=await PP(n.localStore,Wr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await ub(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&VE(n.remoteStore,s),h}async function ub(n,e,t,r,s){n.Ua=(E,I,R)=>async function(F,j,K,Z){let X=j.view.ga(K);X.ss&&(X=await Lv(F.localStore,j.query,!1).then(({documents:D})=>j.view.ga(D,X)));const de=Z&&Z.targetChanges.get(j.targetId),Te=Z&&Z.targetMismatches.get(j.targetId)!=null,Ce=j.view.applyChanges(X,F.isPrimaryClient,de,Te);return qv(F,j.targetId,Ce.ba),Ce.snapshot}(n,E,I,R);const a=await Lv(n.localStore,e,!0),u=new rb(e,a.Es),h=u.ga(a.documents),f=Lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(h,n.isPrimaryClient,f);qv(n,t,m.ba);const v=new ib(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function cb(n,e,t){const r=Ue(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!hh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Om(r.remoteStore,s.targetId),Hp(r,s.targetId)}).catch(Wa)):(Hp(r,s.targetId),await qp(r.localStore,s.targetId,!0))}async function db(n,e){const t=Ue(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Om(t.remoteStore,r.targetId))}async function hb(n,e,t){const r=vb(n);try{const s=await function(u,h){const f=Ue(u),m=Bt.now(),v=h.reduce((R,V)=>R.add(V.key),Ye());let E,I;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let V=Ci(),F=Ye();return f.hs.getEntries(R,v).next(j=>{V=j,V.forEach((K,Z)=>{Z.isValidDocument()||(F=F.add(K))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,V)).next(j=>{E=j;const K=[];for(const Z of h){const X=bR(Z,E.get(Z.key).overlayedDocument);X!=null&&K.push(new wo(Z.key,X,X0(X.value.mapValue),Hr.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,K,h)}).next(j=>{I=j;const K=j.applyToLocalDocumentSet(E,F);return f.documentOverlayCache.saveOverlays(R,j.batchId,K)})}).then(()=>({batchId:I.batchId,changes:cE(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let m=u.qa[u.currentUser.toKey()];m||(m=new kt(et)),m=m.insert(h,f),u.qa[u.currentUser.toKey()]=m}(r,s.batchId,t),await ju(r,s.changes),await vh(r.remoteStore)}catch(s){const a=Um(s,"Failed to persist write");t.reject(a)}}async function GE(n,e){const t=Ue(n);try{const r=await AP(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.La.get(a);u&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?lt(u.Fa):s.removedDocuments.size>0&&(lt(u.Fa),u.Fa=!1))}),await ju(t,r,e)}catch(r){await Wa(r)}}function $v(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ue(u);f.onlineState=h;let m=!1;f.queries.forEach((v,E)=>{for(const I of E.J_)I.ea(h)&&(m=!0)}),m&&Fm(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fb(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.La.get(e),a=s&&s.key;if(a){let u=new kt(Re.comparator);u=u.insert(a,dn.newNoDocument(a,Me.min()));const h=Ye().add(a),f=new gh(Me.min(),new Map,new kt(et),u,h);await GE(r,f),r.Ba=r.Ba.remove(a),r.La.delete(e),zm(r)}else await qp(r.localStore,e,!1).then(()=>Hp(r,e,t)).catch(Wa)}async function pb(n,e){const t=Ue(n),r=e.batch.batchId;try{const s=await xP(t.localStore,e);QE(t,r,null),KE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ju(t,s)}catch(s){await Wa(s)}}async function mb(n,e,t){const r=Ue(n);try{const s=await function(u,h){const f=Ue(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next(E=>(lt(E!==null),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);QE(r,e,t),KE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ju(r,s)}catch(s){await Wa(s)}}function KE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function QE(n,e,t){const r=Ue(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Hp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||ZE(n,r)})}function ZE(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Om(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),zm(n))}function qv(n,e,t){for(const r of t)r instanceof qE?(n.ka.addReference(r.key,e),gb(n,r)):r instanceof WE?(ge("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||ZE(n,r.key)):Le()}function gb(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(r),zm(n))}function zm(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Re(_t.fromString(e)),r=n.Ka.next();n.La.set(r,new sb(t)),n.Ba=n.Ba.insert(t,r),VE(n.remoteStore,new ds(Wr(xm(t.path)),r,"TargetPurposeLimboResolution",uh.oe))}}async function ju(n,e,t){const r=Ue(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((h,f)=>{u.push(r.Ua(f,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const E=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){s.push(m);const E=Dm.zi(f.targetId,m);a.push(E)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,m){const v=Ue(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(m,I=>J.forEach(I.Wi,R=>v.persistence.referenceDelegate.addReference(E,I.targetId,R)).next(()=>J.forEach(I.Gi,R=>v.persistence.referenceDelegate.removeReference(E,I.targetId,R)))))}catch(E){if(!Ha(E))throw E;ge("LocalStore","Failed to update sequence numbers: "+E)}for(const E of m){const I=E.targetId;if(!E.fromCache){const R=v.us.get(I),V=R.snapshotVersion,F=R.withLastLimboFreeSnapshotVersion(V);v.us=v.us.insert(I,F)}}}(r.localStore,a))}async function yb(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await bE(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new we(ee.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(t,r.Ts)}}function _b(n,e){const t=Ue(n),r=t.La.get(e);if(r&&r.Fa)return Ye().add(r.key);{let s=Ye();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const h=t.xa.get(u);s=s.unionWith(h.view.fa)}return s}}function YE(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_b.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fb.bind(null,e),e.Ma.R_=tb.bind(null,e.eventManager),e.Ma.Wa=nb.bind(null,e.eventManager),e}function vb(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mb.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return kP(this.persistence,new IP,e.initialUser,this.serializer)}ja(e){return new PE(Nm.ei,this.serializer)}za(e){return new NP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class wb extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){lt(this.persistence.referenceDelegate instanceof Qd);const r=this.persistence.referenceDelegate.garbageCollector;return new lP(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new PE(r=>Qd.ei(r,t),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$v(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yb.bind(null,this.syncEngine),await JP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eb}()}createDatastore(e){const t=yh(e.databaseInfo.databaseId),r=function(a){return new LP(a)}(e.databaseInfo);return function(a,u,h,f){return new UP(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new zP(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>$v(this.syncEngine,t,0),function(){return jv.p()?new jv:new DP}())}createSyncEngine(e,t){return function(s,a,u,h,f,m,v){const E=new ob(s,a,u,h,f,m);return v&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ue(s);ge("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Mu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=Z0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ge("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Um(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gp(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Wv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Tb(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Uv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Uv(e.remoteStore,s)),n._onlineComponents=e}async function Tb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await gp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ba("Error using user provided cache. Falling back to memory cache: "+t),await gp(n,new Yd)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await gp(n,new wb(void 0));return n._offlineComponents}async function XE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Wv(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await Wv(n,new Gp))),n._onlineComponents}function Ib(n){return XE(n).then(e=>e.syncEngine)}async function Kp(n){const e=await XE(n),t=e.eventManager;return t.onListen=ab.bind(null,e.syncEngine),t.onUnlisten=cb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=db.bind(null,e.syncEngine),t}function Sb(n,e,t={}){const r=new ys;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,m){const v=new JE({next:I=>{v.eu(),u.enqueueAndForget(()=>BE(a,E)),I.fromCache&&f.source==="server"?m.reject(new we(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new $E(h,v,{includeMetadataChanges:!0,ua:!0});return zE(a,E)}(await Kp(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n,e,t){if(!t)throw new we(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kb(n,e,t,r){if(e===!0&&r===!0)throw new we(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gv(n){if(!Re.isDocumentKey(n))throw new we(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kv(n){if(Re.isDocumentKey(n))throw new we(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le()}function Ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wh(n);throw new we(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jC;switch(r.type){case"firstParty":return new BC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Hv.get(t);r&&(ge("ComponentProvider","Removing Datastore"),Hv.delete(t),r.terminate())}(this),Promise.resolve()}}function xb(n,e,t,r={}){var s;const a=(n=Ii(n,Eh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=cn.MOCK_USER;else{h=ex(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new we(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new cn(m)}n._authCredentials=new UC(new Q0(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class Pn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class _s extends To{constructor(e,t,r){super(e,t,xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Re(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function go(n,e,...t){if(n=bn(n),tT("collection","path",e),n instanceof Eh){const r=_t.fromString(e,...t);return Kv(r),new _s(n,null,r)}{if(!(n instanceof Pn||n instanceof _s))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return Kv(r),new _s(n.firestore,null,r)}}function nT(n,e,...t){if(n=bn(n),arguments.length===1&&(e=Z0.newId()),tT("doc","path",e),n instanceof Eh){const r=_t.fromString(e,...t);return Gv(r),new Pn(n,null,new Re(r))}{if(!(n instanceof Pn||n instanceof _s))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return Gv(r),new Pn(n.firestore,n instanceof _s?n.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new DE(this,"async_queue_retry"),this.fu=()=>{const r=mp();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new ys;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ha(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=jm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Le()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function Yv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ma extends Eh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Zv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zv(e),this._firestoreClient=void 0,await e}}}function Ab(n,e){const t=typeof n=="object"?n:o0(),r=typeof n=="string"?n:"(default)",s=dm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Jk("firestore");a&&xb(s,...a)}return s}function Bm(n){if(n._terminated)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Cb(n),n._firestoreClient}function Cb(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,m,v){return new rR(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,eT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Eb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(rn.fromBase64String(e))}catch(t){throw new we(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ja(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=/^__.*__$/;class Pb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}function iT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class Hm{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Jd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(iT(this.Mu)&&Rb.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class bb{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yh(e)}$u(e,t,r,s=!1){return new Hm({Mu:e,methodName:t,Ku:r,path:nn.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(n){const e=n._freezeSettings(),t=yh(n._databaseId);return new bb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sT(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);lT("Data must be an object, but it was:",u,r);const h=oT(r,u);let f,m;if(a.merge)f=new vr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const I=Db(e,E,t);if(!u.contains(I))throw new we(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Vb(v,I)||v.push(I)}f=new vr(v),m=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=u.fieldTransforms;return new Pb(new Xn(h),f,m)}function Nb(n,e,t,r=!1){return Km(t,n.$u(r?4:3,e))}function Km(n,e){if(aT(n=bn(n)))return lT("Unsupported field value:",e,n),oT(n,e);if(n instanceof rT)return function(r,s){if(!iT(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=Km(h,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Bt.fromDate(r);return{timestampValue:Kd(s.serializer,a)}}if(r instanceof Bt){const a=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(s.serializer,a)}}if(r instanceof qm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ja)return{bytesValue:IE(s.serializer,r._byteString)};if(r instanceof Pn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Pm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Wm)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return Am(h.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${wh(r)}`)}(n,e)}function oT(n,e){const t={};return Y0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(n,(r,s)=>{const a=Km(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function aT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof qm||n instanceof ja||n instanceof Pn||n instanceof rT||n instanceof Wm)}function lT(n,e,t){if(!aT(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=wh(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function Db(n,e,t){if((e=bn(e))instanceof $m)return e._internalPath;if(typeof e=="string")return uT(n,e);throw Jd("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ob=new RegExp("[~\\*/\\[\\]]");function uT(n,e,t){if(e.search(Ob)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $m(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new we(ee.INVALID_ARGUMENT,h+n+f)}function Vb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Lb extends cT{data(){return super.data()}}function dT(n,e){return typeof e=="string"?uT(n,e):e instanceof $m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qm{}class Mb extends Qm{}function Jv(n,e,...t){let r=[];e instanceof Qm&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof Ym).length,h=a.filter(f=>f instanceof Zm).length;if(u>1||u>0&&h>0)throw new we(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Zm extends Mb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Zm(e,t,r)}_apply(e){const t=this._parse(e);return fT(e._query,t),new To(e.firestore,e.converter,jp(e._query,t))}_parse(e){const t=Gm(e.firestore);return function(a,u,h,f,m,v,E){let I;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ew(E,v);const R=[];for(const V of E)R.push(Xv(f,a,V));I={arrayValue:{values:R}}}else I=Xv(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ew(E,v),I=Nb(h,u,E,v==="in"||v==="not-in");return Lt.create(m,v,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ym extends Qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ym(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)fT(u,f),u=jp(u,f)}(e._query,t),new To(e.firestore,e.converter,jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xv(n,e,t){if(typeof(t=bn(t))=="string"){if(t==="")throw new we(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oE(e)&&t.indexOf("/")!==-1)throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_t.fromString(t));if(!Re.isDocumentKey(r))throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _v(n,new Re(r))}if(t instanceof Pn)return _v(n,t._key);throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(t)}.`)}function ew(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fT(n,e){const t=function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jb{convertValue(e,t="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _o(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Rt(u.doubleValue));return new Wm(a)}convertGeoPoint(e){return new qm(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=ks(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_t.fromString(e);lt(RE(r));const s=new vu(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return s.isEqual(t)||Ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mT extends cT{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ed extends mT{data(e={}){return super.data(e)}}class gT{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ed(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new Ed(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Gl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Ed(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Gl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:Ub(h.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ub(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}class Jm extends jb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function tw(n){n=Ii(n,To);const e=Ii(n.firestore,Ma),t=Bm(e),r=new Jm(e);return hT(n._query),Sb(t,n._query).then(s=>new gT(e,r,n,s))}function Fb(n,e,t){n=Ii(n,Pn);const r=Ii(n.firestore,Ma),s=pT(n.converter,e,t);return yT(r,[sT(Gm(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Hr.none())])}function Qp(n,e){const t=Ii(n.firestore,Ma),r=nT(n),s=pT(n.converter,e);return yT(t,[sT(Gm(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function nw(n,...e){var t,r,s;n=bn(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Yv(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Yv(e[u])){const E=e[u];e[u]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[u+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[u+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let f,m,v;if(n instanceof Pn)m=Ii(n.firestore,Ma),v=xm(n._key.path),f={next:E=>{e[u]&&e[u](zb(m,n,E))},error:e[u+1],complete:e[u+2]};else{const E=Ii(n,To);m=Ii(E.firestore,Ma),v=E._query;const I=new Jm(m);f={next:R=>{e[u]&&e[u](new gT(m,I,E,R))},error:e[u+1],complete:e[u+2]},hT(n._query)}return function(I,R,V,F){const j=new JE(F),K=new $E(R,j,V);return I.asyncQueue.enqueueAndForget(async()=>zE(await Kp(I),K)),()=>{j.eu(),I.asyncQueue.enqueueAndForget(async()=>BE(await Kp(I),K))}}(Bm(m),v,h,f)}function yT(n,e){return function(r,s){const a=new ys;return r.asyncQueue.enqueueAndForget(async()=>hb(await Ib(r),s,a)),a.promise}(Bm(n),e)}function zb(n,e,t){const r=t.docs.get(e._key),s=new Jm(n);return new mT(n,s,e._key,r,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){qa=s})(Ba),Ra(new fo("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ma(new FC(r.getProvider("auth-internal")),new qC(r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new we(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(m.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),ps(hv,"4.7.6",e),ps(hv,"4.7.6","esm2017")})();var Bb="firebase",$b="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(Bb,$b,"app");const qb={apiKey:"AIzaSyBUVBKQxe3x26bqhCoyw1H4IuQEyO2elMw",authDomain:"noveller-fcc59.firebaseapp.com",projectId:"noveller-fcc59",storageBucket:"noveller-fcc59.firebasestorage.app",messagingSenderId:"20928600017",appId:"1:20928600017:web:448def1a77f9e04e3632f0",measurementId:"G-0TFV6CVCYX"},_T=s0(qb),Xd=LC(_T),Rs=Ab(_T),Wb=()=>{const{register:n,handleSubmit:e,watch:t,formState:{errors:r}}=Lw({resolver:xS(Vk)}),[s,a]=$.useState(!1),[u,h]=$.useState(!1),[f,m]=$.useState(!1),v=Su(),[E,I]=$.useState(!1),[R,V]=$.useState(!0),F=t("email",""),j=t("password","");$.useEffect(()=>{const X=F.trim()!==""&&j.trim()!=="";V(!X)},[F,j]);const K=async X=>{try{const{email:de,password:Te}=X;await IA(Xd,de,Te);const Ce=Xd.currentUser,D=(Ce==null?void 0:Ce.uid)||null;if(D){localStorage.setItem("access_token",D),m(D==="QeofcstBl6RZB08Q3OmUpEVmTuy2");const k=nT(Rs,"admin",D);await Fb(k,{uid:D,email:Ce.email,lastLogin:new Date().toISOString()},{merge:!0}),v("/dashboard")}else console.error("Token not found. Authentication failed.");console.log("Login successful and data saved to Firestore.")}catch(de){console.error("Error logging in:",de.code,de.message),h(!0),de.code==="auth/user-not-found"?console.error("No user found with this email."):de.code==="auth/wrong-password"?console.error("Incorrect password."):de.code==="auth/too-many-requests"&&console.error("Too many attempts. Please try again later.")}},Z=()=>{a(X=>!X)};return S.jsxs("div",{children:[S.jsx("p",{className:"text-start ml-9 my-4 font-inter font-[600] text-[42px] leading-[40px] sm:text-[36px] md:text-[40px] lg:text-[42px]",children:"Log in"}),S.jsxs("form",{onSubmit:e(K),className:"space-y-6 p-6 sm:p-4 md:p-6 lg:p-8",children:[S.jsxs("div",{children:[S.jsxs("label",{htmlFor:"email",className:"ml-2 flex items-center font-inter text-[#000000] font-[400] text-[16px] leading-[24px]",children:["Email ",S.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),S.jsx("input",{id:"email",type:"email",placeholder:"Enter email or username",...n("email"),className:"mt-2 w-full sm:h-[44px] sm:w-[300px] md:w-[360px] bg-white text-black placeholder:text-[#D0D5DD] border border-[#D0D5DD] shadow-[0px_1px_2px_0px_#1018280D] rounded-[10px] py-[12px] pl-[14px] focus:outline-none font-[400] text-[16px] leading-[24px]",required:!0,autoComplete:"off"}),r.email&&S.jsx("p",{className:"text-red-500 text-sm",children:r.email.message})]}),S.jsxs("div",{children:[S.jsxs("label",{htmlFor:"password",className:"ml-2 flex items-center font-inter text-[#000000] font-[400] text-[16px] leading-[24px]",children:["Password ",S.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{id:"password",type:s?"text":"password",placeholder:"Enter password",...n("password"),className:"mt-2 w-full sm:h-[44px] sm:w-[300px] md:w-[360px] bg-white text-black placeholder:text-[#D0D5DD] border border-[#D0D5DD] shadow-[0px_1px_2px_0px_#1018280D] rounded-[10px] py-[12px] pl-[14px] focus:outline-none font-[400] text-[16px] leading-[24px]"}),S.jsx("button",{type:"button",className:"w-[20px] h-[20px] absolute top-[55%] lg:right-[-20px] transform -translate-y-[50%] text-[#000] focus:outline-none",onClick:Z,children:s?S.jsx($k,{}):S.jsx(qk,{})})]}),r.password&&S.jsx("p",{className:"text-red-500 text-[16px] mt-2",children:r.password.message}),u&&S.jsx("p",{className:"text-red-500 text-[16px] mt-2 ",children:"Invalid email or password"})]}),S.jsx("div",{className:"flex justify-end -mr-5 items-center text-sm font-inter font-[600] text-[16px] mt-0",children:S.jsx(xu,{to:"/forgot-password",className:"text-[#000000] m-0 p-0",children:"Forgot Password?"})}),S.jsx("button",{type:"submit",className:`w-full sm:w-[370px] py-[13px] px-[14px] rounded-[100px] font-inter 
                        ${R?"bg-[#FFF1B2] text-[#B4B4B4] cursor-not-allowed":"bg-[#FFC600] text-[#000000]"} 
                        font-bold`,disabled:R,children:"Log In"})]})]})},Hb="/assets/Slider-zJHqH-aN.png",vT=()=>S.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[S.jsx("img",{src:Hb,alt:"Background",className:"w-full h-full object-cover md:scale-[1] lg:scale-[1.05] xl:scale-[1]"}),S.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[55%] bg-gradient-to-t from-black via-black to-transparent opacity-75"}),S.jsx("div",{className:"absolute bottom-[10%] left-[5%] sm:left-[8%] md:left-[10%] lg:left-[8%] xl:left-[10%] text-white max-w-lg",children:S.jsx("p",{className:"text-xl font-[600] font-inter text-[22px] leading-[40px] sm:text-[22px] md:text-[26px] lg:text-[28px] xl:text-[32px]",children:"Write details about feature A here."})})]}),Xm="/assets/logo-D0QYRBAy.png",Gb=()=>S.jsxs("div",{className:"w-full h-screen flex flex-col lg:flex-row overflow-hidden",children:[S.jsx("div",{className:"lg:w-1/2 w-full h-full bg-gray-800",children:S.jsx(vT,{})}),S.jsx("div",{className:"lg:w-1/2 w-full h-full flex items-center justify-center px-6 lg:px-20 overflow-y-auto",children:S.jsxs("div",{className:"max-w-md w-full space-y-6",children:[S.jsx("div",{className:"text-center",children:S.jsx("img",{src:Xm,alt:"App Logo",className:"lg:ml-9 sm:mx-auto w-20 lg:w-28 h-20 lg:h-28 sm:w-24 sm:h-24 mb-5 sm:my-8"})}),S.jsx(Wb,{})]})})]}),Kb=Ql.object({email:Ql.string().email("Please enter a valid email address.").nonempty("Email is required.")}),Qb=()=>{const{register:n,handleSubmit:e,formState:{errors:t}}=Lw({resolver:zodResolver(Kb)}),r=Su(),[s,a]=$.useState(!1),u=()=>{a(!0)},h=()=>{a(!1)},f=async m=>{console.log("Form Data: ",m);try{await TA(Xd,m.email),alert("Password reset email sent successfully. Please check your inbox."),r("/")}catch(v){console.error("Error sending password reset email:",v.message),alert("Failed to send password reset email. Please try again.")}};return S.jsxs("div",{children:[S.jsx("p",{className:"text-start ml-9 my-4 font-inter font-[600] text-[28px] leading-[40px]",children:"Forgot Password"}),S.jsx("p",{className:"text-start ml-9 my-1 text-[#8C8C8C] font-inter font-[400] text-[16px] leading-[20px]",children:"Enter your email address, and we'll send you a link to get back into your account."}),S.jsxs("form",{onSubmit:e(f),className:"space-y-6 p-6 md:p-8",children:[S.jsxs("div",{children:[S.jsxs("label",{htmlFor:"email",className:"ml-2 flex items-center font-inter text-[#000000] font-[400] text-[16px] leading-[24px]",children:["Email ",S.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),S.jsx("input",{type:"email",id:"email",placeholder:"Enter email or username",...n("email"),className:`mt-2 w-full sm:h-[44px] sm:w-[360px] bg-white text-black placeholder:text-[#D0D5DD] border border-[#D0D5DD] shadow-[0px_1px_2px_0px_#1018280D] rounded-[10px] 
              py-[12px] px-[14px] focus:outline-none font-[400] text-[16px] leading-[24px]`,autoComplete:"off",onFocus:u,onBlur:h}),t.email&&S.jsx("p",{className:"text-red-500 text-[16px] mt-2",children:t.email.message})]}),S.jsx("button",{className:`w-full ml-1 sm:h-[44px] sm:w-[360px] text-[16px] py-[10px] px-[14px] rounded-[100px] 
                    ${s?"bg-[#FFC600] text-[#000000]":"bg-[#FFF1B2] text-[#B4B4B4]"} 
                    font-bold`,children:"Verify Now"}),S.jsx("br",{}),S.jsx(xu,{to:"/",className:"flex justify-center ml-8 items-center text-sm font-[600] text-[16px] mt-0",children:"Back to Log in"})]})]})},Zb=()=>S.jsxs("div",{className:"w-full h-screen flex flex-col lg:flex-row overflow-hidden",children:[S.jsx("div",{className:"lg:w-1/2 w-full h-full bg-gray-800",children:S.jsx(vT,{})}),S.jsx("div",{className:"lg:w-1/2 w-full h-full flex items-center justify-center px-6 lg:px-20 overflow-y-auto",children:S.jsxs("div",{className:"max-w-md w-full space-y-6",children:[S.jsx("div",{className:"text-center",children:S.jsx("img",{src:Xm,alt:"App Logo",className:"lg:ml-9 sm:mx-auto w-20 lg:w-28 h-20 lg:h-28 sm:w-24 sm:h-24 mb-5 sm:my-8"})}),S.jsx(Qb,{})]})})]}),Ul=({component:n})=>localStorage.getItem("access_token")?S.jsx(n,{}):S.jsx(T1,{to:"/",replace:!0}),rw=[{id:0,title:"Dashboard",route:"/dashboard"},{id:2,title:"Gallery",route:"/gallery"},{id:3,title:"Add Info",route:"/add-info"},{id:4,title:"Get Info",route:"/get-info"}],Yb="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.75%202.25V21.75C9.75%2021.9489%209.85536%2022.1397%2010.0429%2022.2803C10.2304%2022.421%2010.4848%2022.5%2010.75%2022.5C11.0152%2022.5%2011.2696%2022.421%2011.4571%2022.2803C11.6446%2022.1397%2011.75%2021.9489%2011.75%2021.75V2.25C11.75%202.05109%2011.6446%201.86032%2011.4571%201.71967C11.2696%201.57902%2011.0152%201.5%2010.75%201.5C10.4848%201.5%2010.2304%201.57902%2010.0429%201.71967C9.85536%201.86032%209.75%202.05109%209.75%202.25Z'%20fill='white'/%3e%3cpath%20d='M8.25%204H3.75C3.15326%204%202.58097%204.22987%202.15901%204.63904C1.73705%205.04821%201.5%205.60316%201.5%206.18182V17.8182C1.5%2018.3968%201.73705%2018.9518%202.15901%2019.361C2.58097%2019.7701%203.15326%2020%203.75%2020H8.25C8.44891%2020%208.63968%2019.9234%208.78033%2019.787C8.92098%2019.6506%209%2019.4656%209%2019.2727C9%2019.0798%208.92098%2018.8949%208.78033%2018.7585C8.63968%2018.6221%208.44891%2018.5455%208.25%2018.5455H3.75C3.55109%2018.5455%203.36032%2018.4688%203.21967%2018.3324C3.07902%2018.1961%203%2018.0111%203%2017.8182V6.18182C3%205.98893%203.07902%205.80395%203.21967%205.66756C3.36032%205.53117%203.55109%205.45455%203.75%205.45455H8.25C8.44891%205.45455%208.63968%205.37792%208.78033%205.24153C8.92098%205.10514%209%204.92016%209%204.72727C9%204.53439%208.92098%204.3494%208.78033%204.21301C8.63968%204.07662%208.44891%204%208.25%204Z'%20fill='white'/%3e%3cpath%20d='M19.4773%204H12.75V20H19.4773C19.8086%2020.0001%2020.1366%2019.9437%2020.4427%2019.834C20.7487%2019.7243%2021.0267%2019.5635%2021.2608%2019.3607C21.7343%2018.952%2022%2018.3971%2022%2017.8182V6.18182C22.0001%205.8953%2021.9349%205.61157%2021.808%205.34688C21.6812%205.08219%2021.4953%204.84173%2021.2608%204.63927C20.7882%204.22982%2020.1466%204%2019.4773%204Z'%20fill='white'/%3e%3c/svg%3e",Jb="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.25%202.25V21.75C14.25%2021.9489%2014.1446%2022.1397%2013.9571%2022.2803C13.7696%2022.421%2013.5152%2022.5%2013.25%2022.5C12.9848%2022.5%2012.7304%2022.421%2012.5429%2022.2803C12.3554%2022.1397%2012.25%2021.9489%2012.25%2021.75V2.25C12.25%202.05109%2012.3554%201.86032%2012.5429%201.71967C12.7304%201.57902%2012.9848%201.5%2013.25%201.5C13.5152%201.5%2013.7696%201.57902%2013.9571%201.71967C14.1446%201.86032%2014.25%202.05109%2014.25%202.25Z'%20fill='white'/%3e%3cpath%20d='M15.75%204H20.25C20.8467%204%2021.419%204.22987%2021.841%204.63904C22.2629%205.04821%2022.5%205.60316%2022.5%206.18182V17.8182C22.5%2018.3968%2022.2629%2018.9518%2021.841%2019.361C21.419%2019.7701%2020.8467%2020%2020.25%2020H15.75C15.5511%2020%2015.3603%2019.9234%2015.2197%2019.787C15.079%2019.6506%2015%2019.4656%2015%2019.2727C15%2019.0798%2015.079%2018.8949%2015.2197%2018.7585C15.3603%2018.6221%2015.5511%2018.5455%2015.75%2018.5455H20.25C20.4489%2018.5455%2020.6397%2018.4688%2020.7803%2018.3324C20.921%2018.1961%2021%2018.0111%2021%2017.8182V6.18182C21%205.98893%2020.921%205.80395%2020.7803%205.66756C20.6397%205.53117%2020.4489%205.45455%2020.25%205.45455H15.75C15.5511%205.45455%2015.3603%205.37792%2015.2197%205.24153C15.079%205.10514%2015%204.92016%2015%204.72727C15%204.53439%2015.079%204.3494%2015.2197%204.21301C15.3603%204.07662%2015.5511%204%2015.75%204Z'%20fill='white'/%3e%3cpath%20d='M4.52273%204H11.25V20H4.52273C4.19144%2020.0001%203.86338%2019.9437%203.55733%2019.834C3.25128%2019.7243%202.97325%2019.5635%202.73916%2019.3607C2.26573%2018.952%202%2018.3971%202%2017.8182V6.18182C1.99989%205.8953%202.06512%205.61157%202.19195%205.34688C2.31879%205.08219%202.50474%204.84173%202.73916%204.63927C3.21175%204.22982%203.85336%204%204.52273%204Z'%20fill='white'/%3e%3c/svg%3e",Xb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAyNJREFUeJztm7trFUEUxn8nKIIYSXwgJjYq2KQzxiYioiLpfBRaiaCGWIjaaa9YaKWd8YWl/4IQLUQFY0q7dPHRaCTER0Dls7hj4XUf95Izu3ONX7k795zv/HZ27szsrtGCJHUBI8AhYBjoA3pa+a2jFoAp4IKZvaosq6TdkqaUjj5IWuNVX1dJ8eeACWC7V0IHrQX2eQVblndC0knghleiVGVZByUNAc+A5dXaaUkfgW1mNusRLO8WuE56xS/QuCgjXsVnStKOggFoVtKo5yBUt7LGgIM5bT8DO81sOqKfypV1CwzmtL38rxUP2QD6cto+immkLmUBWJXTdj6mkbpUOBFaCvoPoG4DdasjAEjqlbRL0kbv2MkDkHQcmAGeAjOSrkrKnMJ7JZzOmQVujZY038tmSQsZXsa9IKTeA4aBFRnHR4FbHhBSB/Cu4JwbhD+U2C3QJelJweLM9Xb4nTQZAMFPj6SXJRDuqrFv6ZIwKQDBU3UQUgQQfFUDIVUAwVsrEO4sCkLKAKACCKkDgMgQOgEARITQKQAgEoROAgCLh5D7ZMjJ3ErgGnAEcF/KtqFTwE9JZ8xMhS09e4CkmyVXpmqdbvYYezF0LHL8dnWi+UDqq0Fv/dX9YwN4GDl+u3rQfCDqIAhcogG57kEQYBy4V9pKnfk3OFky+LU+F+gkAO7Fh6AdASBK8SFw8gCiFR+CJw0gavEhQbIAtJQ3RCopPiRKDkBlxYdkSQGotPiQMBkAWuoPRiTtiV186qvBDQXnbgNjpRsc7SqxHrBJ0pfo3b4paTIAgp+jkuaCh++SrkQrPiRMCkDw1C1pSNJ679ix9wNcZGbzwGSM2KkPgtH1H0DdBupWFoC8d4K7YxqpS1kA3ue03R/TSF3KApD3Td5FSVtimklCkgYL5t6fJI1JWle3z6iS9LgAQl36KmlC0oBnrXmfzQ0CL0jvyzGAt8CAmc15BMv8GzSzKWDMI0EE9QN7vYLlzgPM7D5wFvjhlcxRvkvgwkyN9/TLtqGr1BtJq73qa2lZqcby8wBwmMYb3P1Ar5eJFvUNeA6cN7PXXkF/AeG8hNrv8+1AAAAAAElFTkSuQmCC",eN=({activeSection:n,setActiveSection:e})=>{const[t,r]=$.useState(()=>{const R=localStorage.getItem("isCollapsed");return R?JSON.parse(R):!1}),[s,a]=$.useState(!1),u=()=>{const R=!t;r(R),localStorage.setItem("isCollapsed",JSON.stringify(R))},h=Jr(),f=Su();$.useEffect(()=>{const R=localStorage.getItem("title"),V=rw.find(F=>F.route===h.pathname);V?(e(V.title),localStorage.setItem("title",V.title)):R&&e(R)},[h,e]);const[m,v]=$.useState(!1),E=()=>{localStorage.removeItem("access_token"),localStorage.clear("title"),f("/")},I=(R,V,F)=>{console.log(R,"title here"),localStorage.setItem("title",R),V===3?s?a(!1):(f(F),a(!0)):f(F)};return S.jsx(S.Fragment,{children:S.jsx("aside",{id:"default-sidebar",className:"top-0 left-0 z-40 h-full bg-black transition-all w-fit","aria-label":"Sidebar",children:S.jsx("div",{className:"max-h-full flex flex-col justify-between items-center text-xs",children:S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{className:`${t?"":"flex justify-between px-9"}`,children:[S.jsx("div",{className:`${t?"hidden":"w-16"} mt-[12px]`,children:S.jsx("img",{src:Xm,alt:""})}),S.jsx("div",{className:"ml-6 cursor-pointer",onClick:u,children:t?S.jsx("img",{src:Jb,alt:"frame-open",className:"mt-4 ml-[-0.5rem]"}):S.jsx("img",{src:Yb,alt:"frame-open",className:"mt-4"})})]}),S.jsx("div",{className:"mt-3 pr-5 pt-5",children:S.jsx("div",{className:"flex flex-col",children:S.jsxs("ul",{className:"space-y-2 text-white",children:[rw.map(R=>S.jsx("li",{className:`flex flex-col cursor-pointer mx-2 ${h.pathname===R.route?"bg-[#1a1a1a] h-10":"bg-transparent"}`,onClick:()=>I(R.title,R.id,R.route),children:S.jsx("div",{className:`relative flex items-center ${t?"py-2 px-2 ml-[-0.5rem]":"mr-9 ml-7 py-2"}`,children:!t&&S.jsx("div",{className:"ml-5 flex-1 font-inter font-[400] text-[16px]",children:R.title})})},R.id)),S.jsxs("li",{className:"flex items-center absolute bottom-4 space-x-4 p-2 cursor-pointer ml-9",onClick:()=>v(!0),children:[S.jsx("img",{src:Xb,alt:"Logout",className:`${t?"-ml-[30px]":"w-6 h-6"}`}),!t&&S.jsx("span",{className:"text-white font-inter font-[400] text-[16px]",children:"Logout"})]}),m&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:S.jsxs("div",{className:"bg-white shadow-lg px-10 sm:px-14 py-6 sm:py-8",children:[S.jsxs("p",{className:"mb-4 text-lg sm:text-xl text-[#19191A] font-medium text-center",children:["Are you sure you want to ",S.jsx("br",{})," logout?"]}),S.jsxs("div",{className:"flex justify-center gap-5 sm:gap-7 pt-4",children:[S.jsx("button",{className:"px-6 sm:px-8 py-2 text-[#19191A] border border-gray-300",onClick:()=>v(!1),children:"No"}),S.jsx("button",{className:"px-6 sm:px-8 py-2 bg-[#ffd200] text-white",onClick:E,children:"Yes"})]})]})})]})})})]})})})})},tN=()=>{const n=Jr(),{name:e}=n.state||{};let t="";switch(n.pathname){case"/dashboard":t="Dashboard";break;case"/gallery":t="Gallery";break;case"/add-images":t="Gallery/ Add Images";break;case"/add-info":t="Add Info";break;case"/get-info":t="Get Info";break;default:t="Default Title";break}return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"w-full bg-white flex items-center justify-between p-1 shadow-md",children:[S.jsx("div",{children:S.jsx("h1",{className:"text-xl text-gray-800 pl-4",children:t})}),S.jsx("h1",{children:"Author: Thritter"})]})})},Uu=({children:n})=>{const e={dashboard:"Dashboard",users:"Users",usersprofile:"Users Profile",games:"Games",shop:"Shop",learn:"Learn",settings:"Settings"};$.useEffect(()=>{localStorage.getItem("title")===null&&(localStorage.setItem("title",e.dashboard),navigate("/dashboard"))},[]);const[t,r]=$.useState(localStorage.getItem("title")||e.dashboard),s={dashboard:"Dashboard",users:"Users",usersprofile:"Users profile",games:"Games",shop:"Shop",learn:"Learn",settings:"Settings"},a=e[t];return S.jsxs("div",{className:"flex flex-row bg-[#f6f6f6] min-h-screen",children:[S.jsx("div",{className:"overflow-y-hidden",children:S.jsx(eN,{activeSection:t,setActiveSection:r})}),S.jsx("div",{className:"flex-grow min-h-screen",children:S.jsxs("div",{className:"bg-white h-full right-0",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx(tN,{titleList:s,title:a}),S.jsx("hr",{})]}),S.jsx("div",{className:"flex flex-col my-2 mx-2 p-2 rounded-md bg-[#fcfdff] h-screen",children:n})]})})]})};function nN({title:n,titleId:e,...t},r){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?$.createElement("title",{id:e},n):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const rN=$.forwardRef(nN);function iN({title:n,titleId:e,...t},r){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?$.createElement("title",{id:e},n):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const sN=$.forwardRef(iN);function oN({title:n,titleId:e,...t},r){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?$.createElement("title",{id:e},n):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const aN=$.forwardRef(oN);function lN({title:n,titleId:e,...t},r){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?$.createElement("title",{id:e},n):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const uN=$.forwardRef(lN),cN=()=>{const n=[{id:1,name:"Total Words",value:"45,320",icon:uN,change:"+12.5%",changeType:"positive"},{id:2,name:"Chapters Written",value:"18",icon:rN,change:"+2",changeType:"positive"},{id:3,name:"Daily Goal",value:"85%",icon:sN,change:"15% to go",changeType:"neutral"},{id:4,name:"Writing Streak",value:"27 days",icon:aN,change:"+3 days",changeType:"positive"}];return S.jsx("div",{className:"min-h-screen overflow-x-auto bg-gray-50 p-4",children:S.jsxs("div",{className:"mx-auto max-w-7xl",children:[S.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Writing Dashboard"}),S.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:n.map(e=>S.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-gray-500",children:e.name}),S.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:e.value}),S.jsx("p",{className:`mt-2 text-sm ${e.changeType==="positive"?"text-green-600":"text-gray-500"}`,children:e.change})]}),S.jsx(e.icon,{className:"h-12 w-12 text-indigo-600","aria-hidden":"true"})]})},e.id))}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Writing Progress"}),S.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:S.jsx("span",{className:"text-gray-500",children:"Chart placeholder"})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Chapters"}),S.jsx("div",{className:"flow-root",children:S.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:[1,2,3,4].map(e=>S.jsx("li",{className:"py-4 hover:bg-gray-50 px-2 rounded",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"font-medium",children:["Chapter ",e]}),S.jsx("p",{className:"text-sm text-gray-500",children:"Last edited 2 days ago"})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("p",{className:"font-medium",children:"1,234 words"}),S.jsx("p",{className:"text-sm text-green-600",children:"Complete"})]})]})},e))})})]})]}),S.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-sm",children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Daily Writing Goal"}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-500",style:{width:"85%"}})}),S.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"850/1000 words written"})]}),S.jsx("button",{className:"ml-4 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors",children:"Update Goal"})]})]})]})})},dN=()=>S.jsx(S.Fragment,{children:S.jsx(cN,{})}),hN=()=>S.jsx("div",{children:S.jsx(Uu,{children:S.jsx(dN,{})})}),fN=()=>{const[n,e]=$.useState(!1),[t,r]=$.useState(!1),[s,a]=$.useState(!1),[u,h]=$.useState({realName:"",nickName:"",role:""}),f=V=>{h({...u,[V.target.name]:V.target.value})},m=async V=>{if(V.preventDefault(),!u.realName||!u.nickName||!u.role){alert("Please fill in all fields");return}try{a(!0),await Qp(go(Rs,"characters"),{realName:u.realName,nickName:u.nickName,role:u.role}),alert("Character added successfully!"),h({realName:"",nickName:"",role:""})}catch(F){console.error("Error adding character: ",F),alert("Failed to add character")}finally{a(!1)}},[v,E]=$.useState({realNameLocation:"",nickNameLocation:"",roleLocation:""}),I=V=>{E({...v,[V.target.name]:V.target.value})},R=async V=>{if(V.preventDefault(),!v.realNameLocation||!v.nickNameLocation||!v.roleLocation){alert("Please fill in all fields");return}try{a(!0),await Qp(go(Rs,"locations"),{realName:v.realNameLocation,nickName:v.nickNameLocation,role:v.roleLocation}),alert("Location added successfully!"),E({realNameLocation:"",nickNameLocation:"",roleLocation:""})}catch(F){console.error("Error adding Location: ",F),alert("Failed to add Location")}finally{a(!1)}};return S.jsxs("div",{className:"flex flex-col h-screen p-6",children:[S.jsxs("div",{className:"space-x-4",children:[S.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md shadow-md hover:bg-blue-600",onClick:()=>e(!0),children:"Add Characters"}),S.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded-md shadow-md hover:bg-green-600",onClick:()=>r(!0),children:"Add Locations"})]}),n&&S.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96 text-center",children:[S.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Characters"}),S.jsx("div",{className:"max-w-lg mx-auto p-6 bg-white shadow-lg rounded-lg mt-10",children:S.jsxs("form",{onSubmit:m,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700",children:"Real Name"}),S.jsx("input",{type:"text",name:"realName",value:u.realName,onChange:f,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter real name"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700",children:"Nickname"}),S.jsx("input",{type:"text",name:"nickName",value:u.nickName,onChange:f,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter nickname"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700",children:"Role"}),S.jsx("input",{type:"text",name:"role",value:u.role,onChange:f,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter role"})]}),S.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition duration-300",disabled:s,children:s?"Adding...":"Add Character"})]})}),S.jsx("button",{className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-full hover:bg-red-600",onClick:()=>e(!1),children:"X"})]})}),t&&S.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96 text-center",children:[S.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Location"}),S.jsx("div",{className:"max-w-lg mx-auto p-6 bg-white shadow-lg rounded-lg mt-10",children:S.jsxs("form",{onSubmit:R,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700",children:"Real Name Location"}),S.jsx("input",{type:"text",name:"realNameLocation",value:v.realNameLocation,onChange:I,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter real name"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700",children:"Nickname Location"}),S.jsx("input",{type:"text",name:"nickNameLocation",value:v.nickNameLocation,onChange:I,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter nickname"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700",children:"Role Location"}),S.jsx("input",{type:"text",name:"roleLocation",value:v.roleLocation,onChange:I,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter role"})]}),S.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition duration-300",disabled:s,children:s?"Adding...":"Add Location"})]})}),S.jsx("button",{className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-full hover:bg-red-600",onClick:()=>r(!1),children:"X"})]})})]})},pN=()=>S.jsx(S.Fragment,{children:S.jsx(fN,{})}),mN=()=>S.jsx("div",{children:S.jsx(Uu,{children:S.jsx(pN,{})})}),gN=()=>{const[n,e]=$.useState([]),[t,r]=$.useState([]);return $.useEffect(()=>{(async()=>{try{const a=await tw(go(Rs,"characters")),u=await tw(go(Rs,"locations")),h=a.docs.map(m=>({id:m.id,...m.data()})),f=u.docs.map(m=>({id:m.id,...m.data()}));e(h),r(f)}catch(a){console.error("Error fetching data: ",a)}})()},[]),S.jsxs("div",{className:"flex flex-col h-screen p-6 bg-gray-100",children:[S.jsx("h1",{className:"text-xl font-bold mb-4",children:"Get Info"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Characters"}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(s=>S.jsxs("div",{className:"p-4 bg-white rounded shadow-md",children:[S.jsx("h3",{className:"font-bold",children:s.nickName}),S.jsx("p",{className:"text-sm",children:s.realName}),S.jsx("p",{className:"text-xs text-gray-500",children:s.role})]},s.id))})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Locations"}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(s=>S.jsxs("div",{className:"p-4 bg-white rounded shadow-md",children:[S.jsx("h3",{className:"font-bold",children:s.nickName}),S.jsx("p",{className:"text-sm",children:s.realName}),S.jsx("p",{className:"text-xs text-gray-500",children:s.role})]},s.id))})]})]})]})},yN=()=>S.jsx(S.Fragment,{children:S.jsx(gN,{})}),_N=()=>S.jsx("div",{children:S.jsx(Uu,{children:S.jsx(yN,{})})}),vN=()=>{const[n,e]=$.useState([]),[t,r]=$.useState(""),[s,a]=$.useState([]),[u,h]=$.useState(null),[f,m]=$.useState(null),v="QeofcstBl6RZB08Q3OmUpEVmTuy2";$.useEffect(()=>{const I=Xd.onAuthStateChanged(R=>{m(R?R.uid:null)});return()=>I()},[]),$.useEffect(()=>{if(f!==v)return;const I=Jv(go(Rs,"gallery-images")),R=nw(I,V=>{const F=V.docs.map(K=>({id:K.id,...K.data()})),j=[...new Set(F.map(K=>K.imageTitle.trim()))];e(j)});return()=>R()},[f]);const E=I=>{if(f!==v)return;r(I);const R=Jv(go(Rs,"gallery-images"));nw(R,V=>{const F=V.docs.map(j=>({id:j.id,...j.data()})).filter(j=>j.imageTitle.trim()===I);a(F)})};return f!==v?S.jsx("p",{className:"text-red-500 text-center mt-10",children:"You do not have access to this data."}):S.jsxs("div",{className:"min-h-screen overflow-x-auto bg-gray-50 p-4",children:[S.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Gallery"}),S.jsx(xu,{to:"/add-images",className:"mb-4 inline-block bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600",children:"Add Images"}),S.jsx("div",{className:"mt-4",children:S.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map((I,R)=>S.jsx("button",{onClick:()=>E(I),className:"bg-gray-200 p-2 rounded-md cursor-pointer hover:bg-gray-300",children:I},R))})}),t&&S.jsx("div",{className:"mt-6",children:S.jsx("div",{className:"grid grid-cols-3 gap-4 mt-2",children:s.map(I=>S.jsx("img",{src:I.imageUrl,alt:I.imageTitle,className:"w-full h-40 object-cover rounded-md cursor-pointer",onClick:()=>h(I.imageUrl)},I.id))})}),u&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center",onClick:()=>h(null),children:S.jsx("img",{src:u,alt:"Full Screen",className:"max-w-full max-h-full rounded-md"})})]})},wN=()=>S.jsx(S.Fragment,{children:S.jsx(vN,{})}),EN=()=>S.jsx("div",{children:S.jsx(Uu,{children:S.jsx(wN,{})})});function cs(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function h(v){try{m(r.next(v))}catch(E){u(E)}}function f(v){try{m(r.throw(v))}catch(E){u(E)}}function m(v){v.done?a(v.value):s(v.value).then(h,f)}m((r=r.apply(n,[])).next())})}class en extends Error{constructor(e,t=0,r="",s=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=s}}class yi{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"17.0.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const s=new URLSearchParams;s.set("project",this.config.project),this.realtime.channels.forEach(u=>{s.append("channels[]",u)});const a=this.config.endpointRealtime+"/realtime?"+s.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",u=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",u=>{var h,f,m;if(!this.realtime.reconnect||((f=(h=this.realtime)===null||h===void 0?void 0:h.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((m=this.realtime)===null||m===void 0?void 0:m.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const v=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${v/1e3} seconds.`,u.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},v)}))},onMessage:e=>{var t,r;try{const s=JSON.parse(e.data);switch(this.realtime.lastMessage=s,s.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),u=a==null?void 0:a[`a_session_${this.config.project}`],h=s.data;u&&!h.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:u}})));break;case"event":let f=s.data;if(f!=null&&f.channels){if(!f.channels.some(v=>this.realtime.channels.has(v)))return;this.realtime.subscriptions.forEach(v=>{f.channels.some(E=>v.channels.includes(E))&&setTimeout(()=>v.callback(f))})}break;case"pong":break;case"error":throw s.data;default:break}}catch(s){console.error(s)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([s,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const s=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(s,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(s),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},s={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const u=window.localStorage.getItem("cookieFallback");u&&(r["X-Fallback-Cookies"]=u)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[u,h]of Object.entries(yi.flatten(s)))t.searchParams.append(u,h);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(s);break;case"multipart/form-data":const u=new FormData;for(const[h,f]of Object.entries(s))if(f instanceof File)u.append(h,f,f.name);else if(Array.isArray(f))for(const m of f)u.append(`${h}[]`,m);else u.append(h,f);a.body=u,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},s={},a){return cs(this,void 0,void 0,function*(){const u=Object.values(s).find(m=>m instanceof File);if(u.size<=yi.CHUNK_SIZE)return yield this.call(e,t,r,s);let h=0,f=null;for(;h<u.size;){let m=h+yi.CHUNK_SIZE;m>=u.size&&(m=u.size),r["content-range"]=`bytes ${h}-${m-1}/${u.size}`;const v=u.slice(h,m);let E=Object.assign(Object.assign({},s),{file:new File([v],u.name)});f=yield this.call(e,t,r,E),a&&typeof a=="function"&&a({$id:f.$id,progress:Math.round(m/u.size*100),sizeUploaded:m,chunksTotal:Math.ceil(u.size/yi.CHUNK_SIZE),chunksUploaded:Math.ceil(m/yi.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),h=m}return f})}ping(){return cs(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},s={},a="json"){var u;return cs(this,void 0,void 0,function*(){const{uri:h,options:f}=this.prepareRequest(e,t,r,s);let m=null;const v=yield fetch(h,f),E=v.headers.get("x-appwrite-warning");if(E&&E.split(";").forEach(R=>console.warn("Warning: "+R)),!((u=v.headers.get("content-type"))===null||u===void 0)&&u.includes("application/json")?m=yield v.json():a==="arrayBuffer"?m=yield v.arrayBuffer():m={message:yield v.text()},400<=v.status)throw new en(m==null?void 0:m.message,v.status,m==null?void 0:m.type,m);const I=v.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&I&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",I)),m})}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let u=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),yi.flatten(a,u)):r[u]=a}return r}}yi.CHUNK_SIZE=1024*1024*5;class ka{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let u=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),ka.flatten(a,u)):r[u]=a}return r}}ka.CHUNK_SIZE=5*1024*1024;class TN{constructor(e){this.client=e}listFiles(e,t,r){return cs(this,void 0,void 0,function*(){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');const s="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const u=new URL(this.client.config.endpoint+s),h={"content-type":"application/json"};return yield this.client.call("get",u,h,a)})}createFile(e,t,r,s,a=u=>{}){return cs(this,void 0,void 0,function*(){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');if(typeof t>"u")throw new en('Missing required parameter: "fileId"');if(typeof r>"u")throw new en('Missing required parameter: "file"');const u="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),h={};typeof t<"u"&&(h.fileId=t),typeof r<"u"&&(h.file=r),typeof s<"u"&&(h.permissions=s);const f=new URL(this.client.config.endpoint+u),m={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,m,h,a)})}getFile(e,t){return cs(this,void 0,void 0,function*(){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');if(typeof t>"u")throw new en('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),u={"content-type":"application/json"};return yield this.client.call("get",a,u,s)})}updateFile(e,t,r,s){return cs(this,void 0,void 0,function*(){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');if(typeof t>"u")throw new en('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),u={};typeof r<"u"&&(u.name=r),typeof s<"u"&&(u.permissions=s);const h=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("put",h,f,u)})}deleteFile(e,t){return cs(this,void 0,void 0,function*(){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');if(typeof t>"u")throw new en('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),u={"content-type":"application/json"};return yield this.client.call("delete",a,u,s)})}getFileDownload(e,t){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');if(typeof t>"u")throw new en('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[u,h]of Object.entries(ka.flatten(s)))a.searchParams.append(u,h);return s.project=this.client.config.project,a.toString()}getFilePreview(e,t,r,s,a,u,h,f,m,v,E,I,R){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');if(typeof t>"u")throw new en('Missing required parameter: "fileId"');const V="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),F={};typeof r<"u"&&(F.width=r),typeof s<"u"&&(F.height=s),typeof a<"u"&&(F.gravity=a),typeof u<"u"&&(F.quality=u),typeof h<"u"&&(F.borderWidth=h),typeof f<"u"&&(F.borderColor=f),typeof m<"u"&&(F.borderRadius=m),typeof v<"u"&&(F.opacity=v),typeof E<"u"&&(F.rotation=E),typeof I<"u"&&(F.background=I),typeof R<"u"&&(F.output=R);const j=new URL(this.client.config.endpoint+V);F.project=this.client.config.project;for(const[K,Z]of Object.entries(ka.flatten(F)))j.searchParams.append(K,Z);return F.project=this.client.config.project,j.toString()}getFileView(e,t){if(typeof e>"u")throw new en('Missing required parameter: "bucketId"');if(typeof t>"u")throw new en('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[u,h]of Object.entries(ka.flatten(s)))a.searchParams.append(u,h);return s.project=this.client.config.project,a.toString()}}var iw;(function(n){n.Totp="totp"})(iw||(iw={}));var sw;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(sw||(sw={}));var ow;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(ow||(ow={}));var aw;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(aw||(aw={}));var lw;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(lw||(lw={}));var uw;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(uw||(uw={}));var cw;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(cw||(cw={}));var dw;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(dw||(dw={}));var hw;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Heic="heic",n.Avif="avif"})(hw||(hw={}));const wT=new yi;wT.setEndpoint("https://cloud.appwrite.io/v1").setProject("67acd8ab002061939f7d");const fw=new TN(wT),IN=()=>{const[n,e]=$.useState(null),[t,r]=$.useState(""),[s,a]=$.useState(""),[u,h]=$.useState(!1),f=E=>{e(E.target.files[0])},m=E=>{a(E.target.value)},v=async E=>{if(E.preventDefault(),!n||!s)return alert("Please enter a title and select a file!");try{h(!0);const R=(await fw.createFile("67acd98e000f1bb7a628","unique()",n)).$id,V=fw.getFilePreview("67acd98e000f1bb7a628",R);r(V),await Qp(go(Rs,"gallery-images"),{imageTitle:s,imageUrl:V,createdAt:new Date}),alert("Image uploaded and saved successfully!")}catch(I){console.error("Upload failed:",I),alert("Upload failed! Check console for details.")}finally{h(!1)}};return S.jsx("div",{className:"min-h-screen flex flex-col items-center bg-white p-4",children:S.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Image"}),S.jsxs("form",{onSubmit:v,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image Title"}),S.jsx("input",{type:"text",className:"mt-1 p-2 w-full border rounded-md",placeholder:"Enter the title",value:s,onChange:m})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image File"}),S.jsx("input",{type:"file",onChange:f,className:"mt-1 p-2 w-full border rounded-md"})]}),S.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600",disabled:u,children:u?"uploading...":"Upload"})]}),t&&S.jsxs("div",{className:"mt-4",children:[S.jsx("h3",{className:"text-lg font-medium",children:"Uploaded Image"}),S.jsxs("p",{className:"text-sm mt-2 text-gray-600",children:["Image URL: ",S.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500",children:t})]})]})]})})},SN=()=>S.jsx(S.Fragment,{children:S.jsx(IN,{})}),kN=()=>S.jsx("div",{children:S.jsx(Uu,{children:S.jsx(SN,{})})}),xN=()=>S.jsx(K1,{children:S.jsxs(S1,{children:[S.jsx(is,{path:"/",element:S.jsx(Gb,{})}),S.jsx(is,{path:"/forgot-password",element:S.jsx(Zb,{})}),S.jsx(is,{path:"/dashboard",element:S.jsx(Ul,{component:hN})}),S.jsx(is,{path:"/add-info",element:S.jsx(Ul,{component:mN})}),S.jsx(is,{path:"/get-info",element:S.jsx(Ul,{component:_N})}),S.jsx(is,{path:"/gallery",element:S.jsx(Ul,{component:EN})}),S.jsx(is,{path:"/add-images",element:S.jsx(Ul,{component:kN})})]})}),AN=$.createContext(),CN=({children:n})=>{const[e,t]=$.useState(()=>localStorage.getItem("selectedLanguage")||null);return $.useEffect(()=>{e&&localStorage.setItem("selectedLanguage",e)},[e]),S.jsx(AN.Provider,{value:{selectedLanguage:e,setSelectedLanguage:t},children:n})};DI.createRoot(document.getElementById("root")).render(S.jsx(CN,{children:S.jsx($.StrictMode,{children:S.jsx(xN,{})})}));
